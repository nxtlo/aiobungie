<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 10.0.3"/>
    <title>aiobungie.internal.factory API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}td.linenos pre{color:#ff5555;background-color:#282a36;padding-left:5px;padding-right:5px;}span.linenos{color:#ff5555;background-color:#282a36;padding-left:5px;padding-right:5px;}td.linenos pre.special{color:#ff5555;background-color:#ffffc0;padding-left:5px;padding-right:5px;}span.linenos.special{color:#ff5555;background-color:#ffffc0;padding-left:5px;padding-right:5px;}.pdoc-code .hll{background-color:#282a36;}.pdoc-code{background:#282a36;color:#ff5555;}.pdoc-code .c{color:#6a7aaa;}.pdoc-code .err{color:#ff5555;background-color:#1e0010;}.pdoc-code .k{color:#ff79c6;}.pdoc-code .l{color:#ae81ff;}.pdoc-code .n{color:#f8f8f2;}.pdoc-code .o{color:#ff79c6;}.pdoc-code .p{color:#f8f8f2;}.pdoc-code .ch{color:#6a7aaa;}.pdoc-code .cm{color:#6a7aaa;}.pdoc-code .cp{color:#6a7aaa;}.pdoc-code .cpf{color:#6a7aaa;}.pdoc-code .c1{color:#6a7aaa;}.pdoc-code .cs{color:#6a7aaa;}.pdoc-code .gd{color:#6a7aaa;}.pdoc-code .ge{font-style:italic;}.pdoc-code .gi{color:#a6e22e;}.pdoc-code .go{color:#ff79c6;}.pdoc-code .gp{color:#f92672;font-weight:bold;}.pdoc-code .gs{font-weight:bold;}.pdoc-code .gu{color:#75715e;}.pdoc-code .kc{color:#ff79c6;}.pdoc-code .kd{color:#bd93f9;}.pdoc-code .kn{color:#ff79c6;}.pdoc-code .kp{color:#bd93f9;}.pdoc-code .kr{color:#ff79c6;}.pdoc-code .kt{color:#ff79c6;}.pdoc-code .ld{color:#e6db74;}.pdoc-code .m{color:#ae81ff;}.pdoc-code .s{color:#e6db74;}.pdoc-code .na{color:#a6e22e;}.pdoc-code .nb{color:#8be9fd;}.pdoc-code .nc{color:#8be9fd;}.pdoc-code .no{color:#ff79c6;}.pdoc-code .nd{color:#8be9fd;}.pdoc-code .ni{color:#ff79c6;}.pdoc-code .ne{color:#8be9fd;}.pdoc-code .nf{color:#50fa7b;}.pdoc-code .nl{color:#f8f8f2;}.pdoc-code .nn{color:#f8f8f2;}.pdoc-code .nx{color:#a6e22e;}.pdoc-code .py{color:#f8f8f2;}.pdoc-code .nt{color:#f92672;}.pdoc-code .nv{color:#f8f8f2;}.pdoc-code .ow{color:#ff79c6;}.pdoc-code .w{color:#f8f8f2;}.pdoc-code .mb{color:#ae81ff;}.pdoc-code .mf{color:#ae81ff;}.pdoc-code .mh{color:#ae81ff;}.pdoc-code .mi{color:#ae81ff;}.pdoc-code .mo{color:#ae81ff;}.pdoc-code .sa{color:#ff79c6;}.pdoc-code .sb{color:#e6db74;}.pdoc-code .sc{color:#e6db74;}.pdoc-code .dl{color:#e6db74;}.pdoc-code .sd{color:#6272a4;}.pdoc-code .s2{color:#e6db74;}.pdoc-code .se{color:#ae81ff;}.pdoc-code .sh{color:#e6db74;}.pdoc-code .si{color:#bd93f9;}.pdoc-code .sx{color:#e6db74;}.pdoc-code .sr{color:#e6db74;}.pdoc-code .s1{color:#e6db74;}.pdoc-code .ss{color:#e6db74;}.pdoc-code .bp{color:#bd93f9;}.pdoc-code .fm{color:#bd93f9;}.pdoc-code .vc{color:#bd93f9;}.pdoc-code .vg{color:#f8f8f2;}.pdoc-code .vi{color:#ffffff;}.pdoc-code .vm{color:#bd93f9;}.pdoc-code .il{color:#ae81ff;}.pdoc-code .nd{color:#50fa7b;}</style>
    <style>/*! theme.css */:root{--pdoc-background:#272935; }.pdoc{--text:white; --muted:#9d9d9d; --link:#bd93f9; --link-hover:white; --active:#555; --code:#232627; --accent:#232627; --accent2:#FFF; }</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc section{margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{filter:opacity(1);}.pdoc details:not([open]){height:0;}.pdoc details > summary{position:absolute;top:-35px;right:0;font-size:.75rem;color:var(--muted);padding:0 .7em;user-select:none;cursor:pointer;}.pdoc details > summary:focus{outline:0;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:2.5rem;}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;user-select:none;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:.5rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */*{font-family:SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}.pdoc .il{color:#ae81ff}nav.pdoc a.pdoc-button.module-list-button{display:none;}.pdoc .modulename a:hover{color:#ff79c6;}.pdoc .classattr{color:#FFF;}.pdoc p{color:#FFF;font-weight:300;}.pdoc li.code{color:#d63384;}.pdoc h2{color:#FFF;font-weight:0;margin:.3em 0;padding:.2em 0;content:"Module Content";}.pdoc h5{color:white;font-style:italic;}.pdoc .modulename{color:#FFF;font-weight:0;}nav.pdoc a.variable::before{content:"var ";color:#9d9d9d;font-style:italic;}nav.pdoc .function::before{content:"func ";color:#9d9d9d;font-style:italic;}nav.pdoc .function::after{content:"";color:#9d9d9d;}nav.pdoc .class::before{content:"class ";font-style:italic;}nav.pdoc .class::after{content:"";}nav.pdoc a.class{color:#8be9fd;}nav.pdoc a.class:hover{color:#fff;}nav.pdoc a::before{content:"module ";font-style:italic;color:#9d9d9d;}nav.pdoc a.function{color:#4dec75;}nav.pdoc a.variable{color:white;}nav.pdoc li a{color:#bd93f9;}.pdoc span.default_value{color:#e6db74;}.pdoc span.def{font-weight:normal;}.pdoc h6#attributes{color:#FFF;font-size:25px;}.pdoc h6#example{color:#FFF;font-size:29px;}.pdoc h6#notes{font-size:27px;color:orange;}.pdoc h6#returns{font-size:27px;color:white;}.pdoc h6#parameters{font-size:27px;color:white;}.pdoc h6#raises{font-size:27px;color:#FF6666;}.pdoc .kc{color:#bd93f9;}.pdoc li{color:white;}.pdoc .nd{color:#50fa7b;}.pdoc b,strong{color:#d63384;font-weight:normal;}.pdoc em{color:orange;font-size:23px;}.pdoc div.decorator{color:#50fa7b;}.pdoc span.name{color:#8be9fd;}.pdoc span.base{color:#8be9fd;}.pdoc .inherited dt,.pdoc .inherited dt::before{color:#8be9fd;}.pdoc .inherited dd,.pdoc .inherited dd{color:#FFF;}.pdoc .inherited dd:not(:last-child)::after{color:#fff;}.pdoc .inherited dd:not(:last-child)::after{color:#FFF;}.pdoc h1,.pdoc h2,.pdoc h3{font-weight:300;margin:0.3em 0;padding:0.2em 0;color:white;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;margin-bottom:1rem;color:white;border-color:white;}nav.pdoc .module-list-button:hover{border-color:white;color:white;}</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../internal.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;aiobungie.internal</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#Factory">Factory</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Factory.__init__">Factory</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_bungie_user">deserialize_bungie_user</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_partial_bungie_user">deserialize_partial_bungie_user</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_destiny_membership">deserialize_destiny_membership</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_destiny_memberships">deserialize_destiny_memberships</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_user">deserialize_user</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_searched_user">deserialize_searched_user</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_user_credentials">deserialize_user_credentials</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.set_themese_attrs">set_themese_attrs</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_user_themes">deserialize_user_themes</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_clan">deserialize_clan</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_clan_member">deserialize_clan_member</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_clan_members">deserialize_clan_members</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_group_member">deserialize_group_member</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_clan_conversations">deserialize_clan_conversations</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_app_owner">deserialize_app_owner</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_app">deserialize_app</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_profile">deserialize_profile</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_profile_item">deserialize_profile_item</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_objectives">deserialize_objectives</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_records">deserialize_records</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_records">deserialize_character_records</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_dye">deserialize_character_dye</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_customization">deserialize_character_customization</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_minimal_equipments">deserialize_character_minimal_equipments</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_render_data">deserialize_character_render_data</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_available_activity">deserialize_available_activity</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_activity">deserialize_character_activity</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_profile_items">deserialize_profile_items</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_progressions">deserialize_progressions</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_milestone">deserialize_milestone</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_characters">deserialize_characters</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character">deserialize_character</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_equipments">deserialize_character_equipments</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_activities">deserialize_character_activities</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_characters_render_data">deserialize_characters_render_data</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_progressions">deserialize_character_progressions</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_progressions_mapping">deserialize_character_progressions_mapping</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_characters_records">deserialize_characters_records</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_profile_records">deserialize_profile_records</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_craftables_component">deserialize_craftables_component</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_components">deserialize_components</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_items_component">deserialize_items_component</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_character_component">deserialize_character_component</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_inventory_results">deserialize_inventory_results</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_inventory_entity">deserialize_inventory_entity</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_objective_entity">deserialize_objective_entity</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_activity">deserialize_activity</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_activities">deserialize_activities</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_extended_weapon_values">deserialize_extended_weapon_values</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_post_activity">deserialize_post_activity</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_aggregated_activity">deserialize_aggregated_activity</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_aggregated_activities">deserialize_aggregated_activities</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_linked_profiles">deserialize_linked_profiles</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_clan_banners">deserialize_clan_banners</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_public_milestone_content">deserialize_public_milestone_content</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_friend">deserialize_friend</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_friends">deserialize_friends</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_friend_requests">deserialize_friend_requests</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_fireteams">deserialize_fireteams</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_fireteam_destiny_users">deserialize_fireteam_destiny_users</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_fireteam_members">deserialize_fireteam_members</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_available_fireteams">deserialize_available_fireteams</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_fireteam_party">deserialize_fireteam_party</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_seasonal_artifact">deserialize_seasonal_artifact</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_profile_progression">deserialize_profile_progression</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_instanced_item">deserialize_instanced_item</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_item_energy">deserialize_item_energy</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_item_perk">deserialize_item_perk</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_item_socket">deserialize_item_socket</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_item_stats_view">deserialize_item_stats_view</a>
                        </li>
                        <li>
                                <a class="function" href="#Factory.deserialize_plug_item_state">deserialize_plug_item_state</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
<a href="./../../aiobungie.html">aiobungie</a><wbr>.<a href="./../internal.html">internal</a><wbr>.factory    </h1>

                        <div class="docstring"><p>Marshalling factory used to deserializing REST JSON payloads into an <code><a href="../crate.html">aiobungie.crate</a></code>.</p>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="c1"># MIT License</span>
<span class="c1"># Copyright (c) 2020 - Present nxtlo</span>
<span class="c1">#</span>
<span class="c1"># Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="c1"># of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="c1"># in the Software without restriction, including without limitation the rights</span>
<span class="c1"># to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="c1"># copies of the Software, and to permit persons to whom the Software is</span>
<span class="c1"># furnished to do so, subject to the following conditions:</span>
<span class="c1">#</span>
<span class="c1"># The above copyright notice and this permission notice shall be included in all</span>
<span class="c1"># copies or substantial portions of the Software.</span>
<span class="c1">#</span>
<span class="c1"># THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="c1"># IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="c1"># FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="c1"># AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="c1"># LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="c1"># OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
<span class="c1"># SOFTWARE.</span>

<span class="sd">&quot;&quot;&quot;Marshalling factory used to deserializing REST JSON payloads into an `aiobungie.crate`.&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="n">__all__</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Factory&quot;</span><span class="p">,)</span>

<span class="kn">import</span> <span class="nn">typing</span>

<span class="kn">from</span> <span class="nn">aiobungie</span> <span class="kn">import</span> <span class="n">interfaces</span>
<span class="kn">from</span> <span class="nn">aiobungie</span> <span class="kn">import</span> <span class="n">typedefs</span>
<span class="kn">from</span> <span class="nn">aiobungie</span> <span class="kn">import</span> <span class="n">undefined</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">activity</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">application</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">character</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">clans</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">components</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">entity</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">fireteams</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">friends</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">items</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">milestones</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">profile</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">progressions</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">records</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">season</span>
<span class="kn">from</span> <span class="nn">aiobungie.crate</span> <span class="kn">import</span> <span class="n">user</span>
<span class="kn">from</span> <span class="nn">aiobungie.internal</span> <span class="kn">import</span> <span class="n">assets</span>
<span class="kn">from</span> <span class="nn">aiobungie.internal</span> <span class="kn">import</span> <span class="n">enums</span>
<span class="kn">from</span> <span class="nn">aiobungie.internal</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="kn">from</span> <span class="nn">aiobungie.internal</span> <span class="kn">import</span> <span class="n">iterators</span>
<span class="kn">from</span> <span class="nn">aiobungie.internal</span> <span class="kn">import</span> <span class="n">time</span>

<span class="k">if</span> <span class="n">typing</span><span class="o">.</span><span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">collections.abc</span> <span class="k">as</span> <span class="nn">collections</span>
    <span class="kn">import</span> <span class="nn">datetime</span>

    <span class="kn">from</span> <span class="nn">aiobungie</span> <span class="kn">import</span> <span class="n">traits</span>


<span class="k">class</span> <span class="nc">Factory</span><span class="p">(</span><span class="n">interfaces</span><span class="o">.</span><span class="n">FactoryInterface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The base deserialization factory class for all aiobungie objects.</span>

<span class="sd">    Highly inspired hikari entity factory used to deserialize JSON responses from the REST client and turning them</span>
<span class="sd">    into a `aiobungie.crate` Python classes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_net&quot;</span><span class="p">,)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">net</span><span class="p">:</span> <span class="n">traits</span><span class="o">.</span><span class="n">Netrunner</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_net</span> <span class="o">=</span> <span class="n">net</span>

    <span class="k">def</span> <span class="nf">deserialize_bungie_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">BungieUser</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">BungieUser</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">created_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;firstAccess&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cachedBungieGlobalDisplayName&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="n">is_deleted</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;isDeleted&quot;</span><span class="p">],</span>
            <span class="n">about</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;about&quot;</span><span class="p">],</span>
            <span class="n">updated_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;lastUpdate&quot;</span><span class="p">]),</span>
            <span class="n">psn_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;psnDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">stadia_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stadiaDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">steam_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;steamDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">twitch_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;twitchDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">blizzard_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;blizzardDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">status</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;statusText&quot;</span><span class="p">],</span>
            <span class="n">locale</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;locale&quot;</span><span class="p">],</span>
            <span class="n">picture</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;profilePicturePath&quot;</span><span class="p">])),</span>
            <span class="n">code</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cachedBungieGlobalDisplayNameCode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">unique_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uniqueName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">theme_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;profileTheme&quot;</span><span class="p">]),</span>
            <span class="n">show_activity</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;showActivity&quot;</span><span class="p">]),</span>
            <span class="n">theme_name</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;profileThemeName&quot;</span><span class="p">],</span>
            <span class="n">display_title</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;userTitleDisplay&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_partial_bungie_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">PartialBungieUser</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">PartialBungieUser</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">types</span><span class="o">=</span><span class="p">[</span>
                <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;applicableMembershipTypes&quot;</span><span class="p">,</span> <span class="p">[])</span>
            <span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displayName&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;crossSaveOverride&quot;</span><span class="p">]),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconPath&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_destiny_membership</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_name</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">last_seen_name</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LastSeenDisplayName&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;displayName&quot;</span><span class="p">]),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;crossSaveOverride&quot;</span><span class="p">]),</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconPath&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)),</span>
            <span class="n">types</span><span class="o">=</span><span class="p">[</span>
                <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;applicableMembershipTypes&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_destiny_memberships</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">membership</span><span class="p">)</span> <span class="k">for</span> <span class="n">membership</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">deserialize_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">User</span><span class="p">:</span>

        <span class="n">primary_membership_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_primary_id</span> <span class="o">:=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;primaryMembershipId&quot;</span><span class="p">):</span>
            <span class="n">primary_membership_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_primary_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">User</span><span class="p">(</span>
            <span class="n">bungie</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_bungie_user</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bungieNetUser&quot;</span><span class="p">]),</span>
            <span class="n">destiny</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_memberships</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;destinyMemberships&quot;</span><span class="p">]),</span>
            <span class="n">primary_membership_id</span><span class="o">=</span><span class="n">primary_membership_id</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_searched_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">SearchableDestinyUser</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">])</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span>
            <span class="n">raw_name</span>
        <span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="n">code</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_code</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">):</span>
            <span class="n">code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_code</span><span class="p">)</span>

        <span class="n">bungie_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_bungie_id</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieNetMembershipId&quot;</span><span class="p">):</span>
            <span class="n">bungie_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_bungie_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">SearchableDestinyUser</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span>
            <span class="n">bungie_id</span><span class="o">=</span><span class="n">bungie_id</span><span class="p">,</span>
            <span class="n">memberships</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_memberships</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;destinyMemberships&quot;</span><span class="p">]</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_user_credentials</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">UserCredentials</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">user</span><span class="o">.</span><span class="n">UserCredentials</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">CredentialType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">creds</span><span class="p">[</span><span class="s2">&quot;credentialType&quot;</span><span class="p">])),</span>
                <span class="n">display_name</span><span class="o">=</span><span class="n">creds</span><span class="p">[</span><span class="s2">&quot;credentialDisplayName&quot;</span><span class="p">],</span>
                <span class="n">is_public</span><span class="o">=</span><span class="n">creds</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
                <span class="n">self_as_string</span><span class="o">=</span><span class="n">creds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;credentialAsString&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">creds</span> <span class="ow">in</span> <span class="n">payload</span>
        <span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">set_themese_attrs</span><span class="p">(</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">]:</span>

        <span class="n">theme_map</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">theme_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">just</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;userThemeId&quot;</span><span class="p">)</span>
        <span class="n">theme_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">just</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;userThemeName&quot;</span><span class="p">)</span>
        <span class="n">theme_descriptions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">just</span><span class="p">(</span>
            <span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;userThemeDescription&quot;</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">t_id</span><span class="p">,</span> <span class="n">t_name</span><span class="p">,</span> <span class="n">t_desc</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">theme_ids</span><span class="p">,</span> <span class="n">theme_names</span><span class="p">,</span> <span class="n">theme_descriptions</span><span class="p">):</span>
            <span class="n">theme_map</span><span class="p">[</span><span class="n">t_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">t_id</span><span class="p">),</span>
                <span class="n">name</span><span class="o">=</span><span class="n">t_name</span> <span class="ow">or</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">t_desc</span> <span class="ow">or</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">theme_map</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">deserialize_user_themes</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_themese_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">deserialize_clan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">clans</span><span class="o">.</span><span class="n">Clan</span><span class="p">:</span>

        <span class="c1"># This is kinda redundant</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span>

        <span class="c1"># This is always outside the details.</span>
        <span class="n">current_user_map</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_current_user_map</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentUserMemberMap&quot;</span><span class="p">):</span>
            <span class="n">current_user_map</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">membership_type</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan_member</span><span class="p">(</span><span class="n">membership</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">membership_type</span><span class="p">,</span> <span class="n">membership</span> <span class="ow">in</span> <span class="n">raw_current_user_map</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;detail&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="nb">id</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="n">created_at</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;creationDate&quot;</span><span class="p">]</span>
        <span class="n">member_count</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;memberCount&quot;</span><span class="p">]</span>
        <span class="n">about</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;about&quot;</span><span class="p">]</span>
        <span class="n">motto</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;motto&quot;</span><span class="p">]</span>
        <span class="n">is_public</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">]</span>
        <span class="n">banner</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bannerPath&quot;</span><span class="p">]))</span>
        <span class="n">avatar</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;avatarPath&quot;</span><span class="p">]))</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupType&quot;</span><span class="p">]</span>

        <span class="n">features</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;features&quot;</span><span class="p">]</span>
        <span class="n">features_obj</span> <span class="o">=</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanFeatures</span><span class="p">(</span>
            <span class="n">max_members</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;maximumMembers&quot;</span><span class="p">],</span>
            <span class="n">max_membership_types</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;maximumMembershipsOfGroupType&quot;</span><span class="p">],</span>
            <span class="n">capabilities</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;capabilities&quot;</span><span class="p">],</span>
            <span class="n">membership_types</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;membershipTypes&quot;</span><span class="p">],</span>
            <span class="n">invite_permissions</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;invitePermissionOverride&quot;</span><span class="p">],</span>
            <span class="n">update_banner_permissions</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;updateBannerPermissionOverride&quot;</span><span class="p">],</span>
            <span class="n">update_culture_permissions</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;updateCulturePermissionOverride&quot;</span><span class="p">],</span>
            <span class="n">join_level</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;joinLevel&quot;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">information</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;clanInfo&quot;</span><span class="p">]</span>
        <span class="n">progression</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">prog_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_progressions</span><span class="p">(</span><span class="n">prog</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">prog_hash</span><span class="p">,</span> <span class="n">prog</span> <span class="ow">in</span> <span class="n">information</span><span class="p">[</span><span class="s2">&quot;d2ClanProgressions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">founder</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_founder</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;founder&quot;</span><span class="p">):</span>
            <span class="n">founder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan_member</span><span class="p">(</span><span class="n">raw_founder</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">clans</span><span class="o">.</span><span class="n">Clan</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">GroupType</span><span class="p">(</span><span class="nb">type</span><span class="p">),</span>
            <span class="n">created_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">created_at</span><span class="p">),</span>
            <span class="n">member_count</span><span class="o">=</span><span class="n">member_count</span><span class="p">,</span>
            <span class="n">motto</span><span class="o">=</span><span class="n">motto</span><span class="p">,</span>
            <span class="n">about</span><span class="o">=</span><span class="n">about</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">is_public</span><span class="p">,</span>
            <span class="n">banner</span><span class="o">=</span><span class="n">banner</span><span class="p">,</span>
            <span class="n">avatar</span><span class="o">=</span><span class="n">avatar</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">features</span><span class="o">=</span><span class="n">features_obj</span><span class="p">,</span>
            <span class="n">owner</span><span class="o">=</span><span class="n">founder</span><span class="p">,</span>
            <span class="n">progressions</span><span class="o">=</span><span class="n">progression</span><span class="p">,</span>
            <span class="n">call_sign</span><span class="o">=</span><span class="n">information</span><span class="p">[</span><span class="s2">&quot;clanCallsign&quot;</span><span class="p">],</span>
            <span class="n">banner_data</span><span class="o">=</span><span class="n">information</span><span class="p">[</span><span class="s2">&quot;clanBannerData&quot;</span><span class="p">],</span>
            <span class="n">chat_security</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;chatSecurity&quot;</span><span class="p">],</span>
            <span class="n">conversation_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;conversationId&quot;</span><span class="p">]),</span>
            <span class="n">allow_chat</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;allowChat&quot;</span><span class="p">],</span>
            <span class="n">theme</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;theme&quot;</span><span class="p">],</span>
            <span class="n">current_user_membership</span><span class="o">=</span><span class="n">current_user_map</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_clan_member</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">:</span>
        <span class="n">destiny_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;destinyUserInfo&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">last_seen_name</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">last_seen_name</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">last_online</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">from_timestamp</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;lastOnlineStatusChange&quot;</span><span class="p">])),</span>
            <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
            <span class="n">joined_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;joinDate&quot;</span><span class="p">]),</span>
            <span class="n">types</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
            <span class="n">is_online</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;isOnline&quot;</span><span class="p">],</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">crossave_override</span><span class="p">,</span>
            <span class="n">bungie</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_partial_bungie_user</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bungieNetUserInfo&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="s2">&quot;bungieNetUserInfo&quot;</span> <span class="ow">in</span> <span class="n">data</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">member_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ClanMemberType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;memberType&quot;</span><span class="p">])),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_clan_members</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan_member</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">]]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_group_member</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">clans</span><span class="o">.</span><span class="n">GroupMember</span><span class="p">:</span>
        <span class="n">member</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;member&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">clans</span><span class="o">.</span><span class="n">GroupMember</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">join_date</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;joinDate&quot;</span><span class="p">]),</span>
            <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
            <span class="n">member_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ClanMemberType</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;memberType&quot;</span><span class="p">]),</span>
            <span class="n">is_online</span><span class="o">=</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;isOnline&quot;</span><span class="p">],</span>
            <span class="n">last_online</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">from_timestamp</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;lastOnlineStatusChange&quot;</span><span class="p">])),</span>
            <span class="n">inactive_memberships</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;areAllMembershipsInactive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">member</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;destinyUserInfo&quot;</span><span class="p">]),</span>
            <span class="n">group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;group&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_clan_conversations</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanConversation</span><span class="p">]:</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">vec</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanConversation</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">payload</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">convo</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">convo</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="nb">map</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

                <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="nb">map</span><span class="p">[</span><span class="s2">&quot;chatName&quot;</span><span class="p">])</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_name</span><span class="p">):</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

                <span class="n">convo_obj</span> <span class="o">=</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanConversation</span><span class="p">(</span>
                    <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                    <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
                    <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;conversationId&quot;</span><span class="p">]),</span>
                    <span class="n">chat_enabled</span><span class="o">=</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;chatEnabled&quot;</span><span class="p">],</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">security</span><span class="o">=</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;chatSecurity&quot;</span><span class="p">],</span>
                <span class="p">)</span>
                <span class="n">vec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">convo_obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">vec</span>

    <span class="k">def</span> <span class="nf">deserialize_app_owner</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">application</span><span class="o">.</span><span class="n">ApplicationOwner</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">application</span><span class="o">.</span><span class="n">ApplicationOwner</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;iconPath&quot;</span><span class="p">])),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">code</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_app</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">application</span><span class="o">.</span><span class="n">Application</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">application</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;applicationId&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">link</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;link&quot;</span><span class="p">],</span>
            <span class="n">status</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">],</span>
            <span class="n">redirect_url</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;redirectUrl&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">created_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;creationDate&quot;</span><span class="p">])),</span>
            <span class="n">published_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;firstPublished&quot;</span><span class="p">])),</span>
            <span class="n">owner</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_app_owner</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;user&quot;</span><span class="p">]),</span>  <span class="c1"># type: ignore</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scope&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_character_attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">:</span>
        <span class="n">total_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">format_played</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;minutesPlayedTotal&quot;</span><span class="p">]),</span> <span class="n">suffix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;characterId&quot;</span><span class="p">]),</span>
            <span class="n">gender</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Gender</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;genderType&quot;</span><span class="p">]),</span>
            <span class="n">race</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Race</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;raceType&quot;</span><span class="p">]),</span>
            <span class="n">class_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Class</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;classType&quot;</span><span class="p">]),</span>
            <span class="n">emblem</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;emblemBackgroundPath&quot;</span><span class="p">])),</span>
            <span class="n">emblem_icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;emblemPath&quot;</span><span class="p">])),</span>
            <span class="n">emblem_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;emblemHash&quot;</span><span class="p">]),</span>
            <span class="n">last_played</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateLastPlayed&quot;</span><span class="p">]),</span>
            <span class="n">total_played_time</span><span class="o">=</span><span class="n">total_time</span><span class="p">,</span>
            <span class="n">member_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">member_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
            <span class="n">level</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;baseCharacterLevel&quot;</span><span class="p">],</span>
            <span class="n">title_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;titleRecordHash&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">light</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;light&quot;</span><span class="p">],</span>
            <span class="n">stats</span><span class="o">=</span><span class="p">{</span><span class="n">enums</span><span class="o">.</span><span class="n">Stat</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stats&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_profile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_profile</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">payload</span> <span class="o">=</span> <span class="n">raw_profile</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;membershipId&quot;</span><span class="p">])</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;displayName&quot;</span><span class="p">]</span>
        <span class="n">is_public</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;isPublic&quot;</span><span class="p">]</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;membershipType&quot;</span><span class="p">])</span>
        <span class="n">last_played</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateLastPlayed&quot;</span><span class="p">]))</span>
        <span class="n">character_ids</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">cid</span><span class="p">)</span> <span class="k">for</span> <span class="n">cid</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;characterIds&quot;</span><span class="p">]]</span>
        <span class="n">power_cap</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentSeasonRewardPowerCap&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">is_public</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span>
            <span class="n">last_played</span><span class="o">=</span><span class="n">last_played</span><span class="p">,</span>
            <span class="n">character_ids</span><span class="o">=</span><span class="n">character_ids</span><span class="p">,</span>
            <span class="n">power_cap</span><span class="o">=</span><span class="n">power_cap</span><span class="p">,</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_profile_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">:</span>

        <span class="n">instance_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_instance_id</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemInstanceId&quot;</span><span class="p">):</span>
            <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_instance_id</span><span class="p">)</span>

        <span class="n">version_number</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_version</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;versionNumber&quot;</span><span class="p">):</span>
            <span class="n">version_number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_version</span><span class="p">)</span>

        <span class="n">transfer_status</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">TransferStatus</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;transferStatus&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemHash&quot;</span><span class="p">],</span>
            <span class="n">quantity</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">],</span>
            <span class="n">bind_status</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemBindStatus</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bindStatus&quot;</span><span class="p">]),</span>
            <span class="n">location</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemLocation</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]),</span>
            <span class="n">bucket</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bucketHash&quot;</span><span class="p">],</span>
            <span class="n">transfer_status</span><span class="o">=</span><span class="n">transfer_status</span><span class="p">,</span>
            <span class="n">lockable</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lockable&quot;</span><span class="p">],</span>
            <span class="n">state</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemState</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">]),</span>
            <span class="n">dismantel_permissions</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dismantlePermission&quot;</span><span class="p">],</span>
            <span class="n">is_wrapper</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isWrapper&quot;</span><span class="p">],</span>
            <span class="n">instance_id</span><span class="o">=</span><span class="n">instance_id</span><span class="p">,</span>
            <span class="n">version_number</span><span class="o">=</span><span class="n">version_number</span><span class="p">,</span>
            <span class="n">ornament_id</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;overrideStyleItemHash&quot;</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_objectives</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;objectiveHash&quot;</span><span class="p">],</span>
            <span class="n">visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span>
            <span class="n">complete</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">],</span>
            <span class="n">completion_value</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionValue&quot;</span><span class="p">],</span>
            <span class="n">progress</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;progress&quot;</span><span class="p">),</span>
            <span class="n">destination_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destinationHash&quot;</span><span class="p">),</span>
            <span class="n">activity_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activityHash&quot;</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="n">scores</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">RecordScores</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">nodes</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">:</span>
        <span class="n">objectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">interval_objectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">record_state</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">IntAnd</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">RecordState</span><span class="p">]</span>

        <span class="n">record_state</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">RecordState</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">raw_objs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;objectives&quot;</span><span class="p">):</span>
            <span class="n">objectives</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">raw_objs</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">raw_interval_objs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;intervalObjectives&quot;</span><span class="p">):</span>
            <span class="n">interval_objectives</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">raw_interval_objs</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">(</span>
            <span class="n">scores</span><span class="o">=</span><span class="n">scores</span><span class="p">,</span>
            <span class="n">categories_node_hash</span><span class="o">=</span><span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;categories_hash&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="n">seals_node_hash</span><span class="o">=</span><span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seals_hash&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="n">state</span><span class="o">=</span><span class="n">record_state</span><span class="p">,</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">objectives</span><span class="p">,</span>
            <span class="n">interval_objectives</span><span class="o">=</span><span class="n">interval_objectives</span><span class="p">,</span>
            <span class="n">redeemed_count</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;intervalsRedeemedCount&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">completion_times</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;completedCount&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">reward_visibility</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rewardVisibilty&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="n">scores</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">RecordScores</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">record_hashes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">:</span>

        <span class="n">record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_records</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">scores</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">(</span>
            <span class="n">scores</span><span class="o">=</span><span class="n">scores</span><span class="p">,</span>
            <span class="n">categories_node_hash</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">categories_node_hash</span><span class="p">,</span>
            <span class="n">seals_node_hash</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">seals_node_hash</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">state</span><span class="p">,</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">objectives</span><span class="p">,</span>
            <span class="n">interval_objectives</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">interval_objectives</span><span class="p">,</span>
            <span class="n">redeemed_count</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;intervalsRedeemedCount&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">completion_times</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;completedCount&quot;</span><span class="p">),</span>
            <span class="n">reward_visibility</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rewardVisibilty&quot;</span><span class="p">),</span>
            <span class="n">record_hashes</span><span class="o">=</span><span class="n">record_hashes</span> <span class="ow">or</span> <span class="p">[],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_dye</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">Dye</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">Dye</span><span class="p">(</span>
            <span class="n">channel_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;channelHash&quot;</span><span class="p">],</span> <span class="n">dye_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dyeHash&quot;</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_customization</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">CustomizationOptions</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">CustomizationOptions</span><span class="p">(</span>
            <span class="n">personality</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;personality&quot;</span><span class="p">],</span>
            <span class="n">face</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;face&quot;</span><span class="p">],</span>
            <span class="n">skin_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;skinColor&quot;</span><span class="p">],</span>
            <span class="n">lip_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lipColor&quot;</span><span class="p">],</span>
            <span class="n">eye_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;eyeColor&quot;</span><span class="p">],</span>
            <span class="n">hair_colors</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;hairColors&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">feature_colors</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;featureColors&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">decal_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;decalColor&quot;</span><span class="p">],</span>
            <span class="n">wear_helmet</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;wearHelmet&quot;</span><span class="p">],</span>
            <span class="n">hair_index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;hairIndex&quot;</span><span class="p">],</span>
            <span class="n">feature_index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;featureIndex&quot;</span><span class="p">],</span>
            <span class="n">decal_index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;decalIndex&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_minimal_equipments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">MinimalEquipments</span><span class="p">:</span>
        <span class="n">dyes</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_dyes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dyes&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">raw_dyes</span><span class="p">:</span>
                <span class="n">dyes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_dye</span><span class="p">(</span><span class="n">dye</span><span class="p">)</span> <span class="k">for</span> <span class="n">dye</span> <span class="ow">in</span> <span class="n">raw_dyes</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">MinimalEquipments</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span> <span class="n">item_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemHash&quot;</span><span class="p">],</span> <span class="n">dyes</span><span class="o">=</span><span class="n">dyes</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_render_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">customization</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_customization</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;customization&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">custom_dyes</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_dye</span><span class="p">(</span><span class="n">dye</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">dye</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;customDyes&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">dye</span>
            <span class="p">],</span>
            <span class="n">equipment</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_minimal_equipments</span><span class="p">(</span><span class="n">equipment</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">equipment</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;peerView&quot;</span><span class="p">][</span><span class="s2">&quot;equipment&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_available_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">AvailableActivity</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">AvailableActivity</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityHash&quot;</span><span class="p">],</span>
            <span class="n">is_new</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isNew&quot;</span><span class="p">],</span>
            <span class="n">is_completed</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isCompleted&quot;</span><span class="p">],</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isVisible&quot;</span><span class="p">],</span>
            <span class="n">display_level</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displayLevel&quot;</span><span class="p">),</span>
            <span class="n">recommended_light</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;recommendedLight&quot;</span><span class="p">),</span>
            <span class="n">difficulty</span><span class="o">=</span><span class="n">activity</span><span class="o">.</span><span class="n">Difficulty</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;difficultyTier&quot;</span><span class="p">]),</span>
            <span class="n">can_join</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canJoin&quot;</span><span class="p">],</span>
            <span class="n">can_lead</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canLead&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">:</span>
        <span class="n">current_mode</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_current_mode</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentActivityModeType&quot;</span><span class="p">):</span>
            <span class="n">current_mode</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">raw_current_mode</span><span class="p">)</span>

        <span class="n">current_mode_types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_current_modes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentActivityModeTypes&quot;</span><span class="p">):</span>
            <span class="n">current_mode_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">raw_current_modes</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">(</span>
            <span class="n">date_started</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateActivityStarted&quot;</span><span class="p">]),</span>
            <span class="n">current_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentActivityHash&quot;</span><span class="p">],</span>
            <span class="n">current_mode_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentActivityModeHash&quot;</span><span class="p">],</span>
            <span class="n">current_mode</span><span class="o">=</span><span class="n">current_mode</span><span class="p">,</span>
            <span class="n">current_mode_hashes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentActivityModeHashes&quot;</span><span class="p">),</span>
            <span class="n">current_mode_types</span><span class="o">=</span><span class="n">current_mode_types</span><span class="p">,</span>
            <span class="n">current_playlist_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentPlaylistActivityHash&quot;</span><span class="p">),</span>
            <span class="n">last_story_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lastCompletedStoryHash&quot;</span><span class="p">],</span>
            <span class="n">available_activities</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_available_activity</span><span class="p">(</span><span class="n">activity_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">activity_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;availableActivities&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_profile_items</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]]</span>

    <span class="k">def</span> <span class="nf">_deserialize_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span>
            <span class="n">state</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">]),</span>
            <span class="n">objective</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;objective&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="s2">&quot;objective&quot;</span> <span class="ow">in</span> <span class="n">payload</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">progress_value</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressValue&quot;</span><span class="p">]),</span>
            <span class="n">completion_value</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionValue&quot;</span><span class="p">]),</span>
            <span class="n">record_category_score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;recordCategoryScore&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="s2">&quot;recordCategoryScore&quot;</span> <span class="ow">in</span> <span class="n">payload</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_deserialize_collectible</span><span class="p">(</span><span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">:</span>
        <span class="n">recent_collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_recent_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;recentCollectibleHashes&quot;</span><span class="p">):</span>
            <span class="n">recent_collectibles</span> <span class="o">=</span> <span class="p">[</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">item_hash</span><span class="p">)</span> <span class="k">for</span> <span class="n">item_hash</span> <span class="ow">in</span> <span class="n">raw_recent_collectibles</span>
            <span class="p">]</span>

        <span class="n">collectibles</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">item_hash</span><span class="p">,</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;collectibles&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">collectibles</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">item_hash</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">mapping</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">(</span>
            <span class="n">recent_collectibles</span><span class="o">=</span><span class="n">recent_collectibles</span><span class="p">,</span>
            <span class="n">collectibles</span><span class="o">=</span><span class="n">collectibles</span><span class="p">,</span>
            <span class="n">collection_categorie_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;collectionCategoriesRootNodeHash&quot;</span><span class="p">]),</span>
            <span class="n">collection_badges_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;collectionBadgesRootNodeHash&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_deserialize_currencies</span><span class="p">(</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">item_hash</span><span class="p">),</span> <span class="n">amount</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">amount</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">item_hash</span><span class="p">,</span> <span class="n">amount</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemQuantities&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">deserialize_progressions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressionHash&quot;</span><span class="p">]),</span>
            <span class="n">level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]),</span>
            <span class="n">cap</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;levelCap&quot;</span><span class="p">]),</span>
            <span class="n">daily_limit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dailyLimit&quot;</span><span class="p">]),</span>
            <span class="n">weekly_limit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;weeklyLimit&quot;</span><span class="p">]),</span>
            <span class="n">current_progress</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentProgress&quot;</span><span class="p">]),</span>
            <span class="n">daily_progress</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dailyProgress&quot;</span><span class="p">]),</span>
            <span class="n">needed</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressToNextLevel&quot;</span><span class="p">]),</span>
            <span class="n">next_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;nextLevelAt&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_factions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Factions</span><span class="p">:</span>
        <span class="n">progs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_progressions</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Factions</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
            <span class="n">level</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">level</span><span class="p">,</span>
            <span class="n">cap</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">cap</span><span class="p">,</span>
            <span class="n">daily_limit</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">daily_limit</span><span class="p">,</span>
            <span class="n">weekly_limit</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">weekly_limit</span><span class="p">,</span>
            <span class="n">current_progress</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">current_progress</span><span class="p">,</span>
            <span class="n">daily_progress</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">daily_progress</span><span class="p">,</span>
            <span class="n">needed</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">needed</span><span class="p">,</span>
            <span class="n">next_level</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">next_level</span><span class="p">,</span>
            <span class="n">faction_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;factionHash&quot;</span><span class="p">],</span>
            <span class="n">faction_vendor_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;factionVendorIndex&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_milestone_available_quest</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneQuest</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneQuest</span><span class="p">(</span>
            <span class="n">item_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;questItemHash&quot;</span><span class="p">],</span>
            <span class="n">status</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_quest_status</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_milestone_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivity</span><span class="p">:</span>

        <span class="n">phases</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivityPhase</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_phases</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;phases&quot;</span><span class="p">):</span>
            <span class="n">phases</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivityPhase</span><span class="p">(</span>
                    <span class="n">is_completed</span><span class="o">=</span><span class="n">obj</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">],</span> <span class="nb">hash</span><span class="o">=</span><span class="n">obj</span><span class="p">[</span><span class="s2">&quot;phaseHash&quot;</span><span class="p">]</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">raw_phases</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivity</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityHash&quot;</span><span class="p">],</span>
            <span class="n">challenges</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="s2">&quot;objective&quot;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;challenges&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">modifier_hashes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;modifierHashes&quot;</span><span class="p">),</span>
            <span class="n">boolean_options</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;booleanActivityOptions&quot;</span><span class="p">),</span>
            <span class="n">phases</span><span class="o">=</span><span class="n">phases</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_milestone_quest_status</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">QuestStatus</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">QuestStatus</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">quest_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;questHash&quot;</span><span class="p">],</span>
            <span class="n">step_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stepHash&quot;</span><span class="p">],</span>
            <span class="n">step_objectives</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">objective</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">objective</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stepObjectives&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">is_tracked</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tracked&quot;</span><span class="p">],</span>
            <span class="n">is_completed</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">],</span>
            <span class="n">started</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;started&quot;</span><span class="p">],</span>
            <span class="n">item_instance_id</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemInstanceId&quot;</span><span class="p">],</span>
            <span class="n">vendor_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vendorHash&quot;</span><span class="p">),</span>
            <span class="n">is_redeemed</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;redeemed&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_milestone_rewards</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneReward</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneReward</span><span class="p">(</span>
            <span class="n">category_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;rewardCategoryHash&quot;</span><span class="p">],</span>
            <span class="n">entries</span><span class="o">=</span><span class="p">[</span>
                <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneRewardEntry</span><span class="p">(</span>
                    <span class="n">entry_hash</span><span class="o">=</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;rewardEntryHash&quot;</span><span class="p">],</span>
                    <span class="n">is_earned</span><span class="o">=</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;earned&quot;</span><span class="p">],</span>
                    <span class="n">is_redeemed</span><span class="o">=</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;redeemed&quot;</span><span class="p">],</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;entries&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_milestone</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">Milestone</span><span class="p">:</span>
        <span class="n">start_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_start_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;startDate&quot;</span><span class="p">):</span>
            <span class="n">start_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_start_date</span><span class="p">)</span>

        <span class="n">end_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_end_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;endDate&quot;</span><span class="p">):</span>
            <span class="n">end_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_end_date</span><span class="p">)</span>

        <span class="n">rewards</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneReward</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_rewards</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rewards&quot;</span><span class="p">):</span>
            <span class="n">rewards</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_rewards</span><span class="p">(</span><span class="n">reward</span><span class="p">)</span> <span class="k">for</span> <span class="n">reward</span> <span class="ow">in</span> <span class="n">raw_rewards</span>
            <span class="p">]</span>

        <span class="n">activities</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivity</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_activities</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">):</span>
            <span class="n">activities</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_activity</span><span class="p">(</span><span class="n">active</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">active</span> <span class="ow">in</span> <span class="n">raw_activities</span>
            <span class="p">]</span>

        <span class="n">quests</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneQuest</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_quests</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;availableQuests&quot;</span><span class="p">):</span>
            <span class="n">quests</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_available_quest</span><span class="p">(</span><span class="n">quest</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">quest</span> <span class="ow">in</span> <span class="n">raw_quests</span>
            <span class="p">]</span>

        <span class="n">vendors</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneVendor</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_vendors</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vendors&quot;</span><span class="p">):</span>
            <span class="n">vendors</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneVendor</span><span class="p">(</span>
                    <span class="n">vendor_hash</span><span class="o">=</span><span class="n">vendor</span><span class="p">[</span><span class="s2">&quot;vendorHash&quot;</span><span class="p">],</span>
                    <span class="n">preview_itemhash</span><span class="o">=</span><span class="n">vendor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;previewItemHash&quot;</span><span class="p">),</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">vendor</span> <span class="ow">in</span> <span class="n">raw_vendors</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">Milestone</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;milestoneHash&quot;</span><span class="p">],</span>
            <span class="n">start_date</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
            <span class="n">end_date</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
            <span class="n">order</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">],</span>
            <span class="n">rewards</span><span class="o">=</span><span class="n">rewards</span><span class="p">,</span>
            <span class="n">available_quests</span><span class="o">=</span><span class="n">quests</span><span class="p">,</span>
            <span class="n">activities</span><span class="o">=</span><span class="n">activities</span><span class="p">,</span>
            <span class="n">vendors</span><span class="o">=</span><span class="n">vendors</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_artifact_tiers</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">season</span><span class="o">.</span><span class="n">ArtifactTier</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">season</span><span class="o">.</span><span class="n">ArtifactTier</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tierHash&quot;</span><span class="p">],</span>
            <span class="n">is_unlocked</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isUnlocked&quot;</span><span class="p">],</span>
            <span class="n">points_to_unlock</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;pointsToUnlock&quot;</span><span class="p">],</span>
            <span class="n">items</span><span class="o">=</span><span class="p">[</span>
                <span class="n">season</span><span class="o">.</span><span class="n">ArtifactTierItem</span><span class="p">(</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;itemHash&quot;</span><span class="p">],</span> <span class="n">is_active</span><span class="o">=</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;isActive&quot;</span><span class="p">]</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_characters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_character_attrs</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_character</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_character_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_equipments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_character_activities</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_activity</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_characters_render_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_render_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_character_progressions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">:</span>
        <span class="n">progressions_</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">prog_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_progressions</span><span class="p">(</span><span class="n">prog</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">prog_id</span><span class="p">,</span> <span class="n">prog</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">factions</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">faction_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_factions</span><span class="p">(</span><span class="n">faction</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">faction_id</span><span class="p">,</span> <span class="n">faction</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;factions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">milestones_</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">milestone_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_milestone</span><span class="p">(</span><span class="n">milestone</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">milestone_hash</span><span class="p">,</span> <span class="n">milestone</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;milestones&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">uninstanced_item_objectives</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">item_hash</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">ins</span><span class="p">)</span> <span class="k">for</span> <span class="n">ins</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">item_hash</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;uninstancedItemObjectives&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">artifact</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;seasonalArtifact&quot;</span><span class="p">]</span>
        <span class="n">seasonal_artifact</span> <span class="o">=</span> <span class="n">season</span><span class="o">.</span><span class="n">CharacterScopedArtifact</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;artifactHash&quot;</span><span class="p">],</span>
            <span class="n">points_used</span><span class="o">=</span><span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;pointsUsed&quot;</span><span class="p">],</span>
            <span class="n">reset_count</span><span class="o">=</span><span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;resetCount&quot;</span><span class="p">],</span>
            <span class="n">tiers</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_artifact_tiers</span><span class="p">(</span><span class="n">tier</span><span class="p">)</span> <span class="k">for</span> <span class="n">tier</span> <span class="ow">in</span> <span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;tiers&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="n">checklists</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;checklists&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">(</span>
            <span class="n">progressions</span><span class="o">=</span><span class="n">progressions_</span><span class="p">,</span>
            <span class="n">factions</span><span class="o">=</span><span class="n">factions</span><span class="p">,</span>
            <span class="n">checklists</span><span class="o">=</span><span class="n">checklists</span><span class="p">,</span>
            <span class="n">milestones</span><span class="o">=</span><span class="n">milestones_</span><span class="p">,</span>
            <span class="n">seasonal_artifact</span><span class="o">=</span><span class="n">seasonal_artifact</span><span class="p">,</span>
            <span class="n">uninstanced_item_objectives</span><span class="o">=</span><span class="n">uninstanced_item_objectives</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_progressions_mapping</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">]:</span>
        <span class="n">character_progressions</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
            <span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># A little hack to stop mypy complaining about Mapping &lt;-&gt; dict</span>
            <span class="n">character_progressions</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_progressions</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># type: ignore[index]</span>
        <span class="k">return</span> <span class="n">character_progressions</span>

    <span class="k">def</span> <span class="nf">deserialize_characters_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">rec_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_records</span><span class="p">(</span>
                <span class="n">rec</span><span class="p">,</span> <span class="n">record_hashes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;featuredRecordHashes&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">rec_id</span><span class="p">,</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;records&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_profile_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">]:</span>
        <span class="n">raw_profile_records</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
        <span class="n">scores</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">RecordScores</span><span class="p">(</span>
            <span class="n">current_score</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">],</span>
            <span class="n">legacy_score</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;legacyScore&quot;</span><span class="p">],</span>
            <span class="n">lifetime_score</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;lifetimeScore&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">record_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_records</span><span class="p">(</span>
                <span class="n">record</span><span class="p">,</span>
                <span class="n">scores</span><span class="p">,</span>
                <span class="n">categories_hash</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;recordCategoriesRootNodeHash&quot;</span><span class="p">],</span>
                <span class="n">seals_hash</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;recordSealsRootNodeHash&quot;</span><span class="p">],</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;records&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_deserialize_craftable_socket_plug</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableSocketPlug</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableSocketPlug</span><span class="p">(</span>
            <span class="n">item_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;plugItemHash&quot;</span><span class="p">]),</span>
            <span class="n">failed_requirement_indexes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;failedRequirementIndexes&quot;</span><span class="p">,</span> <span class="p">[]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_craftable_socket</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableSocket</span><span class="p">:</span>

        <span class="n">plugs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">CraftableSocketPlug</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">raw_plug</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plug&quot;</span><span class="p">):</span>
            <span class="n">plugs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_craftable_socket_plug</span><span class="p">(</span><span class="n">plug</span><span class="p">)</span> <span class="k">for</span> <span class="n">plug</span> <span class="ow">in</span> <span class="n">raw_plug</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableSocket</span><span class="p">(</span>
            <span class="n">plug_set_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;plugSetHash&quot;</span><span class="p">]),</span> <span class="n">plugs</span><span class="o">=</span><span class="n">plugs</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_craftable_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableItem</span><span class="p">:</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableItem</span><span class="p">(</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span>
            <span class="n">failed_requirement_indexes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;failedRequirementIndexes&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">sockets</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_craftable_socket</span><span class="p">(</span><span class="n">socket</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">socket</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;sockets&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_craftables_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">CraftablesComponent</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">CraftablesComponent</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">craftables</span><span class="o">=</span><span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">item_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_craftable_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;craftables&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">},</span>
            <span class="n">crafting_root_node_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;craftingRootNodeHash&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_components</span><span class="p">(</span>  <span class="c1"># noqa: C901 Too complex.</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">Component</span><span class="p">:</span>

        <span class="n">profile_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">):</span>
            <span class="n">profile_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile</span><span class="p">(</span><span class="n">raw_profile</span><span class="p">)</span>

        <span class="n">profile_progression</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileProgression</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_progression</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileProgression&quot;</span><span class="p">):</span>
            <span class="n">profile_progression</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_progression</span><span class="p">(</span>
                <span class="n">raw_profile_progression</span>
            <span class="p">)</span>

        <span class="n">profile_currencies</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_currencies</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileCurrencies&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_profile_currencies</span><span class="p">:</span>
                <span class="n">profile_currencies</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span>
                    <span class="n">raw_profile_currencies</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
                <span class="p">)</span>

        <span class="n">profile_inventories</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_inventories</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileInventory&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_profile_inventories</span><span class="p">:</span>
                <span class="n">profile_inventories</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span>
                    <span class="n">raw_profile_inventories</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
                <span class="p">)</span>

        <span class="n">profile_records</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_profile_records_</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileRecords&quot;</span><span class="p">):</span>
            <span class="n">profile_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_records</span><span class="p">(</span><span class="n">raw_profile_records_</span><span class="p">)</span>

        <span class="n">characters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_characters</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characters&quot;</span><span class="p">):</span>
            <span class="n">characters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_characters</span><span class="p">(</span><span class="n">raw_characters</span><span class="p">)</span>

        <span class="n">character_records</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_character_records</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterRecords&quot;</span><span class="p">):</span>
            <span class="c1"># Had to do it in two steps..</span>
            <span class="n">to_update</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_character_records</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">to_update</span><span class="p">[</span><span class="n">record_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span>

            <span class="n">character_records</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">rec_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_records</span><span class="p">(</span>
                    <span class="n">rec</span><span class="p">,</span> <span class="n">record_hashes</span><span class="o">=</span><span class="n">to_update</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;featuredRecordHashes&quot;</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">rec_id</span><span class="p">,</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">to_update</span><span class="p">[</span><span class="s2">&quot;records&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_equipments</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_equips</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterEquipment&quot;</span><span class="p">):</span>
            <span class="n">character_equipments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_equipments</span><span class="p">(</span>
                <span class="n">raw_character_equips</span>
            <span class="p">)</span>

        <span class="n">character_inventories</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_inventories</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterInventories&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_character_inventories</span><span class="p">:</span>
                <span class="n">character_inventories</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_equipments</span><span class="p">(</span>
                    <span class="n">raw_character_inventories</span>
                <span class="p">)</span>

        <span class="n">character_activities</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_acts</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterActivities&quot;</span><span class="p">):</span>
            <span class="n">character_activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_activities</span><span class="p">(</span><span class="n">raw_char_acts</span><span class="p">)</span>

        <span class="n">character_render_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_render_data</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterRenderData&quot;</span><span class="p">):</span>
            <span class="n">character_render_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_characters_render_data</span><span class="p">(</span>
                <span class="n">raw_character_render_data</span>
            <span class="p">)</span>

        <span class="n">character_progressions</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_character_progressions</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterProgressions&quot;</span><span class="p">):</span>
            <span class="n">character_progressions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_progressions_mapping</span><span class="p">(</span>
                <span class="n">raw_character_progressions</span>
            <span class="p">)</span>

        <span class="n">profile_string_vars</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_string_vars</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileStringVariables&quot;</span><span class="p">):</span>
            <span class="n">profile_string_vars</span> <span class="o">=</span> <span class="n">raw_profile_string_vars</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;integerValuesByHash&quot;</span><span class="p">]</span>

        <span class="n">character_string_vars</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_string_vars</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterStringVariables&quot;</span><span class="p">):</span>
            <span class="n">character_string_vars</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;integerValuesByHash&quot;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_character_string_vars</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">metrics</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span>
                <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
                    <span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span>
                <span class="p">]</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">root_node_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_metrics</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;metrics&quot;</span><span class="p">):</span>
            <span class="n">root_node_hash</span> <span class="o">=</span> <span class="n">raw_metrics</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;metricsRootNodeHash&quot;</span><span class="p">]</span>
            <span class="n">metrics</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">metrics_hash</span><span class="p">):</span> <span class="p">(</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;invisible&quot;</span><span class="p">],</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;objectiveProgress&quot;</span><span class="p">])</span>
                        <span class="k">if</span> <span class="s2">&quot;objectiveProgress&quot;</span> <span class="ow">in</span> <span class="n">payload</span>
                        <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">metrics_hash</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_metrics</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;metrics&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="n">transitory</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamParty</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_transitory</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileTransitoryData&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_transitory</span><span class="p">:</span>
                <span class="n">transitory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_party</span><span class="p">(</span><span class="n">raw_transitory</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">item_components</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_item_components</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemComponents&quot;</span><span class="p">):</span>
            <span class="n">item_components</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_items_component</span><span class="p">(</span><span class="n">raw_item_components</span><span class="p">)</span>

        <span class="n">profile_plugsets</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_profile_plugs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profilePlugSets&quot;</span><span class="p">):</span>
            <span class="n">profile_plugsets</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_profile_plugs</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;plugs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_plugsets</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
                <span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_plugsets</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterPlugSets&quot;</span><span class="p">):</span>
            <span class="n">character_plugsets</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">):</span> <span class="p">[</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">data</span>
                    <span class="p">]</span>
                    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">inner</span><span class="p">[</span><span class="s2">&quot;plugs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">inner</span> <span class="ow">in</span> <span class="n">raw_char_plugsets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterCollectibles&quot;</span><span class="p">):</span>
            <span class="n">character_collectibles</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_collectible</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_character_collectibles</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">profile_collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileCollectibles&quot;</span><span class="p">):</span>
            <span class="n">profile_collectibles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_collectible</span><span class="p">(</span>
                <span class="n">raw_profile_collectibles</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">profile_nodes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_nodes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profilePresentationNodes&quot;</span><span class="p">):</span>
            <span class="n">profile_nodes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">node_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">node_hash</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">raw_profile_nodes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_nodes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_nodes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterPresentationNodes&quot;</span><span class="p">):</span>
            <span class="n">character_nodes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">node_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">node_hash</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">each_character</span><span class="p">[</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">each_character</span> <span class="ow">in</span> <span class="n">raw_character_nodes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">platform_silver</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_platform_silver</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;platformSilver&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_platform_silver</span><span class="p">:</span>
                <span class="n">platform_silver</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">platform_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">platform_name</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_platform_silver</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span>
                        <span class="s2">&quot;platformSilver&quot;</span>
                    <span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>

        <span class="n">character_currency_lookups</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_lookups</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterCurrencyLookups&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_char_lookups</span><span class="p">:</span>
                <span class="n">character_currency_lookups</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_currencies</span><span class="p">(</span><span class="n">currencie</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">currencie</span> <span class="ow">in</span> <span class="n">raw_char_lookups</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>

        <span class="n">character_craftables</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">components</span><span class="o">.</span><span class="n">CraftablesComponent</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_craftables</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterCraftables&quot;</span><span class="p">):</span>

            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_character_craftables</span><span class="p">:</span>
                <span class="n">character_craftables</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_craftables_component</span><span class="p">(</span><span class="n">craftable</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">craftable</span> <span class="ow">in</span> <span class="n">raw_character_craftables</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">Component</span><span class="p">(</span>
            <span class="n">profiles</span><span class="o">=</span><span class="n">profile_</span><span class="p">,</span>
            <span class="n">profile_progression</span><span class="o">=</span><span class="n">profile_progression</span><span class="p">,</span>
            <span class="n">profile_currencies</span><span class="o">=</span><span class="n">profile_currencies</span><span class="p">,</span>
            <span class="n">profile_inventories</span><span class="o">=</span><span class="n">profile_inventories</span><span class="p">,</span>
            <span class="n">profile_records</span><span class="o">=</span><span class="n">profile_records</span><span class="p">,</span>
            <span class="n">characters</span><span class="o">=</span><span class="n">characters</span><span class="p">,</span>
            <span class="n">character_records</span><span class="o">=</span><span class="n">character_records</span><span class="p">,</span>
            <span class="n">character_equipments</span><span class="o">=</span><span class="n">character_equipments</span><span class="p">,</span>
            <span class="n">character_inventories</span><span class="o">=</span><span class="n">character_inventories</span><span class="p">,</span>
            <span class="n">character_activities</span><span class="o">=</span><span class="n">character_activities</span><span class="p">,</span>
            <span class="n">character_render_data</span><span class="o">=</span><span class="n">character_render_data</span><span class="p">,</span>
            <span class="n">character_progressions</span><span class="o">=</span><span class="n">character_progressions</span><span class="p">,</span>
            <span class="n">profile_string_variables</span><span class="o">=</span><span class="n">profile_string_vars</span><span class="p">,</span>
            <span class="n">character_string_variables</span><span class="o">=</span><span class="n">character_string_vars</span><span class="p">,</span>
            <span class="n">metrics</span><span class="o">=</span><span class="n">metrics</span><span class="p">,</span>
            <span class="n">root_node_hash</span><span class="o">=</span><span class="n">root_node_hash</span><span class="p">,</span>
            <span class="n">transitory</span><span class="o">=</span><span class="n">transitory</span><span class="p">,</span>
            <span class="n">item_components</span><span class="o">=</span><span class="n">item_components</span><span class="p">,</span>
            <span class="n">profile_plugsets</span><span class="o">=</span><span class="n">profile_plugsets</span><span class="p">,</span>
            <span class="n">character_plugsets</span><span class="o">=</span><span class="n">character_plugsets</span><span class="p">,</span>
            <span class="n">character_collectibles</span><span class="o">=</span><span class="n">character_collectibles</span><span class="p">,</span>
            <span class="n">profile_collectibles</span><span class="o">=</span><span class="n">profile_collectibles</span><span class="p">,</span>
            <span class="n">profile_nodes</span><span class="o">=</span><span class="n">profile_nodes</span><span class="p">,</span>
            <span class="n">character_nodes</span><span class="o">=</span><span class="n">character_nodes</span><span class="p">,</span>
            <span class="n">platform_silver</span><span class="o">=</span><span class="n">platform_silver</span><span class="p">,</span>
            <span class="n">character_currency_lookups</span><span class="o">=</span><span class="n">character_currency_lookups</span><span class="p">,</span>
            <span class="n">character_craftables</span><span class="o">=</span><span class="n">character_craftables</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_items_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">:</span>
        <span class="n">instances</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemInstance</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_instances</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;instances&quot;</span><span class="p">):</span>
            <span class="n">instances</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_instanced_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_instances</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">]</span>

        <span class="n">render_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_render_data</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderData&quot;</span><span class="p">):</span>
            <span class="n">render_data</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;useCustomDyes&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;artRegions&quot;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_render_data</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">stats</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_stats</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stats&quot;</span><span class="p">):</span>
            <span class="n">builder</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">stat</span> <span class="ow">in</span> <span class="n">raw_stats</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">items_</span> <span class="ow">in</span> <span class="n">stat</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">builder</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_stats_view</span><span class="p">(</span><span class="n">items_</span><span class="p">)</span>  <span class="c1"># type: ignore[index]</span>
            <span class="n">stats</span> <span class="o">=</span> <span class="n">builder</span>

        <span class="n">sockets</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemSocket</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_sockets</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sockets&quot;</span><span class="p">):</span>
            <span class="n">sockets</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_socket</span><span class="p">(</span><span class="n">socket</span><span class="p">)</span> <span class="k">for</span> <span class="n">socket</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;sockets&quot;</span><span class="p">]</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_sockets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">objeectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_objectives</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;objectives&quot;</span><span class="p">):</span>
            <span class="n">objeectives</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">objective</span><span class="p">)]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_objectives</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">objective</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]</span>
            <span class="p">}</span>

        <span class="n">perks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemPerk</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_perks</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;perks&quot;</span><span class="p">):</span>
            <span class="n">perks</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_perk</span><span class="p">(</span><span class="n">perk</span><span class="p">)</span> <span class="k">for</span> <span class="n">perk</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;perks&quot;</span><span class="p">]</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_perks</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">plug_states</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_plug_states</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugStates&quot;</span><span class="p">):</span>
            <span class="n">pending_states</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">plug</span> <span class="ow">in</span> <span class="n">raw_plug_states</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">pending_states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">plug</span><span class="p">))</span>
            <span class="n">plug_states</span> <span class="o">=</span> <span class="n">pending_states</span>

        <span class="n">reusable_plugs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_re_plugs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;reusablePlugs&quot;</span><span class="p">):</span>
            <span class="n">reusable_plugs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">inner</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">plug</span> <span class="ow">in</span> <span class="n">raw_re_plugs</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">inner</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">plug</span><span class="p">[</span><span class="s2">&quot;plugs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="p">}</span>

        <span class="n">plug_objectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
                <span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_plug_objectives</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugObjectives&quot;</span><span class="p">):</span>
            <span class="n">plug_objectives</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">obj_hash</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objs</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">obj_hash</span><span class="p">,</span> <span class="n">objs</span> <span class="ow">in</span> <span class="n">inner</span><span class="p">[</span><span class="s2">&quot;objectivesPerPlug&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">inner</span> <span class="ow">in</span> <span class="n">raw_plug_objectives</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">(</span>
            <span class="n">sockets</span><span class="o">=</span><span class="n">sockets</span><span class="p">,</span>
            <span class="n">stats</span><span class="o">=</span><span class="n">stats</span><span class="p">,</span>
            <span class="n">render_data</span><span class="o">=</span><span class="n">render_data</span><span class="p">,</span>
            <span class="n">instances</span><span class="o">=</span><span class="n">instances</span><span class="p">,</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">objeectives</span><span class="p">,</span>
            <span class="n">perks</span><span class="o">=</span><span class="n">perks</span><span class="p">,</span>
            <span class="n">plug_states</span><span class="o">=</span><span class="n">plug_states</span><span class="p">,</span>
            <span class="n">reusable_plugs</span><span class="o">=</span><span class="n">reusable_plugs</span><span class="p">,</span>
            <span class="n">plug_objectives</span><span class="o">=</span><span class="n">plug_objectives</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_component</span><span class="p">(</span>  <span class="c1"># type: ignore[call-arg]</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">CharacterComponent</span><span class="p">:</span>

        <span class="n">character_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_singuler_character</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;character&quot;</span><span class="p">):</span>
            <span class="n">character_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character</span><span class="p">(</span><span class="n">raw_singuler_character</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">inventory</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_inventory</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inventory&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_inventory</span><span class="p">:</span>
                <span class="n">inventory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span><span class="n">raw_inventory</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">activities</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_activities</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">):</span>
            <span class="n">activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_activity</span><span class="p">(</span><span class="n">raw_activities</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">equipment</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_equipments</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equipment&quot;</span><span class="p">):</span>
            <span class="n">equipment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span><span class="n">raw_equipments</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">progressions_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_progressions</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;progressions&quot;</span><span class="p">):</span>
            <span class="n">progressions_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_progressions</span><span class="p">(</span>
                <span class="n">raw_progressions</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">render_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_render_data</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderData&quot;</span><span class="p">):</span>
            <span class="n">render_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_render_data</span><span class="p">(</span>
                <span class="n">raw_render_data</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">character_records</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_records</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;records&quot;</span><span class="p">):</span>
            <span class="n">character_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_characters_records</span><span class="p">(</span>
                <span class="n">raw_char_records</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">item_components</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_item_components</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemComponents&quot;</span><span class="p">):</span>
            <span class="n">item_components</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_items_component</span><span class="p">(</span><span class="n">raw_item_components</span><span class="p">)</span>

        <span class="n">nodes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_nodes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;presentationNodes&quot;</span><span class="p">):</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">node_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">node_hash</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">raw_nodes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;collectibles&quot;</span><span class="p">):</span>
            <span class="n">collectibles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_collectible</span><span class="p">(</span><span class="n">raw_collectibles</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">currency_lookups</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_currencies</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currencyLookups&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_currencies</span><span class="p">:</span>
                <span class="n">currency_lookups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_currencies</span><span class="p">(</span><span class="n">raw_currencies</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">CharacterComponent</span><span class="p">(</span>
            <span class="n">activities</span><span class="o">=</span><span class="n">activities</span><span class="p">,</span>
            <span class="n">equipment</span><span class="o">=</span><span class="n">equipment</span><span class="p">,</span>
            <span class="n">inventory</span><span class="o">=</span><span class="n">inventory</span><span class="p">,</span>
            <span class="n">progressions</span><span class="o">=</span><span class="n">progressions_</span><span class="p">,</span>
            <span class="n">render_data</span><span class="o">=</span><span class="n">render_data</span><span class="p">,</span>
            <span class="n">character</span><span class="o">=</span><span class="n">character_</span><span class="p">,</span>
            <span class="n">character_records</span><span class="o">=</span><span class="n">character_records</span><span class="p">,</span>
            <span class="n">profile_records</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">item_components</span><span class="o">=</span><span class="n">item_components</span><span class="p">,</span>
            <span class="n">currency_lookups</span><span class="o">=</span><span class="n">currency_lookups</span><span class="p">,</span>
            <span class="n">collectibles</span><span class="o">=</span><span class="n">collectibles</span><span class="p">,</span>
            <span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_entity_attrs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;displayProperties&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">Entity</span><span class="p">:</span>

        <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>

        <span class="k">if</span> <span class="n">properties</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="n">properties</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">raw_description</span> <span class="o">:=</span> <span class="n">properties</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span>
            <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_description</span><span class="p">):</span>
                <span class="n">description</span> <span class="o">=</span> <span class="n">raw_description</span>

        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">Entity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;hash&quot;</span><span class="p">],</span>
            <span class="n">index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">has_icon</span><span class="o">=</span><span class="n">properties</span><span class="p">[</span><span class="s2">&quot;hasIcon&quot;</span><span class="p">],</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">properties</span><span class="p">[</span><span class="s2">&quot;icon&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="s2">&quot;icon&quot;</span> <span class="ow">in</span> <span class="n">properties</span> <span class="k">else</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_inventory_results</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">entity</span><span class="o">.</span><span class="n">SearchableEntity</span><span class="p">]:</span>
        <span class="n">suggested_words</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;suggestedWords&quot;</span><span class="p">]</span>

        <span class="k">def</span> <span class="nf">_check_unknown</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">s</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">else</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>

        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">entity</span><span class="o">.</span><span class="n">SearchableEntity</span><span class="p">(</span>
                    <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;hash&quot;</span><span class="p">],</span>
                    <span class="n">entity_type</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;entityType&quot;</span><span class="p">],</span>
                    <span class="n">weight</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">],</span>
                    <span class="n">suggested_words</span><span class="o">=</span><span class="n">suggested_words</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
                    <span class="n">has_icon</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;hasIcon&quot;</span><span class="p">],</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">_check_unknown</span><span class="p">(</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;description&quot;</span><span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;icon&quot;</span><span class="p">]),</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="s2">&quot;results&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_inventory_item_objects</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntityObjects</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntityObjects</span><span class="p">(</span>
            <span class="n">action</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">),</span>
            <span class="n">set_data</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;setData&quot;</span><span class="p">),</span>
            <span class="n">stats</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stats&quot;</span><span class="p">),</span>
            <span class="n">equipping_block</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equippingBlock&quot;</span><span class="p">),</span>
            <span class="n">translation_block</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;translationBlock&quot;</span><span class="p">),</span>
            <span class="n">preview</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;preview&quot;</span><span class="p">),</span>
            <span class="n">quality</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;quality&quot;</span><span class="p">),</span>
            <span class="n">value</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span>
            <span class="n">source_data</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sourceData&quot;</span><span class="p">),</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;objectives&quot;</span><span class="p">),</span>
            <span class="n">plug</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plug&quot;</span><span class="p">),</span>
            <span class="n">metrics</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;metrics&quot;</span><span class="p">),</span>
            <span class="n">gearset</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;gearset&quot;</span><span class="p">),</span>
            <span class="n">sack</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sack&quot;</span><span class="p">),</span>
            <span class="n">sockets</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sockets&quot;</span><span class="p">),</span>
            <span class="n">summary</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;summary&quot;</span><span class="p">),</span>
            <span class="n">talent_gird</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;talentGrid&quot;</span><span class="p">),</span>
            <span class="n">investments_stats</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;investmentStats&quot;</span><span class="p">),</span>
            <span class="n">perks</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;perks&quot;</span><span class="p">),</span>
            <span class="n">animations</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;animations&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">links</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;links&quot;</span><span class="p">,</span> <span class="p">[]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_inventory_entity</span><span class="p">(</span>  <span class="c1"># noqa: C901 Too complex.</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntity</span><span class="p">:</span>

        <span class="n">props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_entity_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="n">objects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_inventory_item_objects</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>

        <span class="n">collectible_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_collectible_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;collectibleHash&quot;</span><span class="p">):</span>
            <span class="n">collectible_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_collectible_hash</span><span class="p">)</span>

        <span class="n">secondary_icon</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_second_icon</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;secondaryIcon&quot;</span><span class="p">):</span>
            <span class="n">secondary_icon</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_second_icon</span><span class="p">)</span>

        <span class="n">secondary_overlay</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_second_overlay</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;secondaryOverlay&quot;</span><span class="p">):</span>
            <span class="n">secondary_overlay</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_second_overlay</span><span class="p">)</span>

        <span class="n">secondary_special</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_second_special</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;secondarySpecial&quot;</span><span class="p">):</span>
            <span class="n">secondary_special</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_second_special</span><span class="p">)</span>

        <span class="n">screenshot</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_screenshot</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;screenshot&quot;</span><span class="p">):</span>
            <span class="n">screenshot</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_screenshot</span><span class="p">)</span>

        <span class="n">watermark_icon</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_watermark_icon</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconWatermark&quot;</span><span class="p">):</span>
            <span class="n">watermark_icon</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_watermark_icon</span><span class="p">)</span>

        <span class="n">watermark_shelved</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_watermark_shelved</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconWatermarkShelved&quot;</span><span class="p">):</span>
            <span class="n">watermark_shelved</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_watermark_shelved</span><span class="p">)</span>

        <span class="n">about</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_about</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;flavorText&quot;</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span>
            <span class="n">raw_about</span>
        <span class="p">):</span>
            <span class="n">about</span> <span class="o">=</span> <span class="n">raw_about</span>

        <span class="n">ui_item_style</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_ui_style</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uiItemDisplayStyle&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_ui_style</span><span class="p">):</span>
            <span class="n">ui_item_style</span> <span class="o">=</span> <span class="n">raw_ui_style</span>

        <span class="n">tier_and_name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_tier_and_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemTypeAndTierDisplayName&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_tier_and_name</span><span class="p">):</span>
            <span class="n">tier_and_name</span> <span class="o">=</span> <span class="n">raw_tier_and_name</span>

        <span class="n">type_name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_type_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemTypeDisplayName&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_type_name</span><span class="p">):</span>
            <span class="n">type_name</span> <span class="o">=</span> <span class="n">raw_type_name</span>

        <span class="n">display_source</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_display_source</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displaySource&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_display_source</span><span class="p">):</span>
            <span class="n">display_source</span> <span class="o">=</span> <span class="n">raw_display_source</span>

        <span class="n">lorehash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_lore_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;loreHash&quot;</span><span class="p">):</span>
            <span class="n">lorehash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_lore_hash</span><span class="p">)</span>

        <span class="n">summary_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_summary_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;summaryItemHash&quot;</span><span class="p">):</span>
            <span class="n">summary_hash</span> <span class="o">=</span> <span class="n">raw_summary_hash</span>

        <span class="n">breaker_type_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_breaker_type_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;breakerTypeHash&quot;</span><span class="p">):</span>
            <span class="n">breaker_type_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_breaker_type_hash</span><span class="p">)</span>

        <span class="n">damage_types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_damage_types</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;damageTypes&quot;</span><span class="p">):</span>
            <span class="n">damage_types</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">raw_damage_types</span><span class="p">]</span>

        <span class="n">damagetype_hashes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_damagetype_hashes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;damageTypeHashes&quot;</span><span class="p">):</span>
            <span class="n">damagetype_hashes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">raw_damagetype_hashes</span><span class="p">]</span>

        <span class="n">default_damagetype_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_defaultdmg_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;defaultDamageTypeHash&quot;</span><span class="p">):</span>
            <span class="n">default_damagetype_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_defaultdmg_hash</span><span class="p">)</span>

        <span class="n">emblem_objective_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_emblem_obj_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;emblemObjectiveHash&quot;</span><span class="p">):</span>
            <span class="n">emblem_objective_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_emblem_obj_hash</span><span class="p">)</span>

        <span class="n">tier_type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TierType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">tier</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemTier</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">bucket_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">recovery_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">tier_name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">isinstance_item</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">expire_tool_tip</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">expire_in_orbit_message</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">suppress_expiration</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">max_stack_size</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">stack_label</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>

        <span class="k">if</span> <span class="n">inventory</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inventory&quot;</span><span class="p">):</span>
            <span class="n">tier_type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">TierType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;tierType&quot;</span><span class="p">]))</span>
            <span class="n">tier</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">ItemTier</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;tierTypeHash&quot;</span><span class="p">]))</span>
            <span class="n">bucket_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;bucketTypeHash&quot;</span><span class="p">])</span>
            <span class="n">recovery_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;recoveryBucketTypeHash&quot;</span><span class="p">])</span>
            <span class="n">tier_name</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;tierTypeName&quot;</span><span class="p">]</span>
            <span class="n">isinstance_item</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;isInstanceItem&quot;</span><span class="p">]</span>
            <span class="n">suppress_expiration</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;suppressExpirationWhenObjectivesComplete&quot;</span><span class="p">]</span>
            <span class="n">max_stack_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;maxStackSize&quot;</span><span class="p">])</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">stack_label</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;stackUniqueLabel&quot;</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">collectible_hash</span><span class="o">=</span><span class="n">collectible_hash</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">about</span><span class="o">=</span><span class="n">about</span><span class="p">,</span>
            <span class="n">emblem_objective_hash</span><span class="o">=</span><span class="n">emblem_objective_hash</span><span class="p">,</span>
            <span class="n">suppress_expiration</span><span class="o">=</span><span class="n">suppress_expiration</span><span class="p">,</span>
            <span class="n">max_stack_size</span><span class="o">=</span><span class="n">max_stack_size</span><span class="p">,</span>
            <span class="n">stack_label</span><span class="o">=</span><span class="n">stack_label</span><span class="p">,</span>
            <span class="n">tier</span><span class="o">=</span><span class="n">tier</span><span class="p">,</span>
            <span class="n">tier_type</span><span class="o">=</span><span class="n">tier_type</span><span class="p">,</span>
            <span class="n">tier_name</span><span class="o">=</span><span class="n">tier_name</span><span class="p">,</span>
            <span class="n">bucket_hash</span><span class="o">=</span><span class="n">bucket_hash</span><span class="p">,</span>
            <span class="n">recovery_bucket_hash</span><span class="o">=</span><span class="n">recovery_hash</span><span class="p">,</span>
            <span class="n">isinstance_item</span><span class="o">=</span><span class="n">isinstance_item</span><span class="p">,</span>
            <span class="n">expire_in_orbit_message</span><span class="o">=</span><span class="n">expire_in_orbit_message</span><span class="p">,</span>
            <span class="n">expiration_tooltip</span><span class="o">=</span><span class="n">expire_tool_tip</span><span class="p">,</span>
            <span class="n">lore_hash</span><span class="o">=</span><span class="n">lorehash</span><span class="p">,</span>
            <span class="n">type_and_tier_name</span><span class="o">=</span><span class="n">tier_and_name</span><span class="p">,</span>
            <span class="n">summary_hash</span><span class="o">=</span><span class="n">summary_hash</span><span class="p">,</span>
            <span class="n">ui_display_style</span><span class="o">=</span><span class="n">ui_item_style</span><span class="p">,</span>
            <span class="n">type_name</span><span class="o">=</span><span class="n">type_name</span><span class="p">,</span>
            <span class="n">breaker_type_hash</span><span class="o">=</span><span class="n">breaker_type_hash</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">display_source</span><span class="o">=</span><span class="n">display_source</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
            <span class="n">damage_types</span><span class="o">=</span><span class="n">damage_types</span><span class="p">,</span>
            <span class="n">index</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">has_icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">has_icon</span><span class="p">,</span>
            <span class="n">screenshot</span><span class="o">=</span><span class="n">screenshot</span><span class="p">,</span>
            <span class="n">watermark_icon</span><span class="o">=</span><span class="n">watermark_icon</span><span class="p">,</span>
            <span class="n">watermark_shelved</span><span class="o">=</span><span class="n">watermark_shelved</span><span class="p">,</span>
            <span class="n">secondary_icon</span><span class="o">=</span><span class="n">secondary_icon</span><span class="p">,</span>
            <span class="n">secondary_overlay</span><span class="o">=</span><span class="n">secondary_overlay</span><span class="p">,</span>
            <span class="n">secondary_special</span><span class="o">=</span><span class="n">secondary_special</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemType&quot;</span><span class="p">])),</span>
            <span class="n">trait_hashes</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;traitHashes&quot;</span><span class="p">,</span> <span class="p">[])],</span>
            <span class="n">trait_ids</span><span class="o">=</span><span class="p">[</span><span class="n">trait</span> <span class="k">for</span> <span class="n">trait</span> <span class="ow">in</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;traitIds&quot;</span><span class="p">,</span> <span class="p">[])],</span>
            <span class="n">category_hashes</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">hash_</span><span class="p">)</span> <span class="k">for</span> <span class="n">hash_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemCategoryHashes&quot;</span><span class="p">]],</span>
            <span class="n">item_class</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Class</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;classType&quot;</span><span class="p">])),</span>
            <span class="n">sub_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemSubType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemSubType&quot;</span><span class="p">])),</span>
            <span class="n">breaker_type</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;breakerType&quot;</span><span class="p">]),</span>
            <span class="n">default_damagetype</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;defaultDamageType&quot;</span><span class="p">]),</span>
            <span class="n">default_damagetype_hash</span><span class="o">=</span><span class="n">default_damagetype_hash</span><span class="p">,</span>
            <span class="n">damagetype_hashes</span><span class="o">=</span><span class="n">damagetype_hashes</span><span class="p">,</span>
            <span class="n">tooltip_notifications</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tooltipNotifications&quot;</span><span class="p">],</span>
            <span class="n">not_transferable</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;nonTransferrable&quot;</span><span class="p">],</span>
            <span class="n">allow_actions</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowActions&quot;</span><span class="p">],</span>
            <span class="n">is_equippable</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;equippable&quot;</span><span class="p">],</span>
            <span class="n">objects</span><span class="o">=</span><span class="n">objects</span><span class="p">,</span>
            <span class="n">background_colors</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;backgroundColor&quot;</span><span class="p">,</span> <span class="p">{}),</span>
            <span class="n">season_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seasonHash&quot;</span><span class="p">),</span>
            <span class="n">has_postmaster_effect</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;doesPostmasterPullHaveSideEffects&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_objective_entity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">ObjectiveEntity</span><span class="p">:</span>
        <span class="n">props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_entity_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">ObjectiveEntity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
            <span class="n">index</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">has_icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">has_icon</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">unlock_value_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;unlockValueHash&quot;</span><span class="p">],</span>
            <span class="n">completion_value</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionValue&quot;</span><span class="p">],</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">GatingScope</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">])),</span>
            <span class="n">location_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;locationHash&quot;</span><span class="p">],</span>
            <span class="n">allowed_negative_value</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowNegativeValue&quot;</span><span class="p">],</span>
            <span class="n">allowed_value_change</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowValueChangeWhenCompleted&quot;</span><span class="p">],</span>
            <span class="n">counting_downward</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isCountingDownward&quot;</span><span class="p">],</span>
            <span class="n">value_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ValueUIStyle</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;valueStyle&quot;</span><span class="p">])),</span>
            <span class="n">progress_description</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressDescription&quot;</span><span class="p">],</span>
            <span class="n">perks</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;perks&quot;</span><span class="p">],</span>
            <span class="n">stats</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stats&quot;</span><span class="p">],</span>
            <span class="n">minimum_visibility</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;minimumVisibilityThreshold&quot;</span><span class="p">],</span>
            <span class="n">allow_over_completion</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowOvercompletion&quot;</span><span class="p">],</span>
            <span class="n">show_value_style</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;showValueOnComplete&quot;</span><span class="p">],</span>
            <span class="n">display_only_objective</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isDisplayOnlyObjective&quot;</span><span class="p">],</span>
            <span class="n">complete_value_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ValueUIStyle</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completedValueStyle&quot;</span><span class="p">])</span>
            <span class="p">),</span>
            <span class="n">progress_value_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ValueUIStyle</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;inProgressValueStyle&quot;</span><span class="p">])</span>
            <span class="p">),</span>
            <span class="n">ui_label</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;uiLabel&quot;</span><span class="p">],</span>
            <span class="n">ui_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ObjectiveUIStyle</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;uiStyle&quot;</span><span class="p">])),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_activity_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">ActivityValues</span><span class="p">:</span>
        <span class="n">team</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_team</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;team&quot;</span><span class="p">):</span>
            <span class="n">team</span> <span class="o">=</span> <span class="n">raw_team</span><span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">ActivityValues</span><span class="p">(</span>
            <span class="n">assists</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;assists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">deaths</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;deaths&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;kills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">is_completed</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">opponents_defeated</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;opponentsDefeated&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">efficiency</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;efficiency&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">kd_ratio</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;killsDeathsRatio&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">kd_assists</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;killsDeathsAssists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">score</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">duration</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDurationSeconds&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="n">team</span><span class="o">=</span><span class="n">team</span><span class="p">,</span>
            <span class="n">completion_reason</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionReason&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="n">fireteam_id</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fireteamId&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">start_seconds</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;startSeconds&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">played_time</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;timePlayedSeconds&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="n">player_count</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;playerCount&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">team_score</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;teamScore&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">:</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">])</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDetails&quot;</span><span class="p">]</span>
        <span class="n">ref_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;referenceId&quot;</span><span class="p">])</span>
        <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;instanceId&quot;</span><span class="p">])</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">])</span>
        <span class="n">modes</span> <span class="o">=</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">mode_</span><span class="p">))</span> <span class="k">for</span> <span class="n">mode_</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;modes&quot;</span><span class="p">]]</span>
        <span class="n">is_private</span> <span class="o">=</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;isPrivate&quot;</span><span class="p">]</span>
        <span class="n">membership_type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]))</span>

        <span class="c1"># Since we&#39;re using the same fields for post activity method</span>
        <span class="c1"># this check is required since post activity doesn&#39;t values values</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_activity_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">ref_id</span><span class="p">,</span>
            <span class="n">instance_id</span><span class="o">=</span><span class="n">instance_id</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
            <span class="n">modes</span><span class="o">=</span><span class="n">modes</span><span class="p">,</span>
            <span class="n">is_private</span><span class="o">=</span><span class="n">is_private</span><span class="p">,</span>
            <span class="n">membership_type</span><span class="o">=</span><span class="n">membership_type</span><span class="p">,</span>
            <span class="n">occurred_at</span><span class="o">=</span><span class="n">period</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_activities</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_activity</span><span class="p">(</span><span class="n">activity_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">activity_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_extended_weapon_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedWeaponValues</span><span class="p">:</span>

        <span class="n">assists</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_assists</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uniqueWeaponAssists&quot;</span><span class="p">):</span>
            <span class="n">assists</span> <span class="o">=</span> <span class="n">raw_assists</span><span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">assists_damage</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_assists_damage</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uniqueWeaponAssistDamage&quot;</span><span class="p">):</span>
            <span class="n">assists_damage</span> <span class="o">=</span> <span class="n">raw_assists_damage</span><span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedWeaponValues</span><span class="p">(</span>
            <span class="n">reference_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;referenceId&quot;</span><span class="p">]),</span>
            <span class="n">kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">precision_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span>
                <span class="s2">&quot;value&quot;</span>
            <span class="p">],</span>
            <span class="n">assists</span><span class="o">=</span><span class="n">assists</span><span class="p">,</span>
            <span class="n">assists_damage</span><span class="o">=</span><span class="n">assists_damage</span><span class="p">,</span>
            <span class="n">precision_kills_percentage</span><span class="o">=</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponKillsPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponKillsPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span>
                    <span class="s2">&quot;displayValue&quot;</span>
                <span class="p">],</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_extended_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedValues</span><span class="p">:</span>
        <span class="n">weapons</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">ExtendedWeaponValues</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_weapons</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;weapons&quot;</span><span class="p">):</span>
            <span class="n">weapons</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_extended_weapon_values</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">raw_weapons</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedValues</span><span class="p">(</span>
            <span class="n">precision_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;precisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">grenade_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;weaponKillsGrenade&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">melee_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;weaponKillsMelee&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">super_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;weaponKillsSuper&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">ability_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;weaponKillsAbility&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">weapons</span><span class="o">=</span><span class="n">weapons</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_post_activity_player</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivityPlayer</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivityPlayer</span><span class="p">(</span>
            <span class="n">standing</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;standing&quot;</span><span class="p">]),</span>
            <span class="n">score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">character_id</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;characterId&quot;</span><span class="p">],</span>
            <span class="n">destiny_user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;destinyUserInfo&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">character_class</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;characterClass&quot;</span><span class="p">],</span>
            <span class="n">character_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;characterLevel&quot;</span><span class="p">]),</span>
            <span class="n">race_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;raceHash&quot;</span><span class="p">]),</span>
            <span class="n">gender_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;genderHash&quot;</span><span class="p">]),</span>
            <span class="n">light_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;lightLevel&quot;</span><span class="p">]),</span>
            <span class="n">emblem_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;emblemHash&quot;</span><span class="p">]),</span>
            <span class="n">class_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;classHash&quot;</span><span class="p">],</span>
            <span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_activity_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]),</span>
            <span class="n">extended_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_extended_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;extended&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_post_activity_team</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivityTeam</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivityTeam</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;teamId&quot;</span><span class="p">],</span>
            <span class="n">is_defeated</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;standing&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;teamName&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_post_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivity</span><span class="p">:</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">])</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDetails&quot;</span><span class="p">]</span>
        <span class="n">ref_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;referenceId&quot;</span><span class="p">])</span>
        <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;instanceId&quot;</span><span class="p">])</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">])</span>
        <span class="n">modes</span> <span class="o">=</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">mode_</span><span class="p">))</span> <span class="k">for</span> <span class="n">mode_</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;modes&quot;</span><span class="p">]]</span>
        <span class="n">is_private</span> <span class="o">=</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;isPrivate&quot;</span><span class="p">]</span>
        <span class="n">membership_type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">ref_id</span><span class="p">,</span>
            <span class="n">membership_type</span><span class="o">=</span><span class="n">membership_type</span><span class="p">,</span>
            <span class="n">instance_id</span><span class="o">=</span><span class="n">instance_id</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
            <span class="n">modes</span><span class="o">=</span><span class="n">modes</span><span class="p">,</span>
            <span class="n">is_private</span><span class="o">=</span><span class="n">is_private</span><span class="p">,</span>
            <span class="n">occurred_at</span><span class="o">=</span><span class="n">period</span><span class="p">,</span>
            <span class="n">starting_phase</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;startingPhaseIndex&quot;</span><span class="p">]),</span>
            <span class="n">players</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_post_activity_player</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;entries&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">teams</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_post_activity_team</span><span class="p">(</span><span class="n">team</span><span class="p">)</span> <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;teams&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_aggregated_activity_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivityValues</span><span class="p">:</span>
        <span class="c1"># This ID is always the same for all aggregated values.</span>
        <span class="n">activity_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fastestCompletionMsForActivity&quot;</span><span class="p">][</span><span class="s2">&quot;activityId&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivityValues</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">activity_id</span><span class="p">,</span>
            <span class="n">fastest_completion_time</span><span class="o">=</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fastestCompletionMsForActivity&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fastestCompletionMsForActivity&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">completions</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityCompletions&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">kills</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">deaths</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDeaths&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">assists</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityAssists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">seconds_played</span><span class="o">=</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activitySecondsPlayed&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activitySecondsPlayed&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">wins</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityWins&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">goals_missed</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityGoalsMissed&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">special_actions</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activitySpecialActions&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">best_goals_hit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityBestGoalsHit&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">best_single_score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityBestSingleGameScore&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">goals_hit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityGoalsHit&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">special_score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activitySpecialScore&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">kd_assists</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityKillsDeathsAssists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">kd_ratio</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityKillsDeathsAssists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">precision_kills</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_aggregated_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivity</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivity</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityHash&quot;</span><span class="p">]),</span>
            <span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_aggregated_activity_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_aggregated_activities</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_aggregated_activity</span><span class="p">(</span><span class="n">activity</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_linked_profiles</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">profile</span><span class="o">.</span><span class="n">LinkedProfile</span><span class="p">:</span>
        <span class="n">bungie_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_partial_bungie_user</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bnetMembership&quot;</span><span class="p">])</span>
        <span class="n">error_profiles_vec</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">profiles_vec</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">raw_profile</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profiles&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">pfile</span> <span class="ow">in</span> <span class="n">raw_profile</span><span class="p">:</span>
                <span class="n">profiles_vec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">pfile</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">raw_profiles_with_errors</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profilesWithErrors&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">raw_error_pfile</span> <span class="ow">in</span> <span class="n">raw_profiles_with_errors</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">error_pfile</span> <span class="o">:=</span> <span class="n">raw_error_pfile</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;infoCard&quot;</span><span class="p">):</span>
                    <span class="n">error_profiles_vec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">error_pfile</span><span class="p">)</span>
                    <span class="p">)</span>

        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">LinkedProfile</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">bungie</span><span class="o">=</span><span class="n">bungie_user</span><span class="p">,</span>
            <span class="n">profiles</span><span class="o">=</span><span class="n">profiles_vec</span><span class="p">,</span>
            <span class="n">profiles_with_errors</span><span class="o">=</span><span class="n">error_profiles_vec</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_clan_banners</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanBanner</span><span class="p">]:</span>
        <span class="n">banners_seq</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanBanner</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">banners</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;clanBannerDecals&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">banners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">banner_obj</span> <span class="o">=</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanBanner</span><span class="p">(</span>
                    <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">),</span>
                    <span class="n">foreground</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;foregroundPath&quot;</span><span class="p">]),</span>
                    <span class="n">background</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;backgroundPath&quot;</span><span class="p">]),</span>
                <span class="p">)</span>
                <span class="n">banners_seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">banner_obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">banners_seq</span>

    <span class="k">def</span> <span class="nf">deserialize_public_milestone_content</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneContent</span><span class="p">:</span>
        <span class="n">items_categoris</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneItems</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_categories</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemCategories&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_categories</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
                <span class="k">if</span> <span class="n">raw_title</span> <span class="o">:=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">raw_title</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
                        <span class="n">title</span> <span class="o">=</span> <span class="n">raw_title</span>
                <span class="k">if</span> <span class="n">raw_hashes</span> <span class="o">:=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemHashes&quot;</span><span class="p">):</span>
                    <span class="n">hashes</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_hashes</span>

                <span class="n">items_categoris</span> <span class="o">=</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneItems</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">hashes</span><span class="o">=</span><span class="n">hashes</span><span class="p">)</span>

        <span class="n">about</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_about</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;about&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
            <span class="n">about</span> <span class="o">=</span> <span class="n">raw_about</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_status</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">raw_status</span>

        <span class="n">tips</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">raw_tips</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tips&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">raw_tip</span> <span class="ow">in</span> <span class="n">raw_tips</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">raw_tip</span> <span class="o">==</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
                    <span class="n">raw_tip</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
                <span class="n">tips</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw_tip</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneContent</span><span class="p">(</span>
            <span class="n">about</span><span class="o">=</span><span class="n">about</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span> <span class="n">tips</span><span class="o">=</span><span class="n">tips</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items_categoris</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_friend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="n">bungie_user</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">BungieUser</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_bungie_user</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieNetUser&quot;</span><span class="p">):</span>
            <span class="n">bungie_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_bungie_user</span><span class="p">(</span><span class="n">raw_bungie_user</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lastSeenAsMembershipId&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">),</span>
            <span class="n">relationship</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Relationship</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;relationship&quot;</span><span class="p">]),</span>
            <span class="n">user</span><span class="o">=</span><span class="n">bungie_user</span><span class="p">,</span>
            <span class="n">online_status</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Presence</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;onlineStatus&quot;</span><span class="p">]),</span>
            <span class="n">online_title</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;onlineTitle&quot;</span><span class="p">],</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lastSeenAsBungieMembershipType&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_friends</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]:</span>
        <span class="n">mut_seq</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">raw_friends</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;friends&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">friend</span> <span class="ow">in</span> <span class="n">raw_friends</span><span class="p">:</span>
                <span class="n">mut_seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_friend</span><span class="p">(</span><span class="n">friend</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">mut_seq</span>

    <span class="k">def</span> <span class="nf">deserialize_friend_requests</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">friends</span><span class="o">.</span><span class="n">FriendRequestView</span><span class="p">:</span>
        <span class="n">incoming</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">outgoing</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">raw_incoming_requests</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;incomingRequests&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">incoming_request</span> <span class="ow">in</span> <span class="n">raw_incoming_requests</span><span class="p">:</span>
                <span class="n">incoming</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_friend</span><span class="p">(</span><span class="n">incoming_request</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">raw_outgoing_requests</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outgoingRequests&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">outgoing_request</span> <span class="ow">in</span> <span class="n">raw_outgoing_requests</span><span class="p">:</span>
                <span class="n">outgoing</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_friend</span><span class="p">(</span><span class="n">outgoing_request</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">friends</span><span class="o">.</span><span class="n">FriendRequestView</span><span class="p">(</span><span class="n">incoming</span><span class="o">=</span><span class="n">incoming</span><span class="p">,</span> <span class="n">outgoing</span><span class="o">=</span><span class="n">outgoing</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_fireteam_fields</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="n">total_results</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">:</span>
        <span class="n">activity_type</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamActivity</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityType&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fireteamId&quot;</span><span class="p">]),</span>
            <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
            <span class="n">platform</span><span class="o">=</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPlatform</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]),</span>
            <span class="n">is_immediate</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isImmediate&quot;</span><span class="p">],</span>
            <span class="n">activity_type</span><span class="o">=</span><span class="n">activity_type</span><span class="p">,</span>
            <span class="n">owner_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;ownerMembershipId&quot;</span><span class="p">]),</span>
            <span class="n">player_slot_count</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;playerSlotCount&quot;</span><span class="p">],</span>
            <span class="n">available_player_slots</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;availablePlayerSlotCount&quot;</span><span class="p">],</span>
            <span class="n">available_alternate_slots</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;availableAlternateSlotCount&quot;</span><span class="p">],</span>
            <span class="n">title</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">],</span>
            <span class="n">date_created</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateCreated&quot;</span><span class="p">]),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">locale</span><span class="o">=</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamLanguage</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;locale&quot;</span><span class="p">]),</span>
            <span class="n">is_valid</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isValid&quot;</span><span class="p">],</span>
            <span class="n">last_modified</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;datePlayerModified&quot;</span><span class="p">]),</span>
            <span class="n">total_results</span><span class="o">=</span><span class="n">total_results</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_fireteams</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">]]:</span>
        <span class="n">fireteams_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">result</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">result</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
            <span class="n">fireteams_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_fireteam_fields</span><span class="p">(</span>
                    <span class="n">elem</span><span class="p">,</span> <span class="n">total_results</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;totalResults&quot;</span><span class="p">])</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">fireteams_</span>

    <span class="k">def</span> <span class="nf">deserialize_fireteam_destiny_users</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamUser</span><span class="p">:</span>
        <span class="n">destiny_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="c1"># We could helpers.just return a DestinyMembership object but this is</span>
        <span class="c1"># missing the fireteam display name and id fields.</span>
        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamUser</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">types</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">crossave_override</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">last_seen_name</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">last_seen_name</span><span class="p">,</span>
            <span class="n">fireteam_display_name</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;FireteamDisplayName&quot;</span><span class="p">],</span>
            <span class="n">fireteam_membership_id</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;FireteamMembershipType&quot;</span><span class="p">]</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_fireteam_members</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">alternatives</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamMember</span><span class="p">]]:</span>
        <span class="n">members_</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamMember</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">members</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Members&quot;</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">alternatives</span> <span class="k">else</span> <span class="s2">&quot;Alternates&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
                <span class="n">bungie_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_partial_bungie_user</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
                <span class="n">members_fields</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamMember</span><span class="p">(</span>
                    <span class="n">destiny_user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_destiny_users</span><span class="p">(</span><span class="n">member</span><span class="p">),</span>
                    <span class="n">has_microphone</span><span class="o">=</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;hasMicrophone&quot;</span><span class="p">],</span>
                    <span class="n">character_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;characterId&quot;</span><span class="p">]),</span>
                    <span class="n">date_joined</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;dateJoined&quot;</span><span class="p">]),</span>
                    <span class="n">last_platform_invite_date</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span>
                        <span class="n">member</span><span class="p">[</span><span class="s2">&quot;lastPlatformInviteAttemptDate&quot;</span><span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">last_platform_invite_result</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span>
                        <span class="n">member</span><span class="p">[</span><span class="s2">&quot;lastPlatformInviteAttemptResult&quot;</span><span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="nb">id</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">icon</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
                    <span class="n">is_public</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
                    <span class="n">crossave_override</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">crossave_override</span><span class="p">,</span>
                    <span class="n">types</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">members_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">members_fields</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">members_</span>

    <span class="k">def</span> <span class="nf">deserialize_available_fireteams</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">no_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
        <span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">]</span>
    <span class="p">]:</span>
        <span class="n">fireteams_</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># This needs to be used outside the results</span>
        <span class="c1"># JSON key.</span>
        <span class="k">if</span> <span class="n">no_results</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="n">data</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;results&quot;</span><span class="p">):</span>

            <span class="k">for</span> <span class="n">fireteam</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="n">found_fireteams</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_fireteam_fields</span><span class="p">(</span><span class="n">fireteam</span><span class="p">[</span><span class="s2">&quot;Summary&quot;</span><span class="p">])</span>
                <span class="n">fireteams_fields</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">(</span>
                    <span class="nb">id</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">group_id</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span>
                    <span class="n">platform</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">platform</span><span class="p">,</span>
                    <span class="n">activity_type</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">activity_type</span><span class="p">,</span>
                    <span class="n">is_immediate</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">is_immediate</span><span class="p">,</span>
                    <span class="n">is_public</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
                    <span class="n">is_valid</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">is_valid</span><span class="p">,</span>
                    <span class="n">owner_id</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">owner_id</span><span class="p">,</span>
                    <span class="n">player_slot_count</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">player_slot_count</span><span class="p">,</span>
                    <span class="n">available_player_slots</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">available_player_slots</span><span class="p">,</span>
                    <span class="n">available_alternate_slots</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">available_alternate_slots</span><span class="p">,</span>
                    <span class="n">title</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
                    <span class="n">date_created</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">date_created</span><span class="p">,</span>
                    <span class="n">locale</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">locale</span><span class="p">,</span>
                    <span class="n">last_modified</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">last_modified</span><span class="p">,</span>
                    <span class="n">total_results</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">total_results</span><span class="p">,</span>
                    <span class="n">members</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_members</span><span class="p">(</span><span class="n">payload</span><span class="p">),</span>
                    <span class="n">alternatives</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_members</span><span class="p">(</span>
                        <span class="n">payload</span><span class="p">,</span> <span class="n">alternatives</span><span class="o">=</span><span class="kc">True</span>
                    <span class="p">),</span>
                <span class="p">)</span>
            <span class="n">fireteams_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fireteams_fields</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">no_results</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">fireteams_fields</span>
        <span class="k">return</span> <span class="n">fireteams_</span>

    <span class="k">def</span> <span class="nf">deserialize_fireteam_party</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamParty</span><span class="p">:</span>
        <span class="n">last_destination_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_dest_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;lastOrbitedDestinationHash&quot;</span><span class="p">):</span>
            <span class="n">last_destination_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_dest_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamParty</span><span class="p">(</span>
            <span class="n">members</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_fireteam_party_member</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;partyMembers&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">activity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_fireteam_party_current_activity</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentActivity&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">settings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_fireteam_party_settings</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;joinability&quot;</span><span class="p">]),</span>
            <span class="n">last_destination_hash</span><span class="o">=</span><span class="n">last_destination_hash</span><span class="p">,</span>
            <span class="n">tracking</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tracking&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_fireteam_party_member</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyMember</span><span class="p">:</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyMemberState</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>
        <span class="n">displayname</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displayName&quot;</span><span class="p">):</span>
            <span class="n">displayname</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyMember</span><span class="p">(</span>
            <span class="n">membership_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">emblem_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;emblemHash&quot;</span><span class="p">]),</span>
            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
            <span class="n">display_name</span><span class="o">=</span><span class="n">displayname</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_fireteam_party_current_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyCurrentActivity</span><span class="p">:</span>
        <span class="n">start_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_start_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;startTime&quot;</span><span class="p">):</span>
            <span class="n">start_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_start_date</span><span class="p">)</span>

        <span class="n">end_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_end_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;endTime&quot;</span><span class="p">):</span>
            <span class="n">end_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_end_date</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyCurrentActivity</span><span class="p">(</span>
            <span class="n">start_time</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
            <span class="n">end_time</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
            <span class="n">score</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">]),</span>
            <span class="n">highest_opposing_score</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;highestOpposingFactionScore&quot;</span><span class="p">]),</span>
            <span class="n">opponenst_count</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;numberOfOpponents&quot;</span><span class="p">]),</span>
            <span class="n">player_count</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;numberOfPlayers&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_fireteam_party_settings</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartySettings</span><span class="p">:</span>
        <span class="n">closed_reasons</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">ClosedReasons</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;closedReasons&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartySettings</span><span class="p">(</span>
            <span class="n">open_slots</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;openSlots&quot;</span><span class="p">]),</span>
            <span class="n">privacy_setting</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">PrivacySetting</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;privacySetting&quot;</span><span class="p">])),</span>
            <span class="n">closed_reasons</span><span class="o">=</span><span class="n">closed_reasons</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_seasonal_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">season</span><span class="o">.</span><span class="n">Artifact</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">raw_artifact</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seasonalArtifact&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">points</span> <span class="o">:=</span> <span class="n">raw_artifact</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pointProgression&quot;</span><span class="p">):</span>
                <span class="n">points_prog</span> <span class="o">=</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">(</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;progressionHash&quot;</span><span class="p">],</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">],</span>
                    <span class="n">cap</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;levelCap&quot;</span><span class="p">],</span>
                    <span class="n">daily_limit</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;dailyLimit&quot;</span><span class="p">],</span>
                    <span class="n">weekly_limit</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;weeklyLimit&quot;</span><span class="p">],</span>
                    <span class="n">current_progress</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;currentProgress&quot;</span><span class="p">],</span>
                    <span class="n">daily_progress</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;dailyProgress&quot;</span><span class="p">],</span>
                    <span class="n">needed</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;progressToNextLevel&quot;</span><span class="p">],</span>
                    <span class="n">next_level</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;nextLevelAt&quot;</span><span class="p">],</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">bonus</span> <span class="o">:=</span> <span class="n">raw_artifact</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;powerBonusProgression&quot;</span><span class="p">):</span>
                <span class="n">power_bonus_prog</span> <span class="o">=</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">(</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;progressionHash&quot;</span><span class="p">],</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">],</span>
                    <span class="n">cap</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;levelCap&quot;</span><span class="p">],</span>
                    <span class="n">daily_limit</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;dailyLimit&quot;</span><span class="p">],</span>
                    <span class="n">weekly_limit</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;weeklyLimit&quot;</span><span class="p">],</span>
                    <span class="n">current_progress</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;currentProgress&quot;</span><span class="p">],</span>
                    <span class="n">daily_progress</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;dailyProgress&quot;</span><span class="p">],</span>
                    <span class="n">needed</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;progressToNextLevel&quot;</span><span class="p">],</span>
                    <span class="n">next_level</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;nextLevelAt&quot;</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="n">artifact</span> <span class="o">=</span> <span class="n">season</span><span class="o">.</span><span class="n">Artifact</span><span class="p">(</span>
                <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                <span class="nb">hash</span><span class="o">=</span><span class="n">raw_artifact</span><span class="p">[</span><span class="s2">&quot;artifactHash&quot;</span><span class="p">],</span>
                <span class="n">power_bonus</span><span class="o">=</span><span class="n">raw_artifact</span><span class="p">[</span><span class="s2">&quot;powerBonus&quot;</span><span class="p">],</span>
                <span class="n">acquired_points</span><span class="o">=</span><span class="n">raw_artifact</span><span class="p">[</span><span class="s2">&quot;pointsAcquired&quot;</span><span class="p">],</span>
                <span class="n">bonus</span><span class="o">=</span><span class="n">power_bonus_prog</span><span class="p">,</span>
                <span class="n">points</span><span class="o">=</span><span class="n">points_prog</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">artifact</span>

    <span class="k">def</span> <span class="nf">deserialize_profile_progression</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileProgression</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileProgression</span><span class="p">(</span>
            <span class="n">artifact</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_seasonal_artifact</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]),</span>
            <span class="n">checklist</span><span class="o">=</span><span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">check_id</span><span class="p">):</span> <span class="n">checklists</span>
                <span class="k">for</span> <span class="n">check_id</span><span class="p">,</span> <span class="n">checklists</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;checklists&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_instanced_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemInstance</span><span class="p">:</span>
        <span class="n">damage_type_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_damagetype_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;damageTypeHash&quot;</span><span class="p">):</span>
            <span class="n">damage_type_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_damagetype_hash</span><span class="p">)</span>

        <span class="n">required_hashes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_required_hashes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;unlockHashesRequiredToEquip&quot;</span><span class="p">):</span>
            <span class="n">required_hashes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">raw_hash</span><span class="p">)</span> <span class="k">for</span> <span class="n">raw_hash</span> <span class="ow">in</span> <span class="n">raw_required_hashes</span><span class="p">]</span>

        <span class="n">breaker_type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemBreakerType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_break_type</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;breakerType&quot;</span><span class="p">):</span>
            <span class="n">breaker_type</span> <span class="o">=</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemBreakerType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">raw_break_type</span><span class="p">))</span>

        <span class="n">breaker_type_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_break_type_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;breakerTypeHash&quot;</span><span class="p">):</span>
            <span class="n">breaker_type_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_break_type_hash</span><span class="p">)</span>

        <span class="n">energy</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemEnergy</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_energy</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">):</span>
            <span class="n">energy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_energy</span><span class="p">(</span><span class="n">raw_energy</span><span class="p">)</span>

        <span class="n">primary_stats</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_primary_stats</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;primaryStat&quot;</span><span class="p">):</span>
            <span class="n">primary_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_stats_view</span><span class="p">(</span><span class="n">raw_primary_stats</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemInstance</span><span class="p">(</span>
            <span class="n">damage_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">DamageType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;damageType&quot;</span><span class="p">])),</span>
            <span class="n">damage_type_hash</span><span class="o">=</span><span class="n">damage_type_hash</span><span class="p">,</span>
            <span class="n">primary_stat</span><span class="o">=</span><span class="n">primary_stats</span><span class="p">,</span>
            <span class="n">item_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemLevel&quot;</span><span class="p">]),</span>
            <span class="n">quality</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;quality&quot;</span><span class="p">]),</span>
            <span class="n">is_equipped</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isEquipped&quot;</span><span class="p">],</span>
            <span class="n">can_equip</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canEquip&quot;</span><span class="p">],</span>
            <span class="n">equip_required_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;equipRequiredLevel&quot;</span><span class="p">]),</span>
            <span class="n">required_equip_unlock_hashes</span><span class="o">=</span><span class="n">required_hashes</span><span class="p">,</span>
            <span class="n">cant_equip_reason</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;cannotEquipReason&quot;</span><span class="p">]),</span>
            <span class="n">breaker_type</span><span class="o">=</span><span class="n">breaker_type</span><span class="p">,</span>
            <span class="n">breaker_type_hash</span><span class="o">=</span><span class="n">breaker_type_hash</span><span class="p">,</span>
            <span class="n">energy</span><span class="o">=</span><span class="n">energy</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_item_energy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemEnergy</span><span class="p">:</span>
        <span class="n">energy_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_energy_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;energyTypeHash&quot;</span><span class="p">):</span>
            <span class="n">energy_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_energy_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemEnergy</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">energy_hash</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">items</span><span class="o">.</span><span class="n">ItemEnergyType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyType&quot;</span><span class="p">])),</span>
            <span class="n">capacity</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyCapacity&quot;</span><span class="p">]),</span>
            <span class="n">used_energy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyUsed&quot;</span><span class="p">]),</span>
            <span class="n">unused_energy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyUnused&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_item_perk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemPerk</span><span class="p">:</span>
        <span class="n">perk_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_perk_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;perkHash&quot;</span><span class="p">):</span>
            <span class="n">perk_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_perk_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemPerk</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">perk_hash</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;iconPath&quot;</span><span class="p">]),</span>
            <span class="n">is_active</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isActive&quot;</span><span class="p">],</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_item_socket</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemSocket</span><span class="p">:</span>
        <span class="n">plug_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_plug_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugHash&quot;</span><span class="p">):</span>
            <span class="n">plug_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_plug_hash</span><span class="p">)</span>

        <span class="n">enable_fail_indexes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_indexes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enableFailIndexes&quot;</span><span class="p">):</span>
            <span class="n">enable_fail_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">raw_indexes</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemSocket</span><span class="p">(</span>
            <span class="n">plug_hash</span><span class="o">=</span><span class="n">plug_hash</span><span class="p">,</span>
            <span class="n">is_enabled</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isEnabled&quot;</span><span class="p">],</span>
            <span class="n">enable_fail_indexes</span><span class="o">=</span><span class="n">enable_fail_indexes</span><span class="p">,</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;visible&quot;</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_item_stats_view</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">(</span>
            <span class="n">stat_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;statHash&quot;</span><span class="p">),</span> <span class="n">value</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_plug_item_state</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">:</span>
        <span class="n">item_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_item_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugItemHash&quot;</span><span class="p">):</span>
            <span class="n">item_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_item_hash</span><span class="p">)</span>

        <span class="n">insert_fail_indexes</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_fail_indexes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;insertFailIndexes&quot;</span><span class="p">):</span>
            <span class="n">insert_fail_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">raw_fail_indexes</span><span class="p">]</span>

        <span class="n">enable_fail_indexes</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_enabled_indexes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enableFailIndexes&quot;</span><span class="p">):</span>
            <span class="n">enable_fail_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">raw_enabled_indexes</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">(</span>
            <span class="n">item_hash</span><span class="o">=</span><span class="n">item_hash</span><span class="p">,</span>
            <span class="n">insert_fail_indexes</span><span class="o">=</span><span class="n">insert_fail_indexes</span><span class="p">,</span>
            <span class="n">enable_fail_indexes</span><span class="o">=</span><span class="n">enable_fail_indexes</span><span class="p">,</span>
            <span class="n">is_enabled</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;enabled&quot;</span><span class="p">],</span>
            <span class="n">can_insert</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canInsert&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            </section>
                <section id="Factory">
                                <div class="attr class">
        <a class="headerlink" href="#Factory">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Factory</span><wbr>(<span class="base">aiobungie.interfaces.factory.FactoryInterface</span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Factory</span><span class="p">(</span><span class="n">interfaces</span><span class="o">.</span><span class="n">FactoryInterface</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The base deserialization factory class for all aiobungie objects.</span>

<span class="sd">    Highly inspired hikari entity factory used to deserialize JSON responses from the REST client and turning them</span>
<span class="sd">    into a `aiobungie.crate` Python classes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;_net&quot;</span><span class="p">,)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">net</span><span class="p">:</span> <span class="n">traits</span><span class="o">.</span><span class="n">Netrunner</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_net</span> <span class="o">=</span> <span class="n">net</span>

    <span class="k">def</span> <span class="nf">deserialize_bungie_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">BungieUser</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">BungieUser</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">created_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;firstAccess&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cachedBungieGlobalDisplayName&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="n">is_deleted</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;isDeleted&quot;</span><span class="p">],</span>
            <span class="n">about</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;about&quot;</span><span class="p">],</span>
            <span class="n">updated_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;lastUpdate&quot;</span><span class="p">]),</span>
            <span class="n">psn_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;psnDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">stadia_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stadiaDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">steam_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;steamDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">twitch_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;twitchDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">blizzard_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;blizzardDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">status</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;statusText&quot;</span><span class="p">],</span>
            <span class="n">locale</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;locale&quot;</span><span class="p">],</span>
            <span class="n">picture</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;profilePicturePath&quot;</span><span class="p">])),</span>
            <span class="n">code</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cachedBungieGlobalDisplayNameCode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">unique_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uniqueName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">theme_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;profileTheme&quot;</span><span class="p">]),</span>
            <span class="n">show_activity</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;showActivity&quot;</span><span class="p">]),</span>
            <span class="n">theme_name</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;profileThemeName&quot;</span><span class="p">],</span>
            <span class="n">display_title</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;userTitleDisplay&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_partial_bungie_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">PartialBungieUser</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">PartialBungieUser</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">types</span><span class="o">=</span><span class="p">[</span>
                <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;applicableMembershipTypes&quot;</span><span class="p">,</span> <span class="p">[])</span>
            <span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displayName&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;crossSaveOverride&quot;</span><span class="p">]),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconPath&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_destiny_membership</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_name</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">last_seen_name</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LastSeenDisplayName&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;displayName&quot;</span><span class="p">]),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;crossSaveOverride&quot;</span><span class="p">]),</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconPath&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)),</span>
            <span class="n">types</span><span class="o">=</span><span class="p">[</span>
                <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;applicableMembershipTypes&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_destiny_memberships</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">membership</span><span class="p">)</span> <span class="k">for</span> <span class="n">membership</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">deserialize_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">User</span><span class="p">:</span>

        <span class="n">primary_membership_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_primary_id</span> <span class="o">:=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;primaryMembershipId&quot;</span><span class="p">):</span>
            <span class="n">primary_membership_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_primary_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">User</span><span class="p">(</span>
            <span class="n">bungie</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_bungie_user</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bungieNetUser&quot;</span><span class="p">]),</span>
            <span class="n">destiny</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_memberships</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;destinyMemberships&quot;</span><span class="p">]),</span>
            <span class="n">primary_membership_id</span><span class="o">=</span><span class="n">primary_membership_id</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_searched_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">SearchableDestinyUser</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">])</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span>
            <span class="n">raw_name</span>
        <span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="n">code</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_code</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">):</span>
            <span class="n">code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_code</span><span class="p">)</span>

        <span class="n">bungie_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_bungie_id</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieNetMembershipId&quot;</span><span class="p">):</span>
            <span class="n">bungie_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_bungie_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">SearchableDestinyUser</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span>
            <span class="n">bungie_id</span><span class="o">=</span><span class="n">bungie_id</span><span class="p">,</span>
            <span class="n">memberships</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_memberships</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;destinyMemberships&quot;</span><span class="p">]</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_user_credentials</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">UserCredentials</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">user</span><span class="o">.</span><span class="n">UserCredentials</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">CredentialType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">creds</span><span class="p">[</span><span class="s2">&quot;credentialType&quot;</span><span class="p">])),</span>
                <span class="n">display_name</span><span class="o">=</span><span class="n">creds</span><span class="p">[</span><span class="s2">&quot;credentialDisplayName&quot;</span><span class="p">],</span>
                <span class="n">is_public</span><span class="o">=</span><span class="n">creds</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
                <span class="n">self_as_string</span><span class="o">=</span><span class="n">creds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;credentialAsString&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">creds</span> <span class="ow">in</span> <span class="n">payload</span>
        <span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">set_themese_attrs</span><span class="p">(</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">]:</span>

        <span class="n">theme_map</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">theme_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">just</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;userThemeId&quot;</span><span class="p">)</span>
        <span class="n">theme_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">just</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;userThemeName&quot;</span><span class="p">)</span>
        <span class="n">theme_descriptions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">just</span><span class="p">(</span>
            <span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;userThemeDescription&quot;</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">t_id</span><span class="p">,</span> <span class="n">t_name</span><span class="p">,</span> <span class="n">t_desc</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">theme_ids</span><span class="p">,</span> <span class="n">theme_names</span><span class="p">,</span> <span class="n">theme_descriptions</span><span class="p">):</span>
            <span class="n">theme_map</span><span class="p">[</span><span class="n">t_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">t_id</span><span class="p">),</span>
                <span class="n">name</span><span class="o">=</span><span class="n">t_name</span> <span class="ow">or</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">t_desc</span> <span class="ow">or</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">theme_map</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">deserialize_user_themes</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_themese_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">deserialize_clan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">clans</span><span class="o">.</span><span class="n">Clan</span><span class="p">:</span>

        <span class="c1"># This is kinda redundant</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span>

        <span class="c1"># This is always outside the details.</span>
        <span class="n">current_user_map</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_current_user_map</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentUserMemberMap&quot;</span><span class="p">):</span>
            <span class="n">current_user_map</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">membership_type</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan_member</span><span class="p">(</span><span class="n">membership</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">membership_type</span><span class="p">,</span> <span class="n">membership</span> <span class="ow">in</span> <span class="n">raw_current_user_map</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;detail&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="nb">id</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="n">created_at</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;creationDate&quot;</span><span class="p">]</span>
        <span class="n">member_count</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;memberCount&quot;</span><span class="p">]</span>
        <span class="n">about</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;about&quot;</span><span class="p">]</span>
        <span class="n">motto</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;motto&quot;</span><span class="p">]</span>
        <span class="n">is_public</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">]</span>
        <span class="n">banner</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bannerPath&quot;</span><span class="p">]))</span>
        <span class="n">avatar</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;avatarPath&quot;</span><span class="p">]))</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupType&quot;</span><span class="p">]</span>

        <span class="n">features</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;features&quot;</span><span class="p">]</span>
        <span class="n">features_obj</span> <span class="o">=</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanFeatures</span><span class="p">(</span>
            <span class="n">max_members</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;maximumMembers&quot;</span><span class="p">],</span>
            <span class="n">max_membership_types</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;maximumMembershipsOfGroupType&quot;</span><span class="p">],</span>
            <span class="n">capabilities</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;capabilities&quot;</span><span class="p">],</span>
            <span class="n">membership_types</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;membershipTypes&quot;</span><span class="p">],</span>
            <span class="n">invite_permissions</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;invitePermissionOverride&quot;</span><span class="p">],</span>
            <span class="n">update_banner_permissions</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;updateBannerPermissionOverride&quot;</span><span class="p">],</span>
            <span class="n">update_culture_permissions</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;updateCulturePermissionOverride&quot;</span><span class="p">],</span>
            <span class="n">join_level</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;joinLevel&quot;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">information</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;clanInfo&quot;</span><span class="p">]</span>
        <span class="n">progression</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">prog_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_progressions</span><span class="p">(</span><span class="n">prog</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">prog_hash</span><span class="p">,</span> <span class="n">prog</span> <span class="ow">in</span> <span class="n">information</span><span class="p">[</span><span class="s2">&quot;d2ClanProgressions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">founder</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_founder</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;founder&quot;</span><span class="p">):</span>
            <span class="n">founder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan_member</span><span class="p">(</span><span class="n">raw_founder</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">clans</span><span class="o">.</span><span class="n">Clan</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">GroupType</span><span class="p">(</span><span class="nb">type</span><span class="p">),</span>
            <span class="n">created_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">created_at</span><span class="p">),</span>
            <span class="n">member_count</span><span class="o">=</span><span class="n">member_count</span><span class="p">,</span>
            <span class="n">motto</span><span class="o">=</span><span class="n">motto</span><span class="p">,</span>
            <span class="n">about</span><span class="o">=</span><span class="n">about</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">is_public</span><span class="p">,</span>
            <span class="n">banner</span><span class="o">=</span><span class="n">banner</span><span class="p">,</span>
            <span class="n">avatar</span><span class="o">=</span><span class="n">avatar</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">features</span><span class="o">=</span><span class="n">features_obj</span><span class="p">,</span>
            <span class="n">owner</span><span class="o">=</span><span class="n">founder</span><span class="p">,</span>
            <span class="n">progressions</span><span class="o">=</span><span class="n">progression</span><span class="p">,</span>
            <span class="n">call_sign</span><span class="o">=</span><span class="n">information</span><span class="p">[</span><span class="s2">&quot;clanCallsign&quot;</span><span class="p">],</span>
            <span class="n">banner_data</span><span class="o">=</span><span class="n">information</span><span class="p">[</span><span class="s2">&quot;clanBannerData&quot;</span><span class="p">],</span>
            <span class="n">chat_security</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;chatSecurity&quot;</span><span class="p">],</span>
            <span class="n">conversation_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;conversationId&quot;</span><span class="p">]),</span>
            <span class="n">allow_chat</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;allowChat&quot;</span><span class="p">],</span>
            <span class="n">theme</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;theme&quot;</span><span class="p">],</span>
            <span class="n">current_user_membership</span><span class="o">=</span><span class="n">current_user_map</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_clan_member</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">:</span>
        <span class="n">destiny_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;destinyUserInfo&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">last_seen_name</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">last_seen_name</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">last_online</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">from_timestamp</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;lastOnlineStatusChange&quot;</span><span class="p">])),</span>
            <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
            <span class="n">joined_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;joinDate&quot;</span><span class="p">]),</span>
            <span class="n">types</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
            <span class="n">is_online</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;isOnline&quot;</span><span class="p">],</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">crossave_override</span><span class="p">,</span>
            <span class="n">bungie</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_partial_bungie_user</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bungieNetUserInfo&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="s2">&quot;bungieNetUserInfo&quot;</span> <span class="ow">in</span> <span class="n">data</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">member_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ClanMemberType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;memberType&quot;</span><span class="p">])),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_clan_members</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan_member</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">]]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_group_member</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">clans</span><span class="o">.</span><span class="n">GroupMember</span><span class="p">:</span>
        <span class="n">member</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;member&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">clans</span><span class="o">.</span><span class="n">GroupMember</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">join_date</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;joinDate&quot;</span><span class="p">]),</span>
            <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
            <span class="n">member_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ClanMemberType</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;memberType&quot;</span><span class="p">]),</span>
            <span class="n">is_online</span><span class="o">=</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;isOnline&quot;</span><span class="p">],</span>
            <span class="n">last_online</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">from_timestamp</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;lastOnlineStatusChange&quot;</span><span class="p">])),</span>
            <span class="n">inactive_memberships</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;areAllMembershipsInactive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">member</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;destinyUserInfo&quot;</span><span class="p">]),</span>
            <span class="n">group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;group&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_clan_conversations</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanConversation</span><span class="p">]:</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">vec</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanConversation</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">payload</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">convo</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">convo</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="nb">map</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

                <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="nb">map</span><span class="p">[</span><span class="s2">&quot;chatName&quot;</span><span class="p">])</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_name</span><span class="p">):</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

                <span class="n">convo_obj</span> <span class="o">=</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanConversation</span><span class="p">(</span>
                    <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                    <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
                    <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;conversationId&quot;</span><span class="p">]),</span>
                    <span class="n">chat_enabled</span><span class="o">=</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;chatEnabled&quot;</span><span class="p">],</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">security</span><span class="o">=</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;chatSecurity&quot;</span><span class="p">],</span>
                <span class="p">)</span>
                <span class="n">vec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">convo_obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">vec</span>

    <span class="k">def</span> <span class="nf">deserialize_app_owner</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">application</span><span class="o">.</span><span class="n">ApplicationOwner</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">application</span><span class="o">.</span><span class="n">ApplicationOwner</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;iconPath&quot;</span><span class="p">])),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">code</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_app</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">application</span><span class="o">.</span><span class="n">Application</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">application</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;applicationId&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">link</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;link&quot;</span><span class="p">],</span>
            <span class="n">status</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">],</span>
            <span class="n">redirect_url</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;redirectUrl&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">created_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;creationDate&quot;</span><span class="p">])),</span>
            <span class="n">published_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;firstPublished&quot;</span><span class="p">])),</span>
            <span class="n">owner</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_app_owner</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;user&quot;</span><span class="p">]),</span>  <span class="c1"># type: ignore</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scope&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_character_attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">:</span>
        <span class="n">total_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">format_played</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;minutesPlayedTotal&quot;</span><span class="p">]),</span> <span class="n">suffix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;characterId&quot;</span><span class="p">]),</span>
            <span class="n">gender</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Gender</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;genderType&quot;</span><span class="p">]),</span>
            <span class="n">race</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Race</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;raceType&quot;</span><span class="p">]),</span>
            <span class="n">class_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Class</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;classType&quot;</span><span class="p">]),</span>
            <span class="n">emblem</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;emblemBackgroundPath&quot;</span><span class="p">])),</span>
            <span class="n">emblem_icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;emblemPath&quot;</span><span class="p">])),</span>
            <span class="n">emblem_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;emblemHash&quot;</span><span class="p">]),</span>
            <span class="n">last_played</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateLastPlayed&quot;</span><span class="p">]),</span>
            <span class="n">total_played_time</span><span class="o">=</span><span class="n">total_time</span><span class="p">,</span>
            <span class="n">member_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">member_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
            <span class="n">level</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;baseCharacterLevel&quot;</span><span class="p">],</span>
            <span class="n">title_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;titleRecordHash&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">light</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;light&quot;</span><span class="p">],</span>
            <span class="n">stats</span><span class="o">=</span><span class="p">{</span><span class="n">enums</span><span class="o">.</span><span class="n">Stat</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stats&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_profile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_profile</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">payload</span> <span class="o">=</span> <span class="n">raw_profile</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;membershipId&quot;</span><span class="p">])</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;displayName&quot;</span><span class="p">]</span>
        <span class="n">is_public</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;isPublic&quot;</span><span class="p">]</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;membershipType&quot;</span><span class="p">])</span>
        <span class="n">last_played</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateLastPlayed&quot;</span><span class="p">]))</span>
        <span class="n">character_ids</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">cid</span><span class="p">)</span> <span class="k">for</span> <span class="n">cid</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;characterIds&quot;</span><span class="p">]]</span>
        <span class="n">power_cap</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentSeasonRewardPowerCap&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">is_public</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span>
            <span class="n">last_played</span><span class="o">=</span><span class="n">last_played</span><span class="p">,</span>
            <span class="n">character_ids</span><span class="o">=</span><span class="n">character_ids</span><span class="p">,</span>
            <span class="n">power_cap</span><span class="o">=</span><span class="n">power_cap</span><span class="p">,</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_profile_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">:</span>

        <span class="n">instance_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_instance_id</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemInstanceId&quot;</span><span class="p">):</span>
            <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_instance_id</span><span class="p">)</span>

        <span class="n">version_number</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_version</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;versionNumber&quot;</span><span class="p">):</span>
            <span class="n">version_number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_version</span><span class="p">)</span>

        <span class="n">transfer_status</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">TransferStatus</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;transferStatus&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemHash&quot;</span><span class="p">],</span>
            <span class="n">quantity</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">],</span>
            <span class="n">bind_status</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemBindStatus</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bindStatus&quot;</span><span class="p">]),</span>
            <span class="n">location</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemLocation</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]),</span>
            <span class="n">bucket</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bucketHash&quot;</span><span class="p">],</span>
            <span class="n">transfer_status</span><span class="o">=</span><span class="n">transfer_status</span><span class="p">,</span>
            <span class="n">lockable</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lockable&quot;</span><span class="p">],</span>
            <span class="n">state</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemState</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">]),</span>
            <span class="n">dismantel_permissions</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dismantlePermission&quot;</span><span class="p">],</span>
            <span class="n">is_wrapper</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isWrapper&quot;</span><span class="p">],</span>
            <span class="n">instance_id</span><span class="o">=</span><span class="n">instance_id</span><span class="p">,</span>
            <span class="n">version_number</span><span class="o">=</span><span class="n">version_number</span><span class="p">,</span>
            <span class="n">ornament_id</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;overrideStyleItemHash&quot;</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_objectives</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;objectiveHash&quot;</span><span class="p">],</span>
            <span class="n">visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span>
            <span class="n">complete</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">],</span>
            <span class="n">completion_value</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionValue&quot;</span><span class="p">],</span>
            <span class="n">progress</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;progress&quot;</span><span class="p">),</span>
            <span class="n">destination_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destinationHash&quot;</span><span class="p">),</span>
            <span class="n">activity_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activityHash&quot;</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="n">scores</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">RecordScores</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">nodes</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">:</span>
        <span class="n">objectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">interval_objectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">record_state</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">IntAnd</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">RecordState</span><span class="p">]</span>

        <span class="n">record_state</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">RecordState</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">raw_objs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;objectives&quot;</span><span class="p">):</span>
            <span class="n">objectives</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">raw_objs</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">raw_interval_objs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;intervalObjectives&quot;</span><span class="p">):</span>
            <span class="n">interval_objectives</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">raw_interval_objs</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">(</span>
            <span class="n">scores</span><span class="o">=</span><span class="n">scores</span><span class="p">,</span>
            <span class="n">categories_node_hash</span><span class="o">=</span><span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;categories_hash&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="n">seals_node_hash</span><span class="o">=</span><span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seals_hash&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="n">state</span><span class="o">=</span><span class="n">record_state</span><span class="p">,</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">objectives</span><span class="p">,</span>
            <span class="n">interval_objectives</span><span class="o">=</span><span class="n">interval_objectives</span><span class="p">,</span>
            <span class="n">redeemed_count</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;intervalsRedeemedCount&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">completion_times</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;completedCount&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">reward_visibility</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rewardVisibilty&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="n">scores</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">RecordScores</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">record_hashes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">:</span>

        <span class="n">record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_records</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">scores</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">(</span>
            <span class="n">scores</span><span class="o">=</span><span class="n">scores</span><span class="p">,</span>
            <span class="n">categories_node_hash</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">categories_node_hash</span><span class="p">,</span>
            <span class="n">seals_node_hash</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">seals_node_hash</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">state</span><span class="p">,</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">objectives</span><span class="p">,</span>
            <span class="n">interval_objectives</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">interval_objectives</span><span class="p">,</span>
            <span class="n">redeemed_count</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;intervalsRedeemedCount&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">completion_times</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;completedCount&quot;</span><span class="p">),</span>
            <span class="n">reward_visibility</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rewardVisibilty&quot;</span><span class="p">),</span>
            <span class="n">record_hashes</span><span class="o">=</span><span class="n">record_hashes</span> <span class="ow">or</span> <span class="p">[],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_dye</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">Dye</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">Dye</span><span class="p">(</span>
            <span class="n">channel_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;channelHash&quot;</span><span class="p">],</span> <span class="n">dye_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dyeHash&quot;</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_customization</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">CustomizationOptions</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">CustomizationOptions</span><span class="p">(</span>
            <span class="n">personality</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;personality&quot;</span><span class="p">],</span>
            <span class="n">face</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;face&quot;</span><span class="p">],</span>
            <span class="n">skin_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;skinColor&quot;</span><span class="p">],</span>
            <span class="n">lip_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lipColor&quot;</span><span class="p">],</span>
            <span class="n">eye_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;eyeColor&quot;</span><span class="p">],</span>
            <span class="n">hair_colors</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;hairColors&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">feature_colors</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;featureColors&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">decal_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;decalColor&quot;</span><span class="p">],</span>
            <span class="n">wear_helmet</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;wearHelmet&quot;</span><span class="p">],</span>
            <span class="n">hair_index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;hairIndex&quot;</span><span class="p">],</span>
            <span class="n">feature_index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;featureIndex&quot;</span><span class="p">],</span>
            <span class="n">decal_index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;decalIndex&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_minimal_equipments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">MinimalEquipments</span><span class="p">:</span>
        <span class="n">dyes</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_dyes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dyes&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">raw_dyes</span><span class="p">:</span>
                <span class="n">dyes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_dye</span><span class="p">(</span><span class="n">dye</span><span class="p">)</span> <span class="k">for</span> <span class="n">dye</span> <span class="ow">in</span> <span class="n">raw_dyes</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">MinimalEquipments</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span> <span class="n">item_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemHash&quot;</span><span class="p">],</span> <span class="n">dyes</span><span class="o">=</span><span class="n">dyes</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_render_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">customization</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_customization</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;customization&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">custom_dyes</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_dye</span><span class="p">(</span><span class="n">dye</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">dye</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;customDyes&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">dye</span>
            <span class="p">],</span>
            <span class="n">equipment</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_minimal_equipments</span><span class="p">(</span><span class="n">equipment</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">equipment</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;peerView&quot;</span><span class="p">][</span><span class="s2">&quot;equipment&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_available_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">AvailableActivity</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">AvailableActivity</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityHash&quot;</span><span class="p">],</span>
            <span class="n">is_new</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isNew&quot;</span><span class="p">],</span>
            <span class="n">is_completed</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isCompleted&quot;</span><span class="p">],</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isVisible&quot;</span><span class="p">],</span>
            <span class="n">display_level</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displayLevel&quot;</span><span class="p">),</span>
            <span class="n">recommended_light</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;recommendedLight&quot;</span><span class="p">),</span>
            <span class="n">difficulty</span><span class="o">=</span><span class="n">activity</span><span class="o">.</span><span class="n">Difficulty</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;difficultyTier&quot;</span><span class="p">]),</span>
            <span class="n">can_join</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canJoin&quot;</span><span class="p">],</span>
            <span class="n">can_lead</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canLead&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">:</span>
        <span class="n">current_mode</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_current_mode</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentActivityModeType&quot;</span><span class="p">):</span>
            <span class="n">current_mode</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">raw_current_mode</span><span class="p">)</span>

        <span class="n">current_mode_types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_current_modes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentActivityModeTypes&quot;</span><span class="p">):</span>
            <span class="n">current_mode_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">raw_current_modes</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">(</span>
            <span class="n">date_started</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateActivityStarted&quot;</span><span class="p">]),</span>
            <span class="n">current_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentActivityHash&quot;</span><span class="p">],</span>
            <span class="n">current_mode_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentActivityModeHash&quot;</span><span class="p">],</span>
            <span class="n">current_mode</span><span class="o">=</span><span class="n">current_mode</span><span class="p">,</span>
            <span class="n">current_mode_hashes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentActivityModeHashes&quot;</span><span class="p">),</span>
            <span class="n">current_mode_types</span><span class="o">=</span><span class="n">current_mode_types</span><span class="p">,</span>
            <span class="n">current_playlist_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentPlaylistActivityHash&quot;</span><span class="p">),</span>
            <span class="n">last_story_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lastCompletedStoryHash&quot;</span><span class="p">],</span>
            <span class="n">available_activities</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_available_activity</span><span class="p">(</span><span class="n">activity_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">activity_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;availableActivities&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_profile_items</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]]</span>

    <span class="k">def</span> <span class="nf">_deserialize_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span>
            <span class="n">state</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">]),</span>
            <span class="n">objective</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;objective&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="s2">&quot;objective&quot;</span> <span class="ow">in</span> <span class="n">payload</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">progress_value</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressValue&quot;</span><span class="p">]),</span>
            <span class="n">completion_value</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionValue&quot;</span><span class="p">]),</span>
            <span class="n">record_category_score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;recordCategoryScore&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="s2">&quot;recordCategoryScore&quot;</span> <span class="ow">in</span> <span class="n">payload</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_deserialize_collectible</span><span class="p">(</span><span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">:</span>
        <span class="n">recent_collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_recent_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;recentCollectibleHashes&quot;</span><span class="p">):</span>
            <span class="n">recent_collectibles</span> <span class="o">=</span> <span class="p">[</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">item_hash</span><span class="p">)</span> <span class="k">for</span> <span class="n">item_hash</span> <span class="ow">in</span> <span class="n">raw_recent_collectibles</span>
            <span class="p">]</span>

        <span class="n">collectibles</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">item_hash</span><span class="p">,</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;collectibles&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">collectibles</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">item_hash</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">mapping</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">(</span>
            <span class="n">recent_collectibles</span><span class="o">=</span><span class="n">recent_collectibles</span><span class="p">,</span>
            <span class="n">collectibles</span><span class="o">=</span><span class="n">collectibles</span><span class="p">,</span>
            <span class="n">collection_categorie_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;collectionCategoriesRootNodeHash&quot;</span><span class="p">]),</span>
            <span class="n">collection_badges_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;collectionBadgesRootNodeHash&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_deserialize_currencies</span><span class="p">(</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span><span class="nb">hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">item_hash</span><span class="p">),</span> <span class="n">amount</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">amount</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">item_hash</span><span class="p">,</span> <span class="n">amount</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemQuantities&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">deserialize_progressions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressionHash&quot;</span><span class="p">]),</span>
            <span class="n">level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]),</span>
            <span class="n">cap</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;levelCap&quot;</span><span class="p">]),</span>
            <span class="n">daily_limit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dailyLimit&quot;</span><span class="p">]),</span>
            <span class="n">weekly_limit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;weeklyLimit&quot;</span><span class="p">]),</span>
            <span class="n">current_progress</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentProgress&quot;</span><span class="p">]),</span>
            <span class="n">daily_progress</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dailyProgress&quot;</span><span class="p">]),</span>
            <span class="n">needed</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressToNextLevel&quot;</span><span class="p">]),</span>
            <span class="n">next_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;nextLevelAt&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_factions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Factions</span><span class="p">:</span>
        <span class="n">progs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_progressions</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Factions</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
            <span class="n">level</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">level</span><span class="p">,</span>
            <span class="n">cap</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">cap</span><span class="p">,</span>
            <span class="n">daily_limit</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">daily_limit</span><span class="p">,</span>
            <span class="n">weekly_limit</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">weekly_limit</span><span class="p">,</span>
            <span class="n">current_progress</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">current_progress</span><span class="p">,</span>
            <span class="n">daily_progress</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">daily_progress</span><span class="p">,</span>
            <span class="n">needed</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">needed</span><span class="p">,</span>
            <span class="n">next_level</span><span class="o">=</span><span class="n">progs</span><span class="o">.</span><span class="n">next_level</span><span class="p">,</span>
            <span class="n">faction_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;factionHash&quot;</span><span class="p">],</span>
            <span class="n">faction_vendor_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;factionVendorIndex&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_milestone_available_quest</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneQuest</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneQuest</span><span class="p">(</span>
            <span class="n">item_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;questItemHash&quot;</span><span class="p">],</span>
            <span class="n">status</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_quest_status</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_milestone_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivity</span><span class="p">:</span>

        <span class="n">phases</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivityPhase</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_phases</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;phases&quot;</span><span class="p">):</span>
            <span class="n">phases</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivityPhase</span><span class="p">(</span>
                    <span class="n">is_completed</span><span class="o">=</span><span class="n">obj</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">],</span> <span class="nb">hash</span><span class="o">=</span><span class="n">obj</span><span class="p">[</span><span class="s2">&quot;phaseHash&quot;</span><span class="p">]</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">raw_phases</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivity</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityHash&quot;</span><span class="p">],</span>
            <span class="n">challenges</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="s2">&quot;objective&quot;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;challenges&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">modifier_hashes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;modifierHashes&quot;</span><span class="p">),</span>
            <span class="n">boolean_options</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;booleanActivityOptions&quot;</span><span class="p">),</span>
            <span class="n">phases</span><span class="o">=</span><span class="n">phases</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_milestone_quest_status</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">QuestStatus</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">QuestStatus</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">quest_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;questHash&quot;</span><span class="p">],</span>
            <span class="n">step_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stepHash&quot;</span><span class="p">],</span>
            <span class="n">step_objectives</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">objective</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">objective</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stepObjectives&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">is_tracked</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tracked&quot;</span><span class="p">],</span>
            <span class="n">is_completed</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">],</span>
            <span class="n">started</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;started&quot;</span><span class="p">],</span>
            <span class="n">item_instance_id</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemInstanceId&quot;</span><span class="p">],</span>
            <span class="n">vendor_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vendorHash&quot;</span><span class="p">),</span>
            <span class="n">is_redeemed</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;redeemed&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_milestone_rewards</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneReward</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneReward</span><span class="p">(</span>
            <span class="n">category_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;rewardCategoryHash&quot;</span><span class="p">],</span>
            <span class="n">entries</span><span class="o">=</span><span class="p">[</span>
                <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneRewardEntry</span><span class="p">(</span>
                    <span class="n">entry_hash</span><span class="o">=</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;rewardEntryHash&quot;</span><span class="p">],</span>
                    <span class="n">is_earned</span><span class="o">=</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;earned&quot;</span><span class="p">],</span>
                    <span class="n">is_redeemed</span><span class="o">=</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;redeemed&quot;</span><span class="p">],</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;entries&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_milestone</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">Milestone</span><span class="p">:</span>
        <span class="n">start_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_start_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;startDate&quot;</span><span class="p">):</span>
            <span class="n">start_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_start_date</span><span class="p">)</span>

        <span class="n">end_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_end_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;endDate&quot;</span><span class="p">):</span>
            <span class="n">end_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_end_date</span><span class="p">)</span>

        <span class="n">rewards</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneReward</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_rewards</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rewards&quot;</span><span class="p">):</span>
            <span class="n">rewards</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_rewards</span><span class="p">(</span><span class="n">reward</span><span class="p">)</span> <span class="k">for</span> <span class="n">reward</span> <span class="ow">in</span> <span class="n">raw_rewards</span>
            <span class="p">]</span>

        <span class="n">activities</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivity</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_activities</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">):</span>
            <span class="n">activities</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_activity</span><span class="p">(</span><span class="n">active</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">active</span> <span class="ow">in</span> <span class="n">raw_activities</span>
            <span class="p">]</span>

        <span class="n">quests</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneQuest</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_quests</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;availableQuests&quot;</span><span class="p">):</span>
            <span class="n">quests</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_available_quest</span><span class="p">(</span><span class="n">quest</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">quest</span> <span class="ow">in</span> <span class="n">raw_quests</span>
            <span class="p">]</span>

        <span class="n">vendors</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneVendor</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_vendors</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vendors&quot;</span><span class="p">):</span>
            <span class="n">vendors</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneVendor</span><span class="p">(</span>
                    <span class="n">vendor_hash</span><span class="o">=</span><span class="n">vendor</span><span class="p">[</span><span class="s2">&quot;vendorHash&quot;</span><span class="p">],</span>
                    <span class="n">preview_itemhash</span><span class="o">=</span><span class="n">vendor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;previewItemHash&quot;</span><span class="p">),</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">vendor</span> <span class="ow">in</span> <span class="n">raw_vendors</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">Milestone</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;milestoneHash&quot;</span><span class="p">],</span>
            <span class="n">start_date</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
            <span class="n">end_date</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
            <span class="n">order</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">],</span>
            <span class="n">rewards</span><span class="o">=</span><span class="n">rewards</span><span class="p">,</span>
            <span class="n">available_quests</span><span class="o">=</span><span class="n">quests</span><span class="p">,</span>
            <span class="n">activities</span><span class="o">=</span><span class="n">activities</span><span class="p">,</span>
            <span class="n">vendors</span><span class="o">=</span><span class="n">vendors</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_artifact_tiers</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">season</span><span class="o">.</span><span class="n">ArtifactTier</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">season</span><span class="o">.</span><span class="n">ArtifactTier</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tierHash&quot;</span><span class="p">],</span>
            <span class="n">is_unlocked</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isUnlocked&quot;</span><span class="p">],</span>
            <span class="n">points_to_unlock</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;pointsToUnlock&quot;</span><span class="p">],</span>
            <span class="n">items</span><span class="o">=</span><span class="p">[</span>
                <span class="n">season</span><span class="o">.</span><span class="n">ArtifactTierItem</span><span class="p">(</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;itemHash&quot;</span><span class="p">],</span> <span class="n">is_active</span><span class="o">=</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;isActive&quot;</span><span class="p">]</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_characters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_character_attrs</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_character</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_character_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_equipments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_character_activities</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_activity</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_characters_render_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_render_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_character_progressions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">:</span>
        <span class="n">progressions_</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">prog_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_progressions</span><span class="p">(</span><span class="n">prog</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">prog_id</span><span class="p">,</span> <span class="n">prog</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">factions</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">faction_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_factions</span><span class="p">(</span><span class="n">faction</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">faction_id</span><span class="p">,</span> <span class="n">faction</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;factions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">milestones_</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">milestone_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_milestone</span><span class="p">(</span><span class="n">milestone</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">milestone_hash</span><span class="p">,</span> <span class="n">milestone</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;milestones&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">uninstanced_item_objectives</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">item_hash</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">ins</span><span class="p">)</span> <span class="k">for</span> <span class="n">ins</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">item_hash</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;uninstancedItemObjectives&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">artifact</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;seasonalArtifact&quot;</span><span class="p">]</span>
        <span class="n">seasonal_artifact</span> <span class="o">=</span> <span class="n">season</span><span class="o">.</span><span class="n">CharacterScopedArtifact</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;artifactHash&quot;</span><span class="p">],</span>
            <span class="n">points_used</span><span class="o">=</span><span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;pointsUsed&quot;</span><span class="p">],</span>
            <span class="n">reset_count</span><span class="o">=</span><span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;resetCount&quot;</span><span class="p">],</span>
            <span class="n">tiers</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_artifact_tiers</span><span class="p">(</span><span class="n">tier</span><span class="p">)</span> <span class="k">for</span> <span class="n">tier</span> <span class="ow">in</span> <span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;tiers&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="n">checklists</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;checklists&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">(</span>
            <span class="n">progressions</span><span class="o">=</span><span class="n">progressions_</span><span class="p">,</span>
            <span class="n">factions</span><span class="o">=</span><span class="n">factions</span><span class="p">,</span>
            <span class="n">checklists</span><span class="o">=</span><span class="n">checklists</span><span class="p">,</span>
            <span class="n">milestones</span><span class="o">=</span><span class="n">milestones_</span><span class="p">,</span>
            <span class="n">seasonal_artifact</span><span class="o">=</span><span class="n">seasonal_artifact</span><span class="p">,</span>
            <span class="n">uninstanced_item_objectives</span><span class="o">=</span><span class="n">uninstanced_item_objectives</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_progressions_mapping</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">]:</span>
        <span class="n">character_progressions</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
            <span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># A little hack to stop mypy complaining about Mapping &lt;-&gt; dict</span>
            <span class="n">character_progressions</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_progressions</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># type: ignore[index]</span>
        <span class="k">return</span> <span class="n">character_progressions</span>

    <span class="k">def</span> <span class="nf">deserialize_characters_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">rec_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_records</span><span class="p">(</span>
                <span class="n">rec</span><span class="p">,</span> <span class="n">record_hashes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;featuredRecordHashes&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">rec_id</span><span class="p">,</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;records&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">deserialize_profile_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">]:</span>
        <span class="n">raw_profile_records</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
        <span class="n">scores</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">RecordScores</span><span class="p">(</span>
            <span class="n">current_score</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">],</span>
            <span class="n">legacy_score</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;legacyScore&quot;</span><span class="p">],</span>
            <span class="n">lifetime_score</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;lifetimeScore&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">record_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_records</span><span class="p">(</span>
                <span class="n">record</span><span class="p">,</span>
                <span class="n">scores</span><span class="p">,</span>
                <span class="n">categories_hash</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;recordCategoriesRootNodeHash&quot;</span><span class="p">],</span>
                <span class="n">seals_hash</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;recordSealsRootNodeHash&quot;</span><span class="p">],</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;records&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_deserialize_craftable_socket_plug</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableSocketPlug</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableSocketPlug</span><span class="p">(</span>
            <span class="n">item_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;plugItemHash&quot;</span><span class="p">]),</span>
            <span class="n">failed_requirement_indexes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;failedRequirementIndexes&quot;</span><span class="p">,</span> <span class="p">[]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_craftable_socket</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableSocket</span><span class="p">:</span>

        <span class="n">plugs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">CraftableSocketPlug</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">raw_plug</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plug&quot;</span><span class="p">):</span>
            <span class="n">plugs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_craftable_socket_plug</span><span class="p">(</span><span class="n">plug</span><span class="p">)</span> <span class="k">for</span> <span class="n">plug</span> <span class="ow">in</span> <span class="n">raw_plug</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableSocket</span><span class="p">(</span>
            <span class="n">plug_set_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;plugSetHash&quot;</span><span class="p">]),</span> <span class="n">plugs</span><span class="o">=</span><span class="n">plugs</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_craftable_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableItem</span><span class="p">:</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">CraftableItem</span><span class="p">(</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span>
            <span class="n">failed_requirement_indexes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;failedRequirementIndexes&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">sockets</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_craftable_socket</span><span class="p">(</span><span class="n">socket</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">socket</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;sockets&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_craftables_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">CraftablesComponent</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">CraftablesComponent</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">craftables</span><span class="o">=</span><span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">item_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_craftable_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;craftables&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">},</span>
            <span class="n">crafting_root_node_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;craftingRootNodeHash&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_components</span><span class="p">(</span>  <span class="c1"># noqa: C901 Too complex.</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">Component</span><span class="p">:</span>

        <span class="n">profile_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">):</span>
            <span class="n">profile_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile</span><span class="p">(</span><span class="n">raw_profile</span><span class="p">)</span>

        <span class="n">profile_progression</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileProgression</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_progression</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileProgression&quot;</span><span class="p">):</span>
            <span class="n">profile_progression</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_progression</span><span class="p">(</span>
                <span class="n">raw_profile_progression</span>
            <span class="p">)</span>

        <span class="n">profile_currencies</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_currencies</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileCurrencies&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_profile_currencies</span><span class="p">:</span>
                <span class="n">profile_currencies</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span>
                    <span class="n">raw_profile_currencies</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
                <span class="p">)</span>

        <span class="n">profile_inventories</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_inventories</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileInventory&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_profile_inventories</span><span class="p">:</span>
                <span class="n">profile_inventories</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span>
                    <span class="n">raw_profile_inventories</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
                <span class="p">)</span>

        <span class="n">profile_records</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_profile_records_</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileRecords&quot;</span><span class="p">):</span>
            <span class="n">profile_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_records</span><span class="p">(</span><span class="n">raw_profile_records_</span><span class="p">)</span>

        <span class="n">characters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_characters</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characters&quot;</span><span class="p">):</span>
            <span class="n">characters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_characters</span><span class="p">(</span><span class="n">raw_characters</span><span class="p">)</span>

        <span class="n">character_records</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_character_records</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterRecords&quot;</span><span class="p">):</span>
            <span class="c1"># Had to do it in two steps..</span>
            <span class="n">to_update</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_character_records</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">to_update</span><span class="p">[</span><span class="n">record_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span>

            <span class="n">character_records</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">rec_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_records</span><span class="p">(</span>
                    <span class="n">rec</span><span class="p">,</span> <span class="n">record_hashes</span><span class="o">=</span><span class="n">to_update</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;featuredRecordHashes&quot;</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">rec_id</span><span class="p">,</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">to_update</span><span class="p">[</span><span class="s2">&quot;records&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_equipments</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_equips</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterEquipment&quot;</span><span class="p">):</span>
            <span class="n">character_equipments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_equipments</span><span class="p">(</span>
                <span class="n">raw_character_equips</span>
            <span class="p">)</span>

        <span class="n">character_inventories</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_inventories</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterInventories&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_character_inventories</span><span class="p">:</span>
                <span class="n">character_inventories</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_equipments</span><span class="p">(</span>
                    <span class="n">raw_character_inventories</span>
                <span class="p">)</span>

        <span class="n">character_activities</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_acts</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterActivities&quot;</span><span class="p">):</span>
            <span class="n">character_activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_activities</span><span class="p">(</span><span class="n">raw_char_acts</span><span class="p">)</span>

        <span class="n">character_render_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_render_data</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterRenderData&quot;</span><span class="p">):</span>
            <span class="n">character_render_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_characters_render_data</span><span class="p">(</span>
                <span class="n">raw_character_render_data</span>
            <span class="p">)</span>

        <span class="n">character_progressions</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_character_progressions</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterProgressions&quot;</span><span class="p">):</span>
            <span class="n">character_progressions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_progressions_mapping</span><span class="p">(</span>
                <span class="n">raw_character_progressions</span>
            <span class="p">)</span>

        <span class="n">profile_string_vars</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_string_vars</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileStringVariables&quot;</span><span class="p">):</span>
            <span class="n">profile_string_vars</span> <span class="o">=</span> <span class="n">raw_profile_string_vars</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;integerValuesByHash&quot;</span><span class="p">]</span>

        <span class="n">character_string_vars</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_string_vars</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterStringVariables&quot;</span><span class="p">):</span>
            <span class="n">character_string_vars</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;integerValuesByHash&quot;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_character_string_vars</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">metrics</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span>
                <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
                    <span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span>
                <span class="p">]</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">root_node_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_metrics</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;metrics&quot;</span><span class="p">):</span>
            <span class="n">root_node_hash</span> <span class="o">=</span> <span class="n">raw_metrics</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;metricsRootNodeHash&quot;</span><span class="p">]</span>
            <span class="n">metrics</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">metrics_hash</span><span class="p">):</span> <span class="p">(</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;invisible&quot;</span><span class="p">],</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;objectiveProgress&quot;</span><span class="p">])</span>
                        <span class="k">if</span> <span class="s2">&quot;objectiveProgress&quot;</span> <span class="ow">in</span> <span class="n">payload</span>
                        <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">metrics_hash</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_metrics</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;metrics&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="n">transitory</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamParty</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_transitory</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileTransitoryData&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_transitory</span><span class="p">:</span>
                <span class="n">transitory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_party</span><span class="p">(</span><span class="n">raw_transitory</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">item_components</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_item_components</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemComponents&quot;</span><span class="p">):</span>
            <span class="n">item_components</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_items_component</span><span class="p">(</span><span class="n">raw_item_components</span><span class="p">)</span>

        <span class="n">profile_plugsets</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_profile_plugs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profilePlugSets&quot;</span><span class="p">):</span>
            <span class="n">profile_plugsets</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_profile_plugs</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;plugs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_plugsets</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
                <span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_plugsets</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterPlugSets&quot;</span><span class="p">):</span>
            <span class="n">character_plugsets</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">):</span> <span class="p">[</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">data</span>
                    <span class="p">]</span>
                    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">inner</span><span class="p">[</span><span class="s2">&quot;plugs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">inner</span> <span class="ow">in</span> <span class="n">raw_char_plugsets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterCollectibles&quot;</span><span class="p">):</span>
            <span class="n">character_collectibles</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_collectible</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_character_collectibles</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">profile_collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileCollectibles&quot;</span><span class="p">):</span>
            <span class="n">profile_collectibles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_collectible</span><span class="p">(</span>
                <span class="n">raw_profile_collectibles</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">profile_nodes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_nodes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profilePresentationNodes&quot;</span><span class="p">):</span>
            <span class="n">profile_nodes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">node_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">node_hash</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">raw_profile_nodes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_nodes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_nodes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterPresentationNodes&quot;</span><span class="p">):</span>
            <span class="n">character_nodes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">node_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">node_hash</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">each_character</span><span class="p">[</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">each_character</span> <span class="ow">in</span> <span class="n">raw_character_nodes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">platform_silver</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_platform_silver</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;platformSilver&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_platform_silver</span><span class="p">:</span>
                <span class="n">platform_silver</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">platform_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">platform_name</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_platform_silver</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span>
                        <span class="s2">&quot;platformSilver&quot;</span>
                    <span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>

        <span class="n">character_currency_lookups</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_lookups</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterCurrencyLookups&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_char_lookups</span><span class="p">:</span>
                <span class="n">character_currency_lookups</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_currencies</span><span class="p">(</span><span class="n">currencie</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">currencie</span> <span class="ow">in</span> <span class="n">raw_char_lookups</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>

        <span class="n">character_craftables</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">components</span><span class="o">.</span><span class="n">CraftablesComponent</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_craftables</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterCraftables&quot;</span><span class="p">):</span>

            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_character_craftables</span><span class="p">:</span>
                <span class="n">character_craftables</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_craftables_component</span><span class="p">(</span><span class="n">craftable</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">craftable</span> <span class="ow">in</span> <span class="n">raw_character_craftables</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">Component</span><span class="p">(</span>
            <span class="n">profiles</span><span class="o">=</span><span class="n">profile_</span><span class="p">,</span>
            <span class="n">profile_progression</span><span class="o">=</span><span class="n">profile_progression</span><span class="p">,</span>
            <span class="n">profile_currencies</span><span class="o">=</span><span class="n">profile_currencies</span><span class="p">,</span>
            <span class="n">profile_inventories</span><span class="o">=</span><span class="n">profile_inventories</span><span class="p">,</span>
            <span class="n">profile_records</span><span class="o">=</span><span class="n">profile_records</span><span class="p">,</span>
            <span class="n">characters</span><span class="o">=</span><span class="n">characters</span><span class="p">,</span>
            <span class="n">character_records</span><span class="o">=</span><span class="n">character_records</span><span class="p">,</span>
            <span class="n">character_equipments</span><span class="o">=</span><span class="n">character_equipments</span><span class="p">,</span>
            <span class="n">character_inventories</span><span class="o">=</span><span class="n">character_inventories</span><span class="p">,</span>
            <span class="n">character_activities</span><span class="o">=</span><span class="n">character_activities</span><span class="p">,</span>
            <span class="n">character_render_data</span><span class="o">=</span><span class="n">character_render_data</span><span class="p">,</span>
            <span class="n">character_progressions</span><span class="o">=</span><span class="n">character_progressions</span><span class="p">,</span>
            <span class="n">profile_string_variables</span><span class="o">=</span><span class="n">profile_string_vars</span><span class="p">,</span>
            <span class="n">character_string_variables</span><span class="o">=</span><span class="n">character_string_vars</span><span class="p">,</span>
            <span class="n">metrics</span><span class="o">=</span><span class="n">metrics</span><span class="p">,</span>
            <span class="n">root_node_hash</span><span class="o">=</span><span class="n">root_node_hash</span><span class="p">,</span>
            <span class="n">transitory</span><span class="o">=</span><span class="n">transitory</span><span class="p">,</span>
            <span class="n">item_components</span><span class="o">=</span><span class="n">item_components</span><span class="p">,</span>
            <span class="n">profile_plugsets</span><span class="o">=</span><span class="n">profile_plugsets</span><span class="p">,</span>
            <span class="n">character_plugsets</span><span class="o">=</span><span class="n">character_plugsets</span><span class="p">,</span>
            <span class="n">character_collectibles</span><span class="o">=</span><span class="n">character_collectibles</span><span class="p">,</span>
            <span class="n">profile_collectibles</span><span class="o">=</span><span class="n">profile_collectibles</span><span class="p">,</span>
            <span class="n">profile_nodes</span><span class="o">=</span><span class="n">profile_nodes</span><span class="p">,</span>
            <span class="n">character_nodes</span><span class="o">=</span><span class="n">character_nodes</span><span class="p">,</span>
            <span class="n">platform_silver</span><span class="o">=</span><span class="n">platform_silver</span><span class="p">,</span>
            <span class="n">character_currency_lookups</span><span class="o">=</span><span class="n">character_currency_lookups</span><span class="p">,</span>
            <span class="n">character_craftables</span><span class="o">=</span><span class="n">character_craftables</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_items_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">:</span>
        <span class="n">instances</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemInstance</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_instances</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;instances&quot;</span><span class="p">):</span>
            <span class="n">instances</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_instanced_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_instances</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">]</span>

        <span class="n">render_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_render_data</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderData&quot;</span><span class="p">):</span>
            <span class="n">render_data</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;useCustomDyes&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;artRegions&quot;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_render_data</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">stats</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_stats</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stats&quot;</span><span class="p">):</span>
            <span class="n">builder</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">stat</span> <span class="ow">in</span> <span class="n">raw_stats</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">items_</span> <span class="ow">in</span> <span class="n">stat</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">builder</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_stats_view</span><span class="p">(</span><span class="n">items_</span><span class="p">)</span>  <span class="c1"># type: ignore[index]</span>
            <span class="n">stats</span> <span class="o">=</span> <span class="n">builder</span>

        <span class="n">sockets</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemSocket</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_sockets</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sockets&quot;</span><span class="p">):</span>
            <span class="n">sockets</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_socket</span><span class="p">(</span><span class="n">socket</span><span class="p">)</span> <span class="k">for</span> <span class="n">socket</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;sockets&quot;</span><span class="p">]</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_sockets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">objeectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_objectives</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;objectives&quot;</span><span class="p">):</span>
            <span class="n">objeectives</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">objective</span><span class="p">)]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_objectives</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">objective</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]</span>
            <span class="p">}</span>

        <span class="n">perks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemPerk</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_perks</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;perks&quot;</span><span class="p">):</span>
            <span class="n">perks</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_perk</span><span class="p">(</span><span class="n">perk</span><span class="p">)</span> <span class="k">for</span> <span class="n">perk</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;perks&quot;</span><span class="p">]</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_perks</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">plug_states</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_plug_states</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugStates&quot;</span><span class="p">):</span>
            <span class="n">pending_states</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">plug</span> <span class="ow">in</span> <span class="n">raw_plug_states</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">pending_states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">plug</span><span class="p">))</span>
            <span class="n">plug_states</span> <span class="o">=</span> <span class="n">pending_states</span>

        <span class="n">reusable_plugs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_re_plugs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;reusablePlugs&quot;</span><span class="p">):</span>
            <span class="n">reusable_plugs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">inner</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">plug</span> <span class="ow">in</span> <span class="n">raw_re_plugs</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">inner</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">plug</span><span class="p">[</span><span class="s2">&quot;plugs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="p">}</span>

        <span class="n">plug_objectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
                <span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_plug_objectives</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugObjectives&quot;</span><span class="p">):</span>
            <span class="n">plug_objectives</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">obj_hash</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objs</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">obj_hash</span><span class="p">,</span> <span class="n">objs</span> <span class="ow">in</span> <span class="n">inner</span><span class="p">[</span><span class="s2">&quot;objectivesPerPlug&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">inner</span> <span class="ow">in</span> <span class="n">raw_plug_objectives</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">(</span>
            <span class="n">sockets</span><span class="o">=</span><span class="n">sockets</span><span class="p">,</span>
            <span class="n">stats</span><span class="o">=</span><span class="n">stats</span><span class="p">,</span>
            <span class="n">render_data</span><span class="o">=</span><span class="n">render_data</span><span class="p">,</span>
            <span class="n">instances</span><span class="o">=</span><span class="n">instances</span><span class="p">,</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">objeectives</span><span class="p">,</span>
            <span class="n">perks</span><span class="o">=</span><span class="n">perks</span><span class="p">,</span>
            <span class="n">plug_states</span><span class="o">=</span><span class="n">plug_states</span><span class="p">,</span>
            <span class="n">reusable_plugs</span><span class="o">=</span><span class="n">reusable_plugs</span><span class="p">,</span>
            <span class="n">plug_objectives</span><span class="o">=</span><span class="n">plug_objectives</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_character_component</span><span class="p">(</span>  <span class="c1"># type: ignore[call-arg]</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">CharacterComponent</span><span class="p">:</span>

        <span class="n">character_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_singuler_character</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;character&quot;</span><span class="p">):</span>
            <span class="n">character_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character</span><span class="p">(</span><span class="n">raw_singuler_character</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">inventory</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_inventory</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inventory&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_inventory</span><span class="p">:</span>
                <span class="n">inventory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span><span class="n">raw_inventory</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">activities</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_activities</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">):</span>
            <span class="n">activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_activity</span><span class="p">(</span><span class="n">raw_activities</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">equipment</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_equipments</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equipment&quot;</span><span class="p">):</span>
            <span class="n">equipment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span><span class="n">raw_equipments</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">progressions_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_progressions</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;progressions&quot;</span><span class="p">):</span>
            <span class="n">progressions_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_progressions</span><span class="p">(</span>
                <span class="n">raw_progressions</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">render_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_render_data</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderData&quot;</span><span class="p">):</span>
            <span class="n">render_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_render_data</span><span class="p">(</span>
                <span class="n">raw_render_data</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">character_records</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_records</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;records&quot;</span><span class="p">):</span>
            <span class="n">character_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_characters_records</span><span class="p">(</span>
                <span class="n">raw_char_records</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">item_components</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_item_components</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemComponents&quot;</span><span class="p">):</span>
            <span class="n">item_components</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_items_component</span><span class="p">(</span><span class="n">raw_item_components</span><span class="p">)</span>

        <span class="n">nodes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_nodes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;presentationNodes&quot;</span><span class="p">):</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">node_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">node_hash</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">raw_nodes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;collectibles&quot;</span><span class="p">):</span>
            <span class="n">collectibles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_collectible</span><span class="p">(</span><span class="n">raw_collectibles</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">currency_lookups</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_currencies</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currencyLookups&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_currencies</span><span class="p">:</span>
                <span class="n">currency_lookups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_currencies</span><span class="p">(</span><span class="n">raw_currencies</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">CharacterComponent</span><span class="p">(</span>
            <span class="n">activities</span><span class="o">=</span><span class="n">activities</span><span class="p">,</span>
            <span class="n">equipment</span><span class="o">=</span><span class="n">equipment</span><span class="p">,</span>
            <span class="n">inventory</span><span class="o">=</span><span class="n">inventory</span><span class="p">,</span>
            <span class="n">progressions</span><span class="o">=</span><span class="n">progressions_</span><span class="p">,</span>
            <span class="n">render_data</span><span class="o">=</span><span class="n">render_data</span><span class="p">,</span>
            <span class="n">character</span><span class="o">=</span><span class="n">character_</span><span class="p">,</span>
            <span class="n">character_records</span><span class="o">=</span><span class="n">character_records</span><span class="p">,</span>
            <span class="n">profile_records</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">item_components</span><span class="o">=</span><span class="n">item_components</span><span class="p">,</span>
            <span class="n">currency_lookups</span><span class="o">=</span><span class="n">currency_lookups</span><span class="p">,</span>
            <span class="n">collectibles</span><span class="o">=</span><span class="n">collectibles</span><span class="p">,</span>
            <span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_entity_attrs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;displayProperties&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">Entity</span><span class="p">:</span>

        <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>

        <span class="k">if</span> <span class="n">properties</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="n">properties</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">raw_description</span> <span class="o">:=</span> <span class="n">properties</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span>
            <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_description</span><span class="p">):</span>
                <span class="n">description</span> <span class="o">=</span> <span class="n">raw_description</span>

        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">Entity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;hash&quot;</span><span class="p">],</span>
            <span class="n">index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">has_icon</span><span class="o">=</span><span class="n">properties</span><span class="p">[</span><span class="s2">&quot;hasIcon&quot;</span><span class="p">],</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">properties</span><span class="p">[</span><span class="s2">&quot;icon&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="s2">&quot;icon&quot;</span> <span class="ow">in</span> <span class="n">properties</span> <span class="k">else</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_inventory_results</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">entity</span><span class="o">.</span><span class="n">SearchableEntity</span><span class="p">]:</span>
        <span class="n">suggested_words</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;suggestedWords&quot;</span><span class="p">]</span>

        <span class="k">def</span> <span class="nf">_check_unknown</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">s</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">else</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>

        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">entity</span><span class="o">.</span><span class="n">SearchableEntity</span><span class="p">(</span>
                    <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;hash&quot;</span><span class="p">],</span>
                    <span class="n">entity_type</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;entityType&quot;</span><span class="p">],</span>
                    <span class="n">weight</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">],</span>
                    <span class="n">suggested_words</span><span class="o">=</span><span class="n">suggested_words</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
                    <span class="n">has_icon</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;hasIcon&quot;</span><span class="p">],</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">_check_unknown</span><span class="p">(</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;description&quot;</span><span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;icon&quot;</span><span class="p">]),</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="s2">&quot;results&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_inventory_item_objects</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntityObjects</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntityObjects</span><span class="p">(</span>
            <span class="n">action</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;action&quot;</span><span class="p">),</span>
            <span class="n">set_data</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;setData&quot;</span><span class="p">),</span>
            <span class="n">stats</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stats&quot;</span><span class="p">),</span>
            <span class="n">equipping_block</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equippingBlock&quot;</span><span class="p">),</span>
            <span class="n">translation_block</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;translationBlock&quot;</span><span class="p">),</span>
            <span class="n">preview</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;preview&quot;</span><span class="p">),</span>
            <span class="n">quality</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;quality&quot;</span><span class="p">),</span>
            <span class="n">value</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">),</span>
            <span class="n">source_data</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sourceData&quot;</span><span class="p">),</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;objectives&quot;</span><span class="p">),</span>
            <span class="n">plug</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plug&quot;</span><span class="p">),</span>
            <span class="n">metrics</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;metrics&quot;</span><span class="p">),</span>
            <span class="n">gearset</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;gearset&quot;</span><span class="p">),</span>
            <span class="n">sack</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sack&quot;</span><span class="p">),</span>
            <span class="n">sockets</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sockets&quot;</span><span class="p">),</span>
            <span class="n">summary</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;summary&quot;</span><span class="p">),</span>
            <span class="n">talent_gird</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;talentGrid&quot;</span><span class="p">),</span>
            <span class="n">investments_stats</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;investmentStats&quot;</span><span class="p">),</span>
            <span class="n">perks</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;perks&quot;</span><span class="p">),</span>
            <span class="n">animations</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;animations&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">links</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;links&quot;</span><span class="p">,</span> <span class="p">[]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_inventory_entity</span><span class="p">(</span>  <span class="c1"># noqa: C901 Too complex.</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntity</span><span class="p">:</span>

        <span class="n">props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_entity_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="n">objects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_inventory_item_objects</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>

        <span class="n">collectible_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_collectible_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;collectibleHash&quot;</span><span class="p">):</span>
            <span class="n">collectible_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_collectible_hash</span><span class="p">)</span>

        <span class="n">secondary_icon</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_second_icon</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;secondaryIcon&quot;</span><span class="p">):</span>
            <span class="n">secondary_icon</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_second_icon</span><span class="p">)</span>

        <span class="n">secondary_overlay</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_second_overlay</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;secondaryOverlay&quot;</span><span class="p">):</span>
            <span class="n">secondary_overlay</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_second_overlay</span><span class="p">)</span>

        <span class="n">secondary_special</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_second_special</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;secondarySpecial&quot;</span><span class="p">):</span>
            <span class="n">secondary_special</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_second_special</span><span class="p">)</span>

        <span class="n">screenshot</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_screenshot</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;screenshot&quot;</span><span class="p">):</span>
            <span class="n">screenshot</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_screenshot</span><span class="p">)</span>

        <span class="n">watermark_icon</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_watermark_icon</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconWatermark&quot;</span><span class="p">):</span>
            <span class="n">watermark_icon</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_watermark_icon</span><span class="p">)</span>

        <span class="n">watermark_shelved</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_watermark_shelved</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconWatermarkShelved&quot;</span><span class="p">):</span>
            <span class="n">watermark_shelved</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_watermark_shelved</span><span class="p">)</span>

        <span class="n">about</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_about</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;flavorText&quot;</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span>
            <span class="n">raw_about</span>
        <span class="p">):</span>
            <span class="n">about</span> <span class="o">=</span> <span class="n">raw_about</span>

        <span class="n">ui_item_style</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_ui_style</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uiItemDisplayStyle&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_ui_style</span><span class="p">):</span>
            <span class="n">ui_item_style</span> <span class="o">=</span> <span class="n">raw_ui_style</span>

        <span class="n">tier_and_name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_tier_and_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemTypeAndTierDisplayName&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_tier_and_name</span><span class="p">):</span>
            <span class="n">tier_and_name</span> <span class="o">=</span> <span class="n">raw_tier_and_name</span>

        <span class="n">type_name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_type_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemTypeDisplayName&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_type_name</span><span class="p">):</span>
            <span class="n">type_name</span> <span class="o">=</span> <span class="n">raw_type_name</span>

        <span class="n">display_source</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_display_source</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displaySource&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_display_source</span><span class="p">):</span>
            <span class="n">display_source</span> <span class="o">=</span> <span class="n">raw_display_source</span>

        <span class="n">lorehash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_lore_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;loreHash&quot;</span><span class="p">):</span>
            <span class="n">lorehash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_lore_hash</span><span class="p">)</span>

        <span class="n">summary_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_summary_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;summaryItemHash&quot;</span><span class="p">):</span>
            <span class="n">summary_hash</span> <span class="o">=</span> <span class="n">raw_summary_hash</span>

        <span class="n">breaker_type_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_breaker_type_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;breakerTypeHash&quot;</span><span class="p">):</span>
            <span class="n">breaker_type_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_breaker_type_hash</span><span class="p">)</span>

        <span class="n">damage_types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_damage_types</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;damageTypes&quot;</span><span class="p">):</span>
            <span class="n">damage_types</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">raw_damage_types</span><span class="p">]</span>

        <span class="n">damagetype_hashes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_damagetype_hashes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;damageTypeHashes&quot;</span><span class="p">):</span>
            <span class="n">damagetype_hashes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">raw_damagetype_hashes</span><span class="p">]</span>

        <span class="n">default_damagetype_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_defaultdmg_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;defaultDamageTypeHash&quot;</span><span class="p">):</span>
            <span class="n">default_damagetype_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_defaultdmg_hash</span><span class="p">)</span>

        <span class="n">emblem_objective_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_emblem_obj_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;emblemObjectiveHash&quot;</span><span class="p">):</span>
            <span class="n">emblem_objective_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_emblem_obj_hash</span><span class="p">)</span>

        <span class="n">tier_type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TierType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">tier</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemTier</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">bucket_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">recovery_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">tier_name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">isinstance_item</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">expire_tool_tip</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">expire_in_orbit_message</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">suppress_expiration</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">max_stack_size</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">stack_label</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>

        <span class="k">if</span> <span class="n">inventory</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inventory&quot;</span><span class="p">):</span>
            <span class="n">tier_type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">TierType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;tierType&quot;</span><span class="p">]))</span>
            <span class="n">tier</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">ItemTier</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;tierTypeHash&quot;</span><span class="p">]))</span>
            <span class="n">bucket_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;bucketTypeHash&quot;</span><span class="p">])</span>
            <span class="n">recovery_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;recoveryBucketTypeHash&quot;</span><span class="p">])</span>
            <span class="n">tier_name</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;tierTypeName&quot;</span><span class="p">]</span>
            <span class="n">isinstance_item</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;isInstanceItem&quot;</span><span class="p">]</span>
            <span class="n">suppress_expiration</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;suppressExpirationWhenObjectivesComplete&quot;</span><span class="p">]</span>
            <span class="n">max_stack_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;maxStackSize&quot;</span><span class="p">])</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">stack_label</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;stackUniqueLabel&quot;</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">collectible_hash</span><span class="o">=</span><span class="n">collectible_hash</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">about</span><span class="o">=</span><span class="n">about</span><span class="p">,</span>
            <span class="n">emblem_objective_hash</span><span class="o">=</span><span class="n">emblem_objective_hash</span><span class="p">,</span>
            <span class="n">suppress_expiration</span><span class="o">=</span><span class="n">suppress_expiration</span><span class="p">,</span>
            <span class="n">max_stack_size</span><span class="o">=</span><span class="n">max_stack_size</span><span class="p">,</span>
            <span class="n">stack_label</span><span class="o">=</span><span class="n">stack_label</span><span class="p">,</span>
            <span class="n">tier</span><span class="o">=</span><span class="n">tier</span><span class="p">,</span>
            <span class="n">tier_type</span><span class="o">=</span><span class="n">tier_type</span><span class="p">,</span>
            <span class="n">tier_name</span><span class="o">=</span><span class="n">tier_name</span><span class="p">,</span>
            <span class="n">bucket_hash</span><span class="o">=</span><span class="n">bucket_hash</span><span class="p">,</span>
            <span class="n">recovery_bucket_hash</span><span class="o">=</span><span class="n">recovery_hash</span><span class="p">,</span>
            <span class="n">isinstance_item</span><span class="o">=</span><span class="n">isinstance_item</span><span class="p">,</span>
            <span class="n">expire_in_orbit_message</span><span class="o">=</span><span class="n">expire_in_orbit_message</span><span class="p">,</span>
            <span class="n">expiration_tooltip</span><span class="o">=</span><span class="n">expire_tool_tip</span><span class="p">,</span>
            <span class="n">lore_hash</span><span class="o">=</span><span class="n">lorehash</span><span class="p">,</span>
            <span class="n">type_and_tier_name</span><span class="o">=</span><span class="n">tier_and_name</span><span class="p">,</span>
            <span class="n">summary_hash</span><span class="o">=</span><span class="n">summary_hash</span><span class="p">,</span>
            <span class="n">ui_display_style</span><span class="o">=</span><span class="n">ui_item_style</span><span class="p">,</span>
            <span class="n">type_name</span><span class="o">=</span><span class="n">type_name</span><span class="p">,</span>
            <span class="n">breaker_type_hash</span><span class="o">=</span><span class="n">breaker_type_hash</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">display_source</span><span class="o">=</span><span class="n">display_source</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
            <span class="n">damage_types</span><span class="o">=</span><span class="n">damage_types</span><span class="p">,</span>
            <span class="n">index</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">has_icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">has_icon</span><span class="p">,</span>
            <span class="n">screenshot</span><span class="o">=</span><span class="n">screenshot</span><span class="p">,</span>
            <span class="n">watermark_icon</span><span class="o">=</span><span class="n">watermark_icon</span><span class="p">,</span>
            <span class="n">watermark_shelved</span><span class="o">=</span><span class="n">watermark_shelved</span><span class="p">,</span>
            <span class="n">secondary_icon</span><span class="o">=</span><span class="n">secondary_icon</span><span class="p">,</span>
            <span class="n">secondary_overlay</span><span class="o">=</span><span class="n">secondary_overlay</span><span class="p">,</span>
            <span class="n">secondary_special</span><span class="o">=</span><span class="n">secondary_special</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemType&quot;</span><span class="p">])),</span>
            <span class="n">trait_hashes</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;traitHashes&quot;</span><span class="p">,</span> <span class="p">[])],</span>
            <span class="n">trait_ids</span><span class="o">=</span><span class="p">[</span><span class="n">trait</span> <span class="k">for</span> <span class="n">trait</span> <span class="ow">in</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;traitIds&quot;</span><span class="p">,</span> <span class="p">[])],</span>
            <span class="n">category_hashes</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">hash_</span><span class="p">)</span> <span class="k">for</span> <span class="n">hash_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemCategoryHashes&quot;</span><span class="p">]],</span>
            <span class="n">item_class</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Class</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;classType&quot;</span><span class="p">])),</span>
            <span class="n">sub_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemSubType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemSubType&quot;</span><span class="p">])),</span>
            <span class="n">breaker_type</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;breakerType&quot;</span><span class="p">]),</span>
            <span class="n">default_damagetype</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;defaultDamageType&quot;</span><span class="p">]),</span>
            <span class="n">default_damagetype_hash</span><span class="o">=</span><span class="n">default_damagetype_hash</span><span class="p">,</span>
            <span class="n">damagetype_hashes</span><span class="o">=</span><span class="n">damagetype_hashes</span><span class="p">,</span>
            <span class="n">tooltip_notifications</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tooltipNotifications&quot;</span><span class="p">],</span>
            <span class="n">not_transferable</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;nonTransferrable&quot;</span><span class="p">],</span>
            <span class="n">allow_actions</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowActions&quot;</span><span class="p">],</span>
            <span class="n">is_equippable</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;equippable&quot;</span><span class="p">],</span>
            <span class="n">objects</span><span class="o">=</span><span class="n">objects</span><span class="p">,</span>
            <span class="n">background_colors</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;backgroundColor&quot;</span><span class="p">,</span> <span class="p">{}),</span>
            <span class="n">season_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seasonHash&quot;</span><span class="p">),</span>
            <span class="n">has_postmaster_effect</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;doesPostmasterPullHaveSideEffects&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_objective_entity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">ObjectiveEntity</span><span class="p">:</span>
        <span class="n">props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_entity_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">ObjectiveEntity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
            <span class="n">index</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">has_icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">has_icon</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">unlock_value_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;unlockValueHash&quot;</span><span class="p">],</span>
            <span class="n">completion_value</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionValue&quot;</span><span class="p">],</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">GatingScope</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">])),</span>
            <span class="n">location_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;locationHash&quot;</span><span class="p">],</span>
            <span class="n">allowed_negative_value</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowNegativeValue&quot;</span><span class="p">],</span>
            <span class="n">allowed_value_change</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowValueChangeWhenCompleted&quot;</span><span class="p">],</span>
            <span class="n">counting_downward</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isCountingDownward&quot;</span><span class="p">],</span>
            <span class="n">value_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ValueUIStyle</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;valueStyle&quot;</span><span class="p">])),</span>
            <span class="n">progress_description</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressDescription&quot;</span><span class="p">],</span>
            <span class="n">perks</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;perks&quot;</span><span class="p">],</span>
            <span class="n">stats</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stats&quot;</span><span class="p">],</span>
            <span class="n">minimum_visibility</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;minimumVisibilityThreshold&quot;</span><span class="p">],</span>
            <span class="n">allow_over_completion</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowOvercompletion&quot;</span><span class="p">],</span>
            <span class="n">show_value_style</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;showValueOnComplete&quot;</span><span class="p">],</span>
            <span class="n">display_only_objective</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isDisplayOnlyObjective&quot;</span><span class="p">],</span>
            <span class="n">complete_value_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ValueUIStyle</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completedValueStyle&quot;</span><span class="p">])</span>
            <span class="p">),</span>
            <span class="n">progress_value_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ValueUIStyle</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;inProgressValueStyle&quot;</span><span class="p">])</span>
            <span class="p">),</span>
            <span class="n">ui_label</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;uiLabel&quot;</span><span class="p">],</span>
            <span class="n">ui_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ObjectiveUIStyle</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;uiStyle&quot;</span><span class="p">])),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_activity_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">ActivityValues</span><span class="p">:</span>
        <span class="n">team</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_team</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;team&quot;</span><span class="p">):</span>
            <span class="n">team</span> <span class="o">=</span> <span class="n">raw_team</span><span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">ActivityValues</span><span class="p">(</span>
            <span class="n">assists</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;assists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">deaths</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;deaths&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;kills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">is_completed</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">opponents_defeated</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;opponentsDefeated&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">efficiency</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;efficiency&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">kd_ratio</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;killsDeathsRatio&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">kd_assists</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;killsDeathsAssists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">score</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">duration</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDurationSeconds&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="n">team</span><span class="o">=</span><span class="n">team</span><span class="p">,</span>
            <span class="n">completion_reason</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionReason&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="n">fireteam_id</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fireteamId&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">start_seconds</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;startSeconds&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">played_time</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;timePlayedSeconds&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="n">player_count</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;playerCount&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">team_score</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;teamScore&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">:</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">])</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDetails&quot;</span><span class="p">]</span>
        <span class="n">ref_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;referenceId&quot;</span><span class="p">])</span>
        <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;instanceId&quot;</span><span class="p">])</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">])</span>
        <span class="n">modes</span> <span class="o">=</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">mode_</span><span class="p">))</span> <span class="k">for</span> <span class="n">mode_</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;modes&quot;</span><span class="p">]]</span>
        <span class="n">is_private</span> <span class="o">=</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;isPrivate&quot;</span><span class="p">]</span>
        <span class="n">membership_type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]))</span>

        <span class="c1"># Since we&#39;re using the same fields for post activity method</span>
        <span class="c1"># this check is required since post activity doesn&#39;t values values</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_activity_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">ref_id</span><span class="p">,</span>
            <span class="n">instance_id</span><span class="o">=</span><span class="n">instance_id</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
            <span class="n">modes</span><span class="o">=</span><span class="n">modes</span><span class="p">,</span>
            <span class="n">is_private</span><span class="o">=</span><span class="n">is_private</span><span class="p">,</span>
            <span class="n">membership_type</span><span class="o">=</span><span class="n">membership_type</span><span class="p">,</span>
            <span class="n">occurred_at</span><span class="o">=</span><span class="n">period</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_activities</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_activity</span><span class="p">(</span><span class="n">activity_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">activity_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_extended_weapon_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedWeaponValues</span><span class="p">:</span>

        <span class="n">assists</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_assists</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uniqueWeaponAssists&quot;</span><span class="p">):</span>
            <span class="n">assists</span> <span class="o">=</span> <span class="n">raw_assists</span><span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">assists_damage</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_assists_damage</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uniqueWeaponAssistDamage&quot;</span><span class="p">):</span>
            <span class="n">assists_damage</span> <span class="o">=</span> <span class="n">raw_assists_damage</span><span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedWeaponValues</span><span class="p">(</span>
            <span class="n">reference_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;referenceId&quot;</span><span class="p">]),</span>
            <span class="n">kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">precision_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span>
                <span class="s2">&quot;value&quot;</span>
            <span class="p">],</span>
            <span class="n">assists</span><span class="o">=</span><span class="n">assists</span><span class="p">,</span>
            <span class="n">assists_damage</span><span class="o">=</span><span class="n">assists_damage</span><span class="p">,</span>
            <span class="n">precision_kills_percentage</span><span class="o">=</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponKillsPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponKillsPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span>
                    <span class="s2">&quot;displayValue&quot;</span>
                <span class="p">],</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_extended_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedValues</span><span class="p">:</span>
        <span class="n">weapons</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">ExtendedWeaponValues</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_weapons</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;weapons&quot;</span><span class="p">):</span>
            <span class="n">weapons</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_extended_weapon_values</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">raw_weapons</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedValues</span><span class="p">(</span>
            <span class="n">precision_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;precisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">grenade_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;weaponKillsGrenade&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">melee_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;weaponKillsMelee&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">super_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;weaponKillsSuper&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">ability_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;weaponKillsAbility&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">weapons</span><span class="o">=</span><span class="n">weapons</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_post_activity_player</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivityPlayer</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivityPlayer</span><span class="p">(</span>
            <span class="n">standing</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;standing&quot;</span><span class="p">]),</span>
            <span class="n">score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">character_id</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;characterId&quot;</span><span class="p">],</span>
            <span class="n">destiny_user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;destinyUserInfo&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">character_class</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;characterClass&quot;</span><span class="p">],</span>
            <span class="n">character_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;characterLevel&quot;</span><span class="p">]),</span>
            <span class="n">race_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;raceHash&quot;</span><span class="p">]),</span>
            <span class="n">gender_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;genderHash&quot;</span><span class="p">]),</span>
            <span class="n">light_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;lightLevel&quot;</span><span class="p">]),</span>
            <span class="n">emblem_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;emblemHash&quot;</span><span class="p">]),</span>
            <span class="n">class_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">][</span><span class="s2">&quot;classHash&quot;</span><span class="p">],</span>
            <span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_activity_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]),</span>
            <span class="n">extended_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_extended_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;extended&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_post_activity_team</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivityTeam</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivityTeam</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;teamId&quot;</span><span class="p">],</span>
            <span class="n">is_defeated</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;standing&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;teamName&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_post_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivity</span><span class="p">:</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">])</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDetails&quot;</span><span class="p">]</span>
        <span class="n">ref_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;referenceId&quot;</span><span class="p">])</span>
        <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;instanceId&quot;</span><span class="p">])</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">])</span>
        <span class="n">modes</span> <span class="o">=</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">mode_</span><span class="p">))</span> <span class="k">for</span> <span class="n">mode_</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;modes&quot;</span><span class="p">]]</span>
        <span class="n">is_private</span> <span class="o">=</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;isPrivate&quot;</span><span class="p">]</span>
        <span class="n">membership_type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">ref_id</span><span class="p">,</span>
            <span class="n">membership_type</span><span class="o">=</span><span class="n">membership_type</span><span class="p">,</span>
            <span class="n">instance_id</span><span class="o">=</span><span class="n">instance_id</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
            <span class="n">modes</span><span class="o">=</span><span class="n">modes</span><span class="p">,</span>
            <span class="n">is_private</span><span class="o">=</span><span class="n">is_private</span><span class="p">,</span>
            <span class="n">occurred_at</span><span class="o">=</span><span class="n">period</span><span class="p">,</span>
            <span class="n">starting_phase</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;startingPhaseIndex&quot;</span><span class="p">]),</span>
            <span class="n">players</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_post_activity_player</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;entries&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">teams</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_post_activity_team</span><span class="p">(</span><span class="n">team</span><span class="p">)</span> <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;teams&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_aggregated_activity_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivityValues</span><span class="p">:</span>
        <span class="c1"># This ID is always the same for all aggregated values.</span>
        <span class="n">activity_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fastestCompletionMsForActivity&quot;</span><span class="p">][</span><span class="s2">&quot;activityId&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivityValues</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">activity_id</span><span class="p">,</span>
            <span class="n">fastest_completion_time</span><span class="o">=</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fastestCompletionMsForActivity&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fastestCompletionMsForActivity&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">completions</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityCompletions&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">kills</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">deaths</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDeaths&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">assists</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityAssists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">seconds_played</span><span class="o">=</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activitySecondsPlayed&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activitySecondsPlayed&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">wins</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityWins&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">goals_missed</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityGoalsMissed&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">special_actions</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activitySpecialActions&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">best_goals_hit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityBestGoalsHit&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">best_single_score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityBestSingleGameScore&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">goals_hit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityGoalsHit&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">special_score</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activitySpecialScore&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">kd_assists</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityKillsDeathsAssists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
            <span class="n">kd_ratio</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityKillsDeathsAssists&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;displayValue&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">precision_kills</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_aggregated_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivity</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivity</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityHash&quot;</span><span class="p">]),</span>
            <span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_aggregated_activity_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_aggregated_activities</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_aggregated_activity</span><span class="p">(</span><span class="n">activity</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_linked_profiles</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">profile</span><span class="o">.</span><span class="n">LinkedProfile</span><span class="p">:</span>
        <span class="n">bungie_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_partial_bungie_user</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bnetMembership&quot;</span><span class="p">])</span>
        <span class="n">error_profiles_vec</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">profiles_vec</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">raw_profile</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profiles&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">pfile</span> <span class="ow">in</span> <span class="n">raw_profile</span><span class="p">:</span>
                <span class="n">profiles_vec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">pfile</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">raw_profiles_with_errors</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profilesWithErrors&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">raw_error_pfile</span> <span class="ow">in</span> <span class="n">raw_profiles_with_errors</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">error_pfile</span> <span class="o">:=</span> <span class="n">raw_error_pfile</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;infoCard&quot;</span><span class="p">):</span>
                    <span class="n">error_profiles_vec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">error_pfile</span><span class="p">)</span>
                    <span class="p">)</span>

        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">LinkedProfile</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">bungie</span><span class="o">=</span><span class="n">bungie_user</span><span class="p">,</span>
            <span class="n">profiles</span><span class="o">=</span><span class="n">profiles_vec</span><span class="p">,</span>
            <span class="n">profiles_with_errors</span><span class="o">=</span><span class="n">error_profiles_vec</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_clan_banners</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanBanner</span><span class="p">]:</span>
        <span class="n">banners_seq</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanBanner</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">banners</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;clanBannerDecals&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">banners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">banner_obj</span> <span class="o">=</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanBanner</span><span class="p">(</span>
                    <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">),</span>
                    <span class="n">foreground</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;foregroundPath&quot;</span><span class="p">]),</span>
                    <span class="n">background</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;backgroundPath&quot;</span><span class="p">]),</span>
                <span class="p">)</span>
                <span class="n">banners_seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">banner_obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">banners_seq</span>

    <span class="k">def</span> <span class="nf">deserialize_public_milestone_content</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneContent</span><span class="p">:</span>
        <span class="n">items_categoris</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneItems</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_categories</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemCategories&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_categories</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
                <span class="k">if</span> <span class="n">raw_title</span> <span class="o">:=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">raw_title</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
                        <span class="n">title</span> <span class="o">=</span> <span class="n">raw_title</span>
                <span class="k">if</span> <span class="n">raw_hashes</span> <span class="o">:=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemHashes&quot;</span><span class="p">):</span>
                    <span class="n">hashes</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_hashes</span>

                <span class="n">items_categoris</span> <span class="o">=</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneItems</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">hashes</span><span class="o">=</span><span class="n">hashes</span><span class="p">)</span>

        <span class="n">about</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_about</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;about&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
            <span class="n">about</span> <span class="o">=</span> <span class="n">raw_about</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_status</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">raw_status</span>

        <span class="n">tips</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">raw_tips</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tips&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">raw_tip</span> <span class="ow">in</span> <span class="n">raw_tips</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">raw_tip</span> <span class="o">==</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
                    <span class="n">raw_tip</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
                <span class="n">tips</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw_tip</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneContent</span><span class="p">(</span>
            <span class="n">about</span><span class="o">=</span><span class="n">about</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span> <span class="n">tips</span><span class="o">=</span><span class="n">tips</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items_categoris</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_friend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="n">bungie_user</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">BungieUser</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_bungie_user</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieNetUser&quot;</span><span class="p">):</span>
            <span class="n">bungie_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_bungie_user</span><span class="p">(</span><span class="n">raw_bungie_user</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lastSeenAsMembershipId&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">),</span>
            <span class="n">relationship</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Relationship</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;relationship&quot;</span><span class="p">]),</span>
            <span class="n">user</span><span class="o">=</span><span class="n">bungie_user</span><span class="p">,</span>
            <span class="n">online_status</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Presence</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;onlineStatus&quot;</span><span class="p">]),</span>
            <span class="n">online_title</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;onlineTitle&quot;</span><span class="p">],</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lastSeenAsBungieMembershipType&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_friends</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]:</span>
        <span class="n">mut_seq</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">raw_friends</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;friends&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">friend</span> <span class="ow">in</span> <span class="n">raw_friends</span><span class="p">:</span>
                <span class="n">mut_seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_friend</span><span class="p">(</span><span class="n">friend</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">mut_seq</span>

    <span class="k">def</span> <span class="nf">deserialize_friend_requests</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">friends</span><span class="o">.</span><span class="n">FriendRequestView</span><span class="p">:</span>
        <span class="n">incoming</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">outgoing</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">raw_incoming_requests</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;incomingRequests&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">incoming_request</span> <span class="ow">in</span> <span class="n">raw_incoming_requests</span><span class="p">:</span>
                <span class="n">incoming</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_friend</span><span class="p">(</span><span class="n">incoming_request</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">raw_outgoing_requests</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outgoingRequests&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">outgoing_request</span> <span class="ow">in</span> <span class="n">raw_outgoing_requests</span><span class="p">:</span>
                <span class="n">outgoing</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_friend</span><span class="p">(</span><span class="n">outgoing_request</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">friends</span><span class="o">.</span><span class="n">FriendRequestView</span><span class="p">(</span><span class="n">incoming</span><span class="o">=</span><span class="n">incoming</span><span class="p">,</span> <span class="n">outgoing</span><span class="o">=</span><span class="n">outgoing</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_fireteam_fields</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="n">total_results</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">:</span>
        <span class="n">activity_type</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamActivity</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityType&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;fireteamId&quot;</span><span class="p">]),</span>
            <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
            <span class="n">platform</span><span class="o">=</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPlatform</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]),</span>
            <span class="n">is_immediate</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isImmediate&quot;</span><span class="p">],</span>
            <span class="n">activity_type</span><span class="o">=</span><span class="n">activity_type</span><span class="p">,</span>
            <span class="n">owner_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;ownerMembershipId&quot;</span><span class="p">]),</span>
            <span class="n">player_slot_count</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;playerSlotCount&quot;</span><span class="p">],</span>
            <span class="n">available_player_slots</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;availablePlayerSlotCount&quot;</span><span class="p">],</span>
            <span class="n">available_alternate_slots</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;availableAlternateSlotCount&quot;</span><span class="p">],</span>
            <span class="n">title</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">],</span>
            <span class="n">date_created</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateCreated&quot;</span><span class="p">]),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">locale</span><span class="o">=</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamLanguage</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;locale&quot;</span><span class="p">]),</span>
            <span class="n">is_valid</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isValid&quot;</span><span class="p">],</span>
            <span class="n">last_modified</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;datePlayerModified&quot;</span><span class="p">]),</span>
            <span class="n">total_results</span><span class="o">=</span><span class="n">total_results</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_fireteams</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">]]:</span>
        <span class="n">fireteams_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">result</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">result</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
            <span class="n">fireteams_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_fireteam_fields</span><span class="p">(</span>
                    <span class="n">elem</span><span class="p">,</span> <span class="n">total_results</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;totalResults&quot;</span><span class="p">])</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">fireteams_</span>

    <span class="k">def</span> <span class="nf">deserialize_fireteam_destiny_users</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamUser</span><span class="p">:</span>
        <span class="n">destiny_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="c1"># We could helpers.just return a DestinyMembership object but this is</span>
        <span class="c1"># missing the fireteam display name and id fields.</span>
        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamUser</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">types</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">crossave_override</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">last_seen_name</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">last_seen_name</span><span class="p">,</span>
            <span class="n">fireteam_display_name</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;FireteamDisplayName&quot;</span><span class="p">],</span>
            <span class="n">fireteam_membership_id</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;FireteamMembershipType&quot;</span><span class="p">]</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_fireteam_members</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">alternatives</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamMember</span><span class="p">]]:</span>
        <span class="n">members_</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamMember</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">members</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Members&quot;</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">alternatives</span> <span class="k">else</span> <span class="s2">&quot;Alternates&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
                <span class="n">bungie_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_partial_bungie_user</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
                <span class="n">members_fields</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamMember</span><span class="p">(</span>
                    <span class="n">destiny_user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_destiny_users</span><span class="p">(</span><span class="n">member</span><span class="p">),</span>
                    <span class="n">has_microphone</span><span class="o">=</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;hasMicrophone&quot;</span><span class="p">],</span>
                    <span class="n">character_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;characterId&quot;</span><span class="p">]),</span>
                    <span class="n">date_joined</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;dateJoined&quot;</span><span class="p">]),</span>
                    <span class="n">last_platform_invite_date</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span>
                        <span class="n">member</span><span class="p">[</span><span class="s2">&quot;lastPlatformInviteAttemptDate&quot;</span><span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">last_platform_invite_result</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span>
                        <span class="n">member</span><span class="p">[</span><span class="s2">&quot;lastPlatformInviteAttemptResult&quot;</span><span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="nb">id</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">icon</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
                    <span class="n">is_public</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
                    <span class="n">crossave_override</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">crossave_override</span><span class="p">,</span>
                    <span class="n">types</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">members_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">members_fields</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">members_</span>

    <span class="k">def</span> <span class="nf">deserialize_available_fireteams</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">no_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
        <span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">]</span>
    <span class="p">]:</span>
        <span class="n">fireteams_</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># This needs to be used outside the results</span>
        <span class="c1"># JSON key.</span>
        <span class="k">if</span> <span class="n">no_results</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="n">data</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;results&quot;</span><span class="p">):</span>

            <span class="k">for</span> <span class="n">fireteam</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="n">found_fireteams</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_fireteam_fields</span><span class="p">(</span><span class="n">fireteam</span><span class="p">[</span><span class="s2">&quot;Summary&quot;</span><span class="p">])</span>
                <span class="n">fireteams_fields</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">(</span>
                    <span class="nb">id</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">group_id</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span>
                    <span class="n">platform</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">platform</span><span class="p">,</span>
                    <span class="n">activity_type</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">activity_type</span><span class="p">,</span>
                    <span class="n">is_immediate</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">is_immediate</span><span class="p">,</span>
                    <span class="n">is_public</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
                    <span class="n">is_valid</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">is_valid</span><span class="p">,</span>
                    <span class="n">owner_id</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">owner_id</span><span class="p">,</span>
                    <span class="n">player_slot_count</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">player_slot_count</span><span class="p">,</span>
                    <span class="n">available_player_slots</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">available_player_slots</span><span class="p">,</span>
                    <span class="n">available_alternate_slots</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">available_alternate_slots</span><span class="p">,</span>
                    <span class="n">title</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
                    <span class="n">date_created</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">date_created</span><span class="p">,</span>
                    <span class="n">locale</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">locale</span><span class="p">,</span>
                    <span class="n">last_modified</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">last_modified</span><span class="p">,</span>
                    <span class="n">total_results</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">total_results</span><span class="p">,</span>
                    <span class="n">members</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_members</span><span class="p">(</span><span class="n">payload</span><span class="p">),</span>
                    <span class="n">alternatives</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_members</span><span class="p">(</span>
                        <span class="n">payload</span><span class="p">,</span> <span class="n">alternatives</span><span class="o">=</span><span class="kc">True</span>
                    <span class="p">),</span>
                <span class="p">)</span>
            <span class="n">fireteams_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fireteams_fields</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">no_results</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">fireteams_fields</span>
        <span class="k">return</span> <span class="n">fireteams_</span>

    <span class="k">def</span> <span class="nf">deserialize_fireteam_party</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamParty</span><span class="p">:</span>
        <span class="n">last_destination_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_dest_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;lastOrbitedDestinationHash&quot;</span><span class="p">):</span>
            <span class="n">last_destination_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_dest_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamParty</span><span class="p">(</span>
            <span class="n">members</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_fireteam_party_member</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;partyMembers&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">activity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_fireteam_party_current_activity</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentActivity&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">settings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_fireteam_party_settings</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;joinability&quot;</span><span class="p">]),</span>
            <span class="n">last_destination_hash</span><span class="o">=</span><span class="n">last_destination_hash</span><span class="p">,</span>
            <span class="n">tracking</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tracking&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_fireteam_party_member</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyMember</span><span class="p">:</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyMemberState</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>
        <span class="n">displayname</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displayName&quot;</span><span class="p">):</span>
            <span class="n">displayname</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyMember</span><span class="p">(</span>
            <span class="n">membership_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">emblem_hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;emblemHash&quot;</span><span class="p">]),</span>
            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
            <span class="n">display_name</span><span class="o">=</span><span class="n">displayname</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_fireteam_party_current_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyCurrentActivity</span><span class="p">:</span>
        <span class="n">start_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_start_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;startTime&quot;</span><span class="p">):</span>
            <span class="n">start_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_start_date</span><span class="p">)</span>

        <span class="n">end_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_end_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;endTime&quot;</span><span class="p">):</span>
            <span class="n">end_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_end_date</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartyCurrentActivity</span><span class="p">(</span>
            <span class="n">start_time</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
            <span class="n">end_time</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
            <span class="n">score</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">]),</span>
            <span class="n">highest_opposing_score</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;highestOpposingFactionScore&quot;</span><span class="p">]),</span>
            <span class="n">opponenst_count</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;numberOfOpponents&quot;</span><span class="p">]),</span>
            <span class="n">player_count</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;numberOfPlayers&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_deserialize_fireteam_party_settings</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartySettings</span><span class="p">:</span>
        <span class="n">closed_reasons</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">ClosedReasons</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;closedReasons&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamPartySettings</span><span class="p">(</span>
            <span class="n">open_slots</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;openSlots&quot;</span><span class="p">]),</span>
            <span class="n">privacy_setting</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">PrivacySetting</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;privacySetting&quot;</span><span class="p">])),</span>
            <span class="n">closed_reasons</span><span class="o">=</span><span class="n">closed_reasons</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_seasonal_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">season</span><span class="o">.</span><span class="n">Artifact</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">raw_artifact</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seasonalArtifact&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">points</span> <span class="o">:=</span> <span class="n">raw_artifact</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pointProgression&quot;</span><span class="p">):</span>
                <span class="n">points_prog</span> <span class="o">=</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">(</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;progressionHash&quot;</span><span class="p">],</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">],</span>
                    <span class="n">cap</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;levelCap&quot;</span><span class="p">],</span>
                    <span class="n">daily_limit</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;dailyLimit&quot;</span><span class="p">],</span>
                    <span class="n">weekly_limit</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;weeklyLimit&quot;</span><span class="p">],</span>
                    <span class="n">current_progress</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;currentProgress&quot;</span><span class="p">],</span>
                    <span class="n">daily_progress</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;dailyProgress&quot;</span><span class="p">],</span>
                    <span class="n">needed</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;progressToNextLevel&quot;</span><span class="p">],</span>
                    <span class="n">next_level</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;nextLevelAt&quot;</span><span class="p">],</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">bonus</span> <span class="o">:=</span> <span class="n">raw_artifact</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;powerBonusProgression&quot;</span><span class="p">):</span>
                <span class="n">power_bonus_prog</span> <span class="o">=</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">(</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;progressionHash&quot;</span><span class="p">],</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">],</span>
                    <span class="n">cap</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;levelCap&quot;</span><span class="p">],</span>
                    <span class="n">daily_limit</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;dailyLimit&quot;</span><span class="p">],</span>
                    <span class="n">weekly_limit</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;weeklyLimit&quot;</span><span class="p">],</span>
                    <span class="n">current_progress</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;currentProgress&quot;</span><span class="p">],</span>
                    <span class="n">daily_progress</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;dailyProgress&quot;</span><span class="p">],</span>
                    <span class="n">needed</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;progressToNextLevel&quot;</span><span class="p">],</span>
                    <span class="n">next_level</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;nextLevelAt&quot;</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="n">artifact</span> <span class="o">=</span> <span class="n">season</span><span class="o">.</span><span class="n">Artifact</span><span class="p">(</span>
                <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                <span class="nb">hash</span><span class="o">=</span><span class="n">raw_artifact</span><span class="p">[</span><span class="s2">&quot;artifactHash&quot;</span><span class="p">],</span>
                <span class="n">power_bonus</span><span class="o">=</span><span class="n">raw_artifact</span><span class="p">[</span><span class="s2">&quot;powerBonus&quot;</span><span class="p">],</span>
                <span class="n">acquired_points</span><span class="o">=</span><span class="n">raw_artifact</span><span class="p">[</span><span class="s2">&quot;pointsAcquired&quot;</span><span class="p">],</span>
                <span class="n">bonus</span><span class="o">=</span><span class="n">power_bonus_prog</span><span class="p">,</span>
                <span class="n">points</span><span class="o">=</span><span class="n">points_prog</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">artifact</span>

    <span class="k">def</span> <span class="nf">deserialize_profile_progression</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileProgression</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileProgression</span><span class="p">(</span>
            <span class="n">artifact</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_seasonal_artifact</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]),</span>
            <span class="n">checklist</span><span class="o">=</span><span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">check_id</span><span class="p">):</span> <span class="n">checklists</span>
                <span class="k">for</span> <span class="n">check_id</span><span class="p">,</span> <span class="n">checklists</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;checklists&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_instanced_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemInstance</span><span class="p">:</span>
        <span class="n">damage_type_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_damagetype_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;damageTypeHash&quot;</span><span class="p">):</span>
            <span class="n">damage_type_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_damagetype_hash</span><span class="p">)</span>

        <span class="n">required_hashes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_required_hashes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;unlockHashesRequiredToEquip&quot;</span><span class="p">):</span>
            <span class="n">required_hashes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">raw_hash</span><span class="p">)</span> <span class="k">for</span> <span class="n">raw_hash</span> <span class="ow">in</span> <span class="n">raw_required_hashes</span><span class="p">]</span>

        <span class="n">breaker_type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemBreakerType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_break_type</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;breakerType&quot;</span><span class="p">):</span>
            <span class="n">breaker_type</span> <span class="o">=</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemBreakerType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">raw_break_type</span><span class="p">))</span>

        <span class="n">breaker_type_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_break_type_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;breakerTypeHash&quot;</span><span class="p">):</span>
            <span class="n">breaker_type_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_break_type_hash</span><span class="p">)</span>

        <span class="n">energy</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemEnergy</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_energy</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">):</span>
            <span class="n">energy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_energy</span><span class="p">(</span><span class="n">raw_energy</span><span class="p">)</span>

        <span class="n">primary_stats</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_primary_stats</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;primaryStat&quot;</span><span class="p">):</span>
            <span class="n">primary_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_stats_view</span><span class="p">(</span><span class="n">raw_primary_stats</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemInstance</span><span class="p">(</span>
            <span class="n">damage_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">DamageType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;damageType&quot;</span><span class="p">])),</span>
            <span class="n">damage_type_hash</span><span class="o">=</span><span class="n">damage_type_hash</span><span class="p">,</span>
            <span class="n">primary_stat</span><span class="o">=</span><span class="n">primary_stats</span><span class="p">,</span>
            <span class="n">item_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemLevel&quot;</span><span class="p">]),</span>
            <span class="n">quality</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;quality&quot;</span><span class="p">]),</span>
            <span class="n">is_equipped</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isEquipped&quot;</span><span class="p">],</span>
            <span class="n">can_equip</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canEquip&quot;</span><span class="p">],</span>
            <span class="n">equip_required_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;equipRequiredLevel&quot;</span><span class="p">]),</span>
            <span class="n">required_equip_unlock_hashes</span><span class="o">=</span><span class="n">required_hashes</span><span class="p">,</span>
            <span class="n">cant_equip_reason</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;cannotEquipReason&quot;</span><span class="p">]),</span>
            <span class="n">breaker_type</span><span class="o">=</span><span class="n">breaker_type</span><span class="p">,</span>
            <span class="n">breaker_type_hash</span><span class="o">=</span><span class="n">breaker_type_hash</span><span class="p">,</span>
            <span class="n">energy</span><span class="o">=</span><span class="n">energy</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_item_energy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemEnergy</span><span class="p">:</span>
        <span class="n">energy_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_energy_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;energyTypeHash&quot;</span><span class="p">):</span>
            <span class="n">energy_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_energy_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemEnergy</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">energy_hash</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">items</span><span class="o">.</span><span class="n">ItemEnergyType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyType&quot;</span><span class="p">])),</span>
            <span class="n">capacity</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyCapacity&quot;</span><span class="p">]),</span>
            <span class="n">used_energy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyUsed&quot;</span><span class="p">]),</span>
            <span class="n">unused_energy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyUnused&quot;</span><span class="p">]),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_item_perk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemPerk</span><span class="p">:</span>
        <span class="n">perk_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_perk_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;perkHash&quot;</span><span class="p">):</span>
            <span class="n">perk_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_perk_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemPerk</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">perk_hash</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;iconPath&quot;</span><span class="p">]),</span>
            <span class="n">is_active</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isActive&quot;</span><span class="p">],</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_item_socket</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemSocket</span><span class="p">:</span>
        <span class="n">plug_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_plug_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugHash&quot;</span><span class="p">):</span>
            <span class="n">plug_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_plug_hash</span><span class="p">)</span>

        <span class="n">enable_fail_indexes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_indexes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enableFailIndexes&quot;</span><span class="p">):</span>
            <span class="n">enable_fail_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">raw_indexes</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemSocket</span><span class="p">(</span>
            <span class="n">plug_hash</span><span class="o">=</span><span class="n">plug_hash</span><span class="p">,</span>
            <span class="n">is_enabled</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isEnabled&quot;</span><span class="p">],</span>
            <span class="n">enable_fail_indexes</span><span class="o">=</span><span class="n">enable_fail_indexes</span><span class="p">,</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;visible&quot;</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_item_stats_view</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">(</span>
            <span class="n">stat_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;statHash&quot;</span><span class="p">),</span> <span class="n">value</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deserialize_plug_item_state</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">:</span>
        <span class="n">item_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_item_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugItemHash&quot;</span><span class="p">):</span>
            <span class="n">item_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_item_hash</span><span class="p">)</span>

        <span class="n">insert_fail_indexes</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_fail_indexes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;insertFailIndexes&quot;</span><span class="p">):</span>
            <span class="n">insert_fail_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">raw_fail_indexes</span><span class="p">]</span>

        <span class="n">enable_fail_indexes</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_enabled_indexes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enableFailIndexes&quot;</span><span class="p">):</span>
            <span class="n">enable_fail_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">raw_enabled_indexes</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">(</span>
            <span class="n">item_hash</span><span class="o">=</span><span class="n">item_hash</span><span class="p">,</span>
            <span class="n">insert_fail_indexes</span><span class="o">=</span><span class="n">insert_fail_indexes</span><span class="p">,</span>
            <span class="n">enable_fail_indexes</span><span class="o">=</span><span class="n">enable_fail_indexes</span><span class="p">,</span>
            <span class="n">is_enabled</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;enabled&quot;</span><span class="p">],</span>
            <span class="n">can_insert</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canInsert&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>The base deserialization factory class for all aiobungie objects.</p>

<p>Highly inspired hikari entity factory used to deserialize JSON responses from the REST client and turning them
into a <code><a href="../crate.html">aiobungie.crate</a></code> Python classes.</p>
</div>


                            <div id="Factory.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Factory</span><span class="signature">(net: <a href="../traits.html#Netrunner">aiobungie.traits.Netrunner</a>)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">net</span><span class="p">:</span> <span class="n">traits</span><span class="o">.</span><span class="n">Netrunner</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_net</span> <span class="o">=</span> <span class="n">net</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_bungie_user" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_bungie_user">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_bungie_user</span><span class="signature">(self, data: dict) -&gt; aiobungie.crate.user.BungieUser</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_bungie_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">BungieUser</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">BungieUser</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">created_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;firstAccess&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cachedBungieGlobalDisplayName&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="n">is_deleted</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;isDeleted&quot;</span><span class="p">],</span>
            <span class="n">about</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;about&quot;</span><span class="p">],</span>
            <span class="n">updated_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;lastUpdate&quot;</span><span class="p">]),</span>
            <span class="n">psn_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;psnDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">stadia_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stadiaDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">steam_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;steamDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">twitch_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;twitchDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">blizzard_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;blizzardDisplayName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">status</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;statusText&quot;</span><span class="p">],</span>
            <span class="n">locale</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;locale&quot;</span><span class="p">],</span>
            <span class="n">picture</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;profilePicturePath&quot;</span><span class="p">])),</span>
            <span class="n">code</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cachedBungieGlobalDisplayNameCode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">unique_name</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uniqueName&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">theme_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;profileTheme&quot;</span><span class="p">]),</span>
            <span class="n">show_activity</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;showActivity&quot;</span><span class="p">]),</span>
            <span class="n">theme_name</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;profileThemeName&quot;</span><span class="p">],</span>
            <span class="n">display_title</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;userTitleDisplay&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a raw JSON Bungie.net user only payload into a user object.</p>

<p><em>Note:</em>
This only returns the Bungie.net user and not the Destiny memberships.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>data</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON data/payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#BungieUser">aiobungie.crate.BungieUser</a></code></strong>: A Bungie user.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_partial_bungie_user" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_partial_bungie_user">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_partial_bungie_user</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.user.PartialBungieUser</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_partial_bungie_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">PartialBungieUser</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">PartialBungieUser</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">types</span><span class="o">=</span><span class="p">[</span>
                <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;applicableMembershipTypes&quot;</span><span class="p">,</span> <span class="p">[])</span>
            <span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displayName&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;crossSaveOverride&quot;</span><span class="p">]),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconPath&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a raw JSON of a partial <code>bungieNetUserInfo</code>.</p>

<p>A partial user is a bungie.net user payload with missing information from
the main <code>BungieUser</code> object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#PartialBungieUser">aiobungie.crate.PartialBungieUser</a></code></strong>: A partial bungie user.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_destiny_membership" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_destiny_membership">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_destiny_membership</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.user.DestinyMembership</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_destiny_membership</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_name</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">last_seen_name</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LastSeenDisplayName&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;displayName&quot;</span><span class="p">]),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;crossSaveOverride&quot;</span><span class="p">]),</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconPath&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)),</span>
            <span class="n">types</span><span class="o">=</span><span class="p">[</span>
                <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;applicableMembershipTypes&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a raw JSON of <code>destinyUserInfo</code> destiny membership information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.crate.user.DestinyMembership</code></strong>: A Destiny 2 membership.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_destiny_memberships" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_destiny_memberships">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_destiny_memberships</span><span class="signature">(
    self,
    data: list
) -&gt; collections.abc.Sequence[aiobungie.crate.user.DestinyMembership]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_destiny_memberships</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">membership</span><span class="p">)</span> <span class="k">for</span> <span class="n">membership</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a raw JSON payload/array of <code>destinyUserInfo</code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONArray">aiobungie.typedefs.JSONArray</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>collections.Sequence[aiobungie.crate.user.DestinyMembership]</code></strong>: A sequence of Destiny 2 memberships.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_user" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_user">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_user</span><span class="signature">(self, data: dict) -&gt; aiobungie.crate.user.User</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">User</span><span class="p">:</span>

        <span class="n">primary_membership_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_primary_id</span> <span class="o">:=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;primaryMembershipId&quot;</span><span class="p">):</span>
            <span class="n">primary_membership_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_primary_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">User</span><span class="p">(</span>
            <span class="n">bungie</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_bungie_user</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bungieNetUser&quot;</span><span class="p">]),</span>
            <span class="n">destiny</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_memberships</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;destinyMemberships&quot;</span><span class="p">]),</span>
            <span class="n">primary_membership_id</span><span class="o">=</span><span class="n">primary_membership_id</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a raw JSON results of fetched user memberships and Bungie.net user its their id.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>data</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON data/payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#User">aiobungie.crate.User</a></code></strong>: A user object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_searched_user" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_searched_user">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_searched_user</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.user.SearchableDestinyUser</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_searched_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">SearchableDestinyUser</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">])</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span>
            <span class="n">raw_name</span>
        <span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="n">code</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_code</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">):</span>
            <span class="n">code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_code</span><span class="p">)</span>

        <span class="n">bungie_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_bungie_id</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieNetMembershipId&quot;</span><span class="p">):</span>
            <span class="n">bungie_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_bungie_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">SearchableDestinyUser</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span>
            <span class="n">bungie_id</span><span class="o">=</span><span class="n">bungie_id</span><span class="p">,</span>
            <span class="n">memberships</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_memberships</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;destinyMemberships&quot;</span><span class="p">]</span>
            <span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize the results of user search details.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#SearchableDestinyUser">aiobungie.crate.SearchableDestinyUser</a></code></strong>: The searched for Destiny 2 membership.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_user_credentials" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_user_credentials">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_user_credentials</span><span class="signature">(
    self,
    payload: list
) -&gt; collections.abc.Sequence[aiobungie.crate.user.UserCredentials]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_user_credentials</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">UserCredentials</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">user</span><span class="o">.</span><span class="n">UserCredentials</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">CredentialType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">creds</span><span class="p">[</span><span class="s2">&quot;credentialType&quot;</span><span class="p">])),</span>
                <span class="n">display_name</span><span class="o">=</span><span class="n">creds</span><span class="p">[</span><span class="s2">&quot;credentialDisplayName&quot;</span><span class="p">],</span>
                <span class="n">is_public</span><span class="o">=</span><span class="n">creds</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
                <span class="n">self_as_string</span><span class="o">=</span><span class="n">creds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;credentialAsString&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">creds</span> <span class="ow">in</span> <span class="n">payload</span>
        <span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON array of Bungie user credentials.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONArray">aiobungie.typedefs.JSONArray</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>collections.Sequence[<a href="../crate.html#UserCredentials">aiobungie.crate.UserCredentials</a>]</code></strong>: A sequence of user's credentials.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.set_themese_attrs" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.set_themese_attrs">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">set_themese_attrs</span><span class="signature">(payload: list, /) -&gt; Collection[aiobungie.crate.user.UserThemes]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">set_themese_attrs</span><span class="p">(</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">]:</span>

        <span class="n">theme_map</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">theme_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">just</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;userThemeId&quot;</span><span class="p">)</span>
        <span class="n">theme_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">just</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;userThemeName&quot;</span><span class="p">)</span>
        <span class="n">theme_descriptions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">just</span><span class="p">(</span>
            <span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;userThemeDescription&quot;</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">t_id</span><span class="p">,</span> <span class="n">t_name</span><span class="p">,</span> <span class="n">t_desc</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">theme_ids</span><span class="p">,</span> <span class="n">theme_names</span><span class="p">,</span> <span class="n">theme_descriptions</span><span class="p">):</span>
            <span class="n">theme_map</span><span class="p">[</span><span class="n">t_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">t_id</span><span class="p">),</span>
                <span class="n">name</span><span class="o">=</span><span class="n">t_name</span> <span class="ow">or</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">t_desc</span> <span class="ow">or</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">theme_map</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_user_themes" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_user_themes">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_user_themes</span><span class="signature">(
    self,
    payload: list
) -&gt; collections.abc.Sequence[aiobungie.crate.user.UserThemes]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_user_themes</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">UserThemes</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_themese_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a raw JSON array of Bungie user themes.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONArray">aiobungie.typedefs.JSONArray</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>collections.Sequence[aiobungie.crate.user.UserThemes]</code></strong>: A sequence of bungie user themes.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_clan" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_clan">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_clan</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.clans.Clan</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_clan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">clans</span><span class="o">.</span><span class="n">Clan</span><span class="p">:</span>

        <span class="c1"># This is kinda redundant</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span>

        <span class="c1"># This is always outside the details.</span>
        <span class="n">current_user_map</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_current_user_map</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentUserMemberMap&quot;</span><span class="p">):</span>
            <span class="n">current_user_map</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">membership_type</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan_member</span><span class="p">(</span><span class="n">membership</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">membership_type</span><span class="p">,</span> <span class="n">membership</span> <span class="ow">in</span> <span class="n">raw_current_user_map</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;detail&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="nb">id</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="n">created_at</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;creationDate&quot;</span><span class="p">]</span>
        <span class="n">member_count</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;memberCount&quot;</span><span class="p">]</span>
        <span class="n">about</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;about&quot;</span><span class="p">]</span>
        <span class="n">motto</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;motto&quot;</span><span class="p">]</span>
        <span class="n">is_public</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">]</span>
        <span class="n">banner</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bannerPath&quot;</span><span class="p">]))</span>
        <span class="n">avatar</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;avatarPath&quot;</span><span class="p">]))</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupType&quot;</span><span class="p">]</span>

        <span class="n">features</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;features&quot;</span><span class="p">]</span>
        <span class="n">features_obj</span> <span class="o">=</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanFeatures</span><span class="p">(</span>
            <span class="n">max_members</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;maximumMembers&quot;</span><span class="p">],</span>
            <span class="n">max_membership_types</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;maximumMembershipsOfGroupType&quot;</span><span class="p">],</span>
            <span class="n">capabilities</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;capabilities&quot;</span><span class="p">],</span>
            <span class="n">membership_types</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;membershipTypes&quot;</span><span class="p">],</span>
            <span class="n">invite_permissions</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;invitePermissionOverride&quot;</span><span class="p">],</span>
            <span class="n">update_banner_permissions</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;updateBannerPermissionOverride&quot;</span><span class="p">],</span>
            <span class="n">update_culture_permissions</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;updateCulturePermissionOverride&quot;</span><span class="p">],</span>
            <span class="n">join_level</span><span class="o">=</span><span class="n">features</span><span class="p">[</span><span class="s2">&quot;joinLevel&quot;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">information</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;clanInfo&quot;</span><span class="p">]</span>
        <span class="n">progression</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">prog_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_progressions</span><span class="p">(</span><span class="n">prog</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">prog_hash</span><span class="p">,</span> <span class="n">prog</span> <span class="ow">in</span> <span class="n">information</span><span class="p">[</span><span class="s2">&quot;d2ClanProgressions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">founder</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_founder</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;founder&quot;</span><span class="p">):</span>
            <span class="n">founder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan_member</span><span class="p">(</span><span class="n">raw_founder</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">clans</span><span class="o">.</span><span class="n">Clan</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">GroupType</span><span class="p">(</span><span class="nb">type</span><span class="p">),</span>
            <span class="n">created_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">created_at</span><span class="p">),</span>
            <span class="n">member_count</span><span class="o">=</span><span class="n">member_count</span><span class="p">,</span>
            <span class="n">motto</span><span class="o">=</span><span class="n">motto</span><span class="p">,</span>
            <span class="n">about</span><span class="o">=</span><span class="n">about</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">is_public</span><span class="p">,</span>
            <span class="n">banner</span><span class="o">=</span><span class="n">banner</span><span class="p">,</span>
            <span class="n">avatar</span><span class="o">=</span><span class="n">avatar</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">features</span><span class="o">=</span><span class="n">features_obj</span><span class="p">,</span>
            <span class="n">owner</span><span class="o">=</span><span class="n">founder</span><span class="p">,</span>
            <span class="n">progressions</span><span class="o">=</span><span class="n">progression</span><span class="p">,</span>
            <span class="n">call_sign</span><span class="o">=</span><span class="n">information</span><span class="p">[</span><span class="s2">&quot;clanCallsign&quot;</span><span class="p">],</span>
            <span class="n">banner_data</span><span class="o">=</span><span class="n">information</span><span class="p">[</span><span class="s2">&quot;clanBannerData&quot;</span><span class="p">],</span>
            <span class="n">chat_security</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;chatSecurity&quot;</span><span class="p">],</span>
            <span class="n">conversation_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;conversationId&quot;</span><span class="p">]),</span>
            <span class="n">allow_chat</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;allowChat&quot;</span><span class="p">],</span>
            <span class="n">theme</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;theme&quot;</span><span class="p">],</span>
            <span class="n">current_user_membership</span><span class="o">=</span><span class="n">current_user_map</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a raw JSON payload of Bungie clan information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#Clan">aiobungie.crate.Clan</a></code></strong>: A clan owner.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_clan_member" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_clan_member">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_clan_member</span><span class="signature">(self, data: dict, /) -&gt; aiobungie.crate.clans.ClanMember</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_clan_member</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">:</span>
        <span class="n">destiny_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;destinyUserInfo&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">last_seen_name</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">last_seen_name</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">last_online</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">from_timestamp</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;lastOnlineStatusChange&quot;</span><span class="p">])),</span>
            <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
            <span class="n">joined_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;joinDate&quot;</span><span class="p">]),</span>
            <span class="n">types</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
            <span class="n">is_online</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;isOnline&quot;</span><span class="p">],</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">destiny_user</span><span class="o">.</span><span class="n">crossave_override</span><span class="p">,</span>
            <span class="n">bungie</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_partial_bungie_user</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bungieNetUserInfo&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="s2">&quot;bungieNetUserInfo&quot;</span> <span class="ow">in</span> <span class="n">data</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">member_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ClanMemberType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;memberType&quot;</span><span class="p">])),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a clan member information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>data</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#ClanMember">aiobungie.crate.ClanMember</a></code></strong>: A clan member.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_clan_members" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_clan_members">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_clan_members</span><span class="signature">(
    self,
    data: dict,
    /
) -&gt; <a href="iterators.html#FlatIterator">aiobungie.internal.iterators.FlatIterator</a>[aiobungie.crate.clans.ClanMember]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_clan_members</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanMember</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan_member</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">]]</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a clan members information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>data</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.iterators.FlatIterator[<a href="../crate.html#ClanMember">aiobungie.crate.ClanMember</a>]</code></strong>: An iterator of clan members of the deserialized payload.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_group_member" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_group_member">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_group_member</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.clans.GroupMember</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_group_member</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">clans</span><span class="o">.</span><span class="n">GroupMember</span><span class="p">:</span>
        <span class="n">member</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;member&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">clans</span><span class="o">.</span><span class="n">GroupMember</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">join_date</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;joinDate&quot;</span><span class="p">]),</span>
            <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
            <span class="n">member_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ClanMemberType</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;memberType&quot;</span><span class="p">]),</span>
            <span class="n">is_online</span><span class="o">=</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;isOnline&quot;</span><span class="p">],</span>
            <span class="n">last_online</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">from_timestamp</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;lastOnlineStatusChange&quot;</span><span class="p">])),</span>
            <span class="n">inactive_memberships</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;areAllMembershipsInactive&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">member</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;destinyUserInfo&quot;</span><span class="p">]),</span>
            <span class="n">group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_clan</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;group&quot;</span><span class="p">]),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of group information for a member.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../typedefs.html#NoneOr">aiobungie.typedefs.NoneOr</a>[<a href="../crate.html#GroupMember">aiobungie.crate.GroupMember</a>]</code></strong>: A group member. This can return <code>None</code> if nothing was found.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_clan_conversations" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_clan_conversations">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_clan_conversations</span><span class="signature">(
    self,
    payload: list
) -&gt; collections.abc.Sequence[aiobungie.crate.clans.ClanConversation]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_clan_conversations</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONArray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanConversation</span><span class="p">]:</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">vec</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanConversation</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">payload</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">convo</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">convo</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="nb">map</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

                <span class="n">name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="nb">map</span><span class="p">[</span><span class="s2">&quot;chatName&quot;</span><span class="p">])</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_name</span><span class="p">):</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

                <span class="n">convo_obj</span> <span class="o">=</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanConversation</span><span class="p">(</span>
                    <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                    <span class="n">group_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;groupId&quot;</span><span class="p">]),</span>
                    <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;conversationId&quot;</span><span class="p">]),</span>
                    <span class="n">chat_enabled</span><span class="o">=</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;chatEnabled&quot;</span><span class="p">],</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">security</span><span class="o">=</span><span class="nb">map</span><span class="p">[</span><span class="s2">&quot;chatSecurity&quot;</span><span class="p">],</span>
                <span class="p">)</span>
                <span class="n">vec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">convo_obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">vec</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON array of a clan conversations information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONArray">aiobungie.typedefs.JSONArray</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>collections.Sequence[<a href="../crate.html#ClanConversation">aiobungie.crate.ClanConversation</a>]</code></strong>: A sequence of clan conversations of the deserialized payload.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_app_owner" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_app_owner">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_app_owner</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.application.ApplicationOwner</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_app_owner</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">application</span><span class="o">.</span><span class="n">ApplicationOwner</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">application</span><span class="o">.</span><span class="n">ApplicationOwner</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipId&quot;</span><span class="p">]),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]),</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;iconPath&quot;</span><span class="p">])),</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isPublic&quot;</span><span class="p">],</span>
            <span class="n">code</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of Bungie Developer portal application owner information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.crate.application.ApplicationOwner</code></strong>: An application owner.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_app" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_app">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_app</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.application.Application</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_app</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">application</span><span class="o">.</span><span class="n">Application</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">application</span><span class="o">.</span><span class="n">Application</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;applicationId&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">link</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;link&quot;</span><span class="p">],</span>
            <span class="n">status</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">],</span>
            <span class="n">redirect_url</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;redirectUrl&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">created_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;creationDate&quot;</span><span class="p">])),</span>
            <span class="n">published_at</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;firstPublished&quot;</span><span class="p">])),</span>
            <span class="n">owner</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_app_owner</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;user&quot;</span><span class="p">]),</span>  <span class="c1"># type: ignore</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scope&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of Bungie Developer portal application information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.crate.application.Application</code></strong>: An application.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_profile" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_profile">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_profile</span><span class="signature">(self, payload: dict, /) -&gt; Optional[aiobungie.crate.profile.Profile]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_profile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_profile</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">payload</span> <span class="o">=</span> <span class="n">raw_profile</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;membershipId&quot;</span><span class="p">])</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;displayName&quot;</span><span class="p">]</span>
        <span class="n">is_public</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;isPublic&quot;</span><span class="p">]</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;userInfo&quot;</span><span class="p">][</span><span class="s2">&quot;membershipType&quot;</span><span class="p">])</span>
        <span class="n">last_played</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateLastPlayed&quot;</span><span class="p">]))</span>
        <span class="n">character_ids</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">cid</span><span class="p">)</span> <span class="k">for</span> <span class="n">cid</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;characterIds&quot;</span><span class="p">]]</span>
        <span class="n">power_cap</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentSeasonRewardPowerCap&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">is_public</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span>
            <span class="n">last_played</span><span class="o">=</span><span class="n">last_played</span><span class="p">,</span>
            <span class="n">character_ids</span><span class="o">=</span><span class="n">character_ids</span><span class="p">,</span>
            <span class="n">power_cap</span><span class="o">=</span><span class="n">power_cap</span><span class="p">,</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of Bungie.net profile information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>typing.Optional[<a href="../crate.html#Profile">aiobungie.crate.Profile</a>]</code></strong>: A profile.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_profile_item" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_profile_item">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_profile_item</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.profile.ProfileItemImpl</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_profile_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">:</span>

        <span class="n">instance_id</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_instance_id</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemInstanceId&quot;</span><span class="p">):</span>
            <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_instance_id</span><span class="p">)</span>

        <span class="n">version_number</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_version</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;versionNumber&quot;</span><span class="p">):</span>
            <span class="n">version_number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_version</span><span class="p">)</span>

        <span class="n">transfer_status</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">TransferStatus</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;transferStatus&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemHash&quot;</span><span class="p">],</span>
            <span class="n">quantity</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">],</span>
            <span class="n">bind_status</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemBindStatus</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bindStatus&quot;</span><span class="p">]),</span>
            <span class="n">location</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemLocation</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]),</span>
            <span class="n">bucket</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bucketHash&quot;</span><span class="p">],</span>
            <span class="n">transfer_status</span><span class="o">=</span><span class="n">transfer_status</span><span class="p">,</span>
            <span class="n">lockable</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lockable&quot;</span><span class="p">],</span>
            <span class="n">state</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemState</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">]),</span>
            <span class="n">dismantel_permissions</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dismantlePermission&quot;</span><span class="p">],</span>
            <span class="n">is_wrapper</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isWrapper&quot;</span><span class="p">],</span>
            <span class="n">instance_id</span><span class="o">=</span><span class="n">instance_id</span><span class="p">,</span>
            <span class="n">version_number</span><span class="o">=</span><span class="n">version_number</span><span class="p">,</span>
            <span class="n">ornament_id</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;overrideStyleItemHash&quot;</span><span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a singular profile component item.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#ProfileItemImpl">aiobungie.crate.ProfileItemImpl</a></code></strong>: Implementation of a Destiny 2 profile component item.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_objectives" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_objectives">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_objectives</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.records.Objective</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_objectives</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;objectiveHash&quot;</span><span class="p">],</span>
            <span class="n">visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span>
            <span class="n">complete</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">],</span>
            <span class="n">completion_value</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionValue&quot;</span><span class="p">],</span>
            <span class="n">progress</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;progress&quot;</span><span class="p">),</span>
            <span class="n">destination_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destinationHash&quot;</span><span class="p">),</span>
            <span class="n">activity_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activityHash&quot;</span><span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of an objective found in a record profile component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code>aiobungie.internal.helpers.JsonObject</code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.crate.records.Objective</code></strong>: A record objective object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_records" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_records">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_records</span><span class="signature">(
    self,
    payload: dict,
    scores: Optional[aiobungie.crate.records.RecordScores] = None,
    **nodes: int
) -&gt; aiobungie.crate.records.Record</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="n">scores</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">RecordScores</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">nodes</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">:</span>
        <span class="n">objectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">interval_objectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">record_state</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">IntAnd</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">RecordState</span><span class="p">]</span>

        <span class="n">record_state</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">RecordState</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">raw_objs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;objectives&quot;</span><span class="p">):</span>
            <span class="n">objectives</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">raw_objs</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">raw_interval_objs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;intervalObjectives&quot;</span><span class="p">):</span>
            <span class="n">interval_objectives</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">raw_interval_objs</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">(</span>
            <span class="n">scores</span><span class="o">=</span><span class="n">scores</span><span class="p">,</span>
            <span class="n">categories_node_hash</span><span class="o">=</span><span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;categories_hash&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="n">seals_node_hash</span><span class="o">=</span><span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seals_hash&quot;</span><span class="p">,</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span><span class="p">),</span>
            <span class="n">state</span><span class="o">=</span><span class="n">record_state</span><span class="p">,</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">objectives</span><span class="p">,</span>
            <span class="n">interval_objectives</span><span class="o">=</span><span class="n">interval_objectives</span><span class="p">,</span>
            <span class="n">redeemed_count</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;intervalsRedeemedCount&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">completion_times</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;completedCount&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">reward_visibility</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rewardVisibilty&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON object of a profile record component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code>aiobungie.internal.helpers.JsonObject</code>):
The JSON object payload</li>
<li><strong>scores</strong> (<code>typing.Optional[records.RecordScores]</code>):
The records scores object.
This exists only to keep the signature of <code><a href="../crate.html#CharacterRecord">aiobungie.crate.CharacterRecord</a></code> with the record object.
As it will always be <code>None</code> in that object.</li>
<li><strong>**nodes</strong> (<code>int</code>):
An int kwargs use to grab the node hashes while deserializing components.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.records.Record</code></strong>: A standard implementation of a profile record component.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_character_records" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_records">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_records</span><span class="signature">(
    self,
    payload: dict,
    scores: Optional[aiobungie.crate.records.RecordScores] = None,
    record_hashes: Optional[list[int]] = None
) -&gt; aiobungie.crate.records.CharacterRecord</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="n">scores</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">RecordScores</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">record_hashes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">:</span>

        <span class="n">record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_records</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">scores</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">(</span>
            <span class="n">scores</span><span class="o">=</span><span class="n">scores</span><span class="p">,</span>
            <span class="n">categories_node_hash</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">categories_node_hash</span><span class="p">,</span>
            <span class="n">seals_node_hash</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">seals_node_hash</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">state</span><span class="p">,</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">objectives</span><span class="p">,</span>
            <span class="n">interval_objectives</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">interval_objectives</span><span class="p">,</span>
            <span class="n">redeemed_count</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;intervalsRedeemedCount&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">completion_times</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;completedCount&quot;</span><span class="p">),</span>
            <span class="n">reward_visibility</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rewardVisibilty&quot;</span><span class="p">),</span>
            <span class="n">record_hashes</span><span class="o">=</span><span class="n">record_hashes</span> <span class="ow">or</span> <span class="p">[],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON object of a profile character record component.</p>

<p>This almost does the same this as <code><a href="#Factory.deserialize_records">deserialize_records</a></code> but
has more fields which can only be found in a character record.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code>aiobungie.internal.helpers.JsonObject</code>):
The JSON object payload</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.records.CharacterRecord</code></strong>: A standard implementation of a profile character record component.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_character_dye" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_dye">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_dye</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.character.Dye</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_dye</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">Dye</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">Dye</span><span class="p">(</span>
            <span class="n">channel_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;channelHash&quot;</span><span class="p">],</span> <span class="n">dye_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dyeHash&quot;</span><span class="p">]</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a character's dye information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.crate.character.Dye</code></strong>: Information about a character dye object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_character_customization" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_customization">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_customization</span><span class="signature">(
    self,
    payload: dict
) -&gt; aiobungie.crate.character.CustomizationOptions</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_customization</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">CustomizationOptions</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">CustomizationOptions</span><span class="p">(</span>
            <span class="n">personality</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;personality&quot;</span><span class="p">],</span>
            <span class="n">face</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;face&quot;</span><span class="p">],</span>
            <span class="n">skin_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;skinColor&quot;</span><span class="p">],</span>
            <span class="n">lip_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lipColor&quot;</span><span class="p">],</span>
            <span class="n">eye_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;eyeColor&quot;</span><span class="p">],</span>
            <span class="n">hair_colors</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;hairColors&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">feature_colors</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;featureColors&quot;</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="n">decal_color</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;decalColor&quot;</span><span class="p">],</span>
            <span class="n">wear_helmet</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;wearHelmet&quot;</span><span class="p">],</span>
            <span class="n">hair_index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;hairIndex&quot;</span><span class="p">],</span>
            <span class="n">feature_index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;featureIndex&quot;</span><span class="p">],</span>
            <span class="n">decal_index</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;decalIndex&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a character customization information found in character
render data profile component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.crate.character.CustomizationOptions</code></strong>: Information about a character customs object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_character_minimal_equipments" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_minimal_equipments">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_minimal_equipments</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.character.MinimalEquipments</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_minimal_equipments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">MinimalEquipments</span><span class="p">:</span>
        <span class="n">dyes</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_dyes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dyes&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">raw_dyes</span><span class="p">:</span>
                <span class="n">dyes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_dye</span><span class="p">(</span><span class="n">dye</span><span class="p">)</span> <span class="k">for</span> <span class="n">dye</span> <span class="ow">in</span> <span class="n">raw_dyes</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">MinimalEquipments</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span> <span class="n">item_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemHash&quot;</span><span class="p">],</span> <span class="n">dyes</span><span class="o">=</span><span class="n">dyes</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a singular JSON peer view of equipment found in character render data profile component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.crate.character.MinimalEquipments</code></strong>: A minimal equipment object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_character_render_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_render_data">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_render_data</span><span class="signature">(self, payload: dict, /) -&gt; aiobungie.crate.character.RenderedData</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_render_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">customization</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_customization</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;customization&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">custom_dyes</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_dye</span><span class="p">(</span><span class="n">dye</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">dye</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;customDyes&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">dye</span>
            <span class="p">],</span>
            <span class="n">equipment</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_minimal_equipments</span><span class="p">(</span><span class="n">equipment</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">equipment</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;peerView&quot;</span><span class="p">][</span><span class="s2">&quot;equipment&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a profile character render data component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#RenderedData">aiobungie.crate.RenderedData</a></code></strong>: A character rendered data profile component.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_available_activity" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_available_activity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_available_activity</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.activity.AvailableActivity</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_available_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">AvailableActivity</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">AvailableActivity</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityHash&quot;</span><span class="p">],</span>
            <span class="n">is_new</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isNew&quot;</span><span class="p">],</span>
            <span class="n">is_completed</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isCompleted&quot;</span><span class="p">],</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isVisible&quot;</span><span class="p">],</span>
            <span class="n">display_level</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displayLevel&quot;</span><span class="p">),</span>
            <span class="n">recommended_light</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;recommendedLight&quot;</span><span class="p">),</span>
            <span class="n">difficulty</span><span class="o">=</span><span class="n">activity</span><span class="o">.</span><span class="n">Difficulty</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;difficultyTier&quot;</span><span class="p">]),</span>
            <span class="n">can_join</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canJoin&quot;</span><span class="p">],</span>
            <span class="n">can_lead</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canLead&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of an available activities.</p>

<p>This method is used to deserialize an array of <code><a href="../crate.html#CharacterActivity.available_activities">aiobungie.crate.CharacterActivity.available_activities</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#AvailableActivity">aiobungie.crate.AvailableActivity</a></code></strong>: An available activity object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_character_activity" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_activity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_activity</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.activity.CharacterActivity</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">:</span>
        <span class="n">current_mode</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_current_mode</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentActivityModeType&quot;</span><span class="p">):</span>
            <span class="n">current_mode</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">raw_current_mode</span><span class="p">)</span>

        <span class="n">current_mode_types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_current_modes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentActivityModeTypes&quot;</span><span class="p">):</span>
            <span class="n">current_mode_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">raw_current_modes</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">(</span>
            <span class="n">date_started</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dateActivityStarted&quot;</span><span class="p">]),</span>
            <span class="n">current_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentActivityHash&quot;</span><span class="p">],</span>
            <span class="n">current_mode_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentActivityModeHash&quot;</span><span class="p">],</span>
            <span class="n">current_mode</span><span class="o">=</span><span class="n">current_mode</span><span class="p">,</span>
            <span class="n">current_mode_hashes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentActivityModeHashes&quot;</span><span class="p">),</span>
            <span class="n">current_mode_types</span><span class="o">=</span><span class="n">current_mode_types</span><span class="p">,</span>
            <span class="n">current_playlist_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currentPlaylistActivityHash&quot;</span><span class="p">),</span>
            <span class="n">last_story_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lastCompletedStoryHash&quot;</span><span class="p">],</span>
            <span class="n">available_activities</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_available_activity</span><span class="p">(</span><span class="n">activity_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">activity_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;availableActivities&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of character activity profile component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#CharacterActivity">aiobungie.crate.CharacterActivity</a></code></strong>: A character activities component object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_profile_items" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_profile_items">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_profile_items</span><span class="signature">(
    self,
    payload: dict,
    /
) -&gt; list[aiobungie.crate.profile.ProfileItemImpl]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_profile_items</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of profile items component information.</p>

<p>This may deserialize <code>profileInventories</code> or <code>profileCurrencies</code> or any
other alternatives.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>typing.Optional[collections.Sequence[<a href="../crate.html#ProfileItemImpl">aiobungie.crate.ProfileItemImpl</a>]]</code></strong>: A profile component object that contains items of the deserialized payload.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_progressions" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_progressions">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_progressions</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.progressions.Progression</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_progressions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressionHash&quot;</span><span class="p">]),</span>
            <span class="n">level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]),</span>
            <span class="n">cap</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;levelCap&quot;</span><span class="p">]),</span>
            <span class="n">daily_limit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dailyLimit&quot;</span><span class="p">]),</span>
            <span class="n">weekly_limit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;weeklyLimit&quot;</span><span class="p">]),</span>
            <span class="n">current_progress</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentProgress&quot;</span><span class="p">]),</span>
            <span class="n">daily_progress</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;dailyProgress&quot;</span><span class="p">]),</span>
            <span class="n">needed</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressToNextLevel&quot;</span><span class="p">]),</span>
            <span class="n">next_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;nextLevelAt&quot;</span><span class="p">]),</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_milestone" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_milestone">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_milestone</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.milestones.Milestone</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_milestone</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">Milestone</span><span class="p">:</span>
        <span class="n">start_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_start_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;startDate&quot;</span><span class="p">):</span>
            <span class="n">start_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_start_date</span><span class="p">)</span>

        <span class="n">end_date</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_end_date</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;endDate&quot;</span><span class="p">):</span>
            <span class="n">end_date</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">raw_end_date</span><span class="p">)</span>

        <span class="n">rewards</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneReward</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_rewards</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rewards&quot;</span><span class="p">):</span>
            <span class="n">rewards</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_rewards</span><span class="p">(</span><span class="n">reward</span><span class="p">)</span> <span class="k">for</span> <span class="n">reward</span> <span class="ow">in</span> <span class="n">raw_rewards</span>
            <span class="p">]</span>

        <span class="n">activities</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneActivity</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_activities</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">):</span>
            <span class="n">activities</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_activity</span><span class="p">(</span><span class="n">active</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">active</span> <span class="ow">in</span> <span class="n">raw_activities</span>
            <span class="p">]</span>

        <span class="n">quests</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneQuest</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_quests</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;availableQuests&quot;</span><span class="p">):</span>
            <span class="n">quests</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_milestone_available_quest</span><span class="p">(</span><span class="n">quest</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">quest</span> <span class="ow">in</span> <span class="n">raw_quests</span>
            <span class="p">]</span>

        <span class="n">vendors</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneVendor</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_vendors</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vendors&quot;</span><span class="p">):</span>
            <span class="n">vendors</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneVendor</span><span class="p">(</span>
                    <span class="n">vendor_hash</span><span class="o">=</span><span class="n">vendor</span><span class="p">[</span><span class="s2">&quot;vendorHash&quot;</span><span class="p">],</span>
                    <span class="n">preview_itemhash</span><span class="o">=</span><span class="n">vendor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;previewItemHash&quot;</span><span class="p">),</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">vendor</span> <span class="ow">in</span> <span class="n">raw_vendors</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">Milestone</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;milestoneHash&quot;</span><span class="p">],</span>
            <span class="n">start_date</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
            <span class="n">end_date</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
            <span class="n">order</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">],</span>
            <span class="n">rewards</span><span class="o">=</span><span class="n">rewards</span><span class="p">,</span>
            <span class="n">available_quests</span><span class="o">=</span><span class="n">quests</span><span class="p">,</span>
            <span class="n">activities</span><span class="o">=</span><span class="n">activities</span><span class="p">,</span>
            <span class="n">vendors</span><span class="o">=</span><span class="n">vendors</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_characters" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_characters">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_characters</span><span class="signature">(
    self,
    payload: dict
) -&gt; collections.abc.Mapping[int, aiobungie.crate.character.Character]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_characters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_character_attrs</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_character" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.character.Character</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_character_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_character_equipments" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_equipments">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_equipments</span><span class="signature">(
    self,
    payload: dict
) -&gt; collections.abc.Mapping[int, collections.abc.Sequence[aiobungie.crate.profile.ProfileItemImpl]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_equipments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_character_activities" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_activities">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_activities</span><span class="signature">(
    self,
    payload: dict
) -&gt; collections.abc.Mapping[int, aiobungie.crate.activity.CharacterActivity]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_activities</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_activity</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_characters_render_data" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_characters_render_data">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_characters_render_data</span><span class="signature">(
    self,
    payload: dict
) -&gt; collections.abc.Mapping[int, aiobungie.crate.character.RenderedData]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_characters_render_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_render_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_character_progressions" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_progressions">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_progressions</span><span class="signature">(
    self,
    payload: dict
) -&gt; aiobungie.crate.character.CharacterProgression</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_progressions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">:</span>
        <span class="n">progressions_</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">prog_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_progressions</span><span class="p">(</span><span class="n">prog</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">prog_id</span><span class="p">,</span> <span class="n">prog</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">factions</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">faction_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_factions</span><span class="p">(</span><span class="n">faction</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">faction_id</span><span class="p">,</span> <span class="n">faction</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;factions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">milestones_</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">milestone_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_milestone</span><span class="p">(</span><span class="n">milestone</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">milestone_hash</span><span class="p">,</span> <span class="n">milestone</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;milestones&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">uninstanced_item_objectives</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">item_hash</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">ins</span><span class="p">)</span> <span class="k">for</span> <span class="n">ins</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">item_hash</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;uninstancedItemObjectives&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">artifact</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;seasonalArtifact&quot;</span><span class="p">]</span>
        <span class="n">seasonal_artifact</span> <span class="o">=</span> <span class="n">season</span><span class="o">.</span><span class="n">CharacterScopedArtifact</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;artifactHash&quot;</span><span class="p">],</span>
            <span class="n">points_used</span><span class="o">=</span><span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;pointsUsed&quot;</span><span class="p">],</span>
            <span class="n">reset_count</span><span class="o">=</span><span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;resetCount&quot;</span><span class="p">],</span>
            <span class="n">tiers</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_artifact_tiers</span><span class="p">(</span><span class="n">tier</span><span class="p">)</span> <span class="k">for</span> <span class="n">tier</span> <span class="ow">in</span> <span class="n">artifact</span><span class="p">[</span><span class="s2">&quot;tiers&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="n">checklists</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;checklists&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">(</span>
            <span class="n">progressions</span><span class="o">=</span><span class="n">progressions_</span><span class="p">,</span>
            <span class="n">factions</span><span class="o">=</span><span class="n">factions</span><span class="p">,</span>
            <span class="n">checklists</span><span class="o">=</span><span class="n">checklists</span><span class="p">,</span>
            <span class="n">milestones</span><span class="o">=</span><span class="n">milestones_</span><span class="p">,</span>
            <span class="n">seasonal_artifact</span><span class="o">=</span><span class="n">seasonal_artifact</span><span class="p">,</span>
            <span class="n">uninstanced_item_objectives</span><span class="o">=</span><span class="n">uninstanced_item_objectives</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_character_progressions_mapping" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_progressions_mapping">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_progressions_mapping</span><span class="signature">(
    self,
    payload: dict
) -&gt; collections.abc.Mapping[int, aiobungie.crate.character.CharacterProgression]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_progressions_mapping</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">]:</span>
        <span class="n">character_progressions</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
            <span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># A little hack to stop mypy complaining about Mapping &lt;-&gt; dict</span>
            <span class="n">character_progressions</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_progressions</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># type: ignore[index]</span>
        <span class="k">return</span> <span class="n">character_progressions</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_characters_records" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_characters_records">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_characters_records</span><span class="signature">(
    self,
    payload: dict
) -&gt; collections.abc.Mapping[int, aiobungie.crate.records.CharacterRecord]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_characters_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">rec_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_records</span><span class="p">(</span>
                <span class="n">rec</span><span class="p">,</span> <span class="n">record_hashes</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;featuredRecordHashes&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">rec_id</span><span class="p">,</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;records&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_profile_records" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_profile_records">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_profile_records</span><span class="signature">(
    self,
    payload: dict
) -&gt; collections.abc.Mapping[int, aiobungie.crate.records.Record]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_profile_records</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">]:</span>
        <span class="n">raw_profile_records</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
        <span class="n">scores</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">RecordScores</span><span class="p">(</span>
            <span class="n">current_score</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">],</span>
            <span class="n">legacy_score</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;legacyScore&quot;</span><span class="p">],</span>
            <span class="n">lifetime_score</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;lifetimeScore&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">record_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_records</span><span class="p">(</span>
                <span class="n">record</span><span class="p">,</span>
                <span class="n">scores</span><span class="p">,</span>
                <span class="n">categories_hash</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;recordCategoriesRootNodeHash&quot;</span><span class="p">],</span>
                <span class="n">seals_hash</span><span class="o">=</span><span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;recordSealsRootNodeHash&quot;</span><span class="p">],</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">raw_profile_records</span><span class="p">[</span><span class="s2">&quot;records&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_craftables_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_craftables_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_craftables_component</span><span class="signature">(
    self,
    payload: dict
) -&gt; aiobungie.crate.components.CraftablesComponent</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_craftables_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">CraftablesComponent</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">CraftablesComponent</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">craftables</span><span class="o">=</span><span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">item_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_craftable_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;craftables&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">},</span>
            <span class="n">crafting_root_node_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;craftingRootNodeHash&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_components" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_components">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_components</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.components.Component</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_components</span><span class="p">(</span>  <span class="c1"># noqa: C901 Too complex.</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">Component</span><span class="p">:</span>

        <span class="n">profile_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profile&quot;</span><span class="p">):</span>
            <span class="n">profile_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile</span><span class="p">(</span><span class="n">raw_profile</span><span class="p">)</span>

        <span class="n">profile_progression</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileProgression</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_progression</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileProgression&quot;</span><span class="p">):</span>
            <span class="n">profile_progression</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_progression</span><span class="p">(</span>
                <span class="n">raw_profile_progression</span>
            <span class="p">)</span>

        <span class="n">profile_currencies</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_currencies</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileCurrencies&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_profile_currencies</span><span class="p">:</span>
                <span class="n">profile_currencies</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span>
                    <span class="n">raw_profile_currencies</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
                <span class="p">)</span>

        <span class="n">profile_inventories</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_inventories</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileInventory&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_profile_inventories</span><span class="p">:</span>
                <span class="n">profile_inventories</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span>
                    <span class="n">raw_profile_inventories</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
                <span class="p">)</span>

        <span class="n">profile_records</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Record</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_profile_records_</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileRecords&quot;</span><span class="p">):</span>
            <span class="n">profile_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_records</span><span class="p">(</span><span class="n">raw_profile_records_</span><span class="p">)</span>

        <span class="n">characters</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_characters</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characters&quot;</span><span class="p">):</span>
            <span class="n">characters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_characters</span><span class="p">(</span><span class="n">raw_characters</span><span class="p">)</span>

        <span class="n">character_records</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_character_records</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterRecords&quot;</span><span class="p">):</span>
            <span class="c1"># Had to do it in two steps..</span>
            <span class="n">to_update</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_character_records</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">to_update</span><span class="p">[</span><span class="n">record_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span>

            <span class="n">character_records</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">rec_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_records</span><span class="p">(</span>
                    <span class="n">rec</span><span class="p">,</span> <span class="n">record_hashes</span><span class="o">=</span><span class="n">to_update</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;featuredRecordHashes&quot;</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">rec_id</span><span class="p">,</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">to_update</span><span class="p">[</span><span class="s2">&quot;records&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_equipments</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_equips</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterEquipment&quot;</span><span class="p">):</span>
            <span class="n">character_equipments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_equipments</span><span class="p">(</span>
                <span class="n">raw_character_equips</span>
            <span class="p">)</span>

        <span class="n">character_inventories</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_inventories</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterInventories&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_character_inventories</span><span class="p">:</span>
                <span class="n">character_inventories</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_equipments</span><span class="p">(</span>
                    <span class="n">raw_character_inventories</span>
                <span class="p">)</span>

        <span class="n">character_activities</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_acts</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterActivities&quot;</span><span class="p">):</span>
            <span class="n">character_activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_activities</span><span class="p">(</span><span class="n">raw_char_acts</span><span class="p">)</span>

        <span class="n">character_render_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_render_data</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterRenderData&quot;</span><span class="p">):</span>
            <span class="n">character_render_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_characters_render_data</span><span class="p">(</span>
                <span class="n">raw_character_render_data</span>
            <span class="p">)</span>

        <span class="n">character_progressions</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_character_progressions</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterProgressions&quot;</span><span class="p">):</span>
            <span class="n">character_progressions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_progressions_mapping</span><span class="p">(</span>
                <span class="n">raw_character_progressions</span>
            <span class="p">)</span>

        <span class="n">profile_string_vars</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_string_vars</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileStringVariables&quot;</span><span class="p">):</span>
            <span class="n">profile_string_vars</span> <span class="o">=</span> <span class="n">raw_profile_string_vars</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;integerValuesByHash&quot;</span><span class="p">]</span>

        <span class="n">character_string_vars</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_string_vars</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterStringVariables&quot;</span><span class="p">):</span>
            <span class="n">character_string_vars</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;integerValuesByHash&quot;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_character_string_vars</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">metrics</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span>
                <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
                    <span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span>
                <span class="p">]</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">root_node_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_metrics</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;metrics&quot;</span><span class="p">):</span>
            <span class="n">root_node_hash</span> <span class="o">=</span> <span class="n">raw_metrics</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;metricsRootNodeHash&quot;</span><span class="p">]</span>
            <span class="n">metrics</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">metrics_hash</span><span class="p">):</span> <span class="p">(</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;invisible&quot;</span><span class="p">],</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;objectiveProgress&quot;</span><span class="p">])</span>
                        <span class="k">if</span> <span class="s2">&quot;objectiveProgress&quot;</span> <span class="ow">in</span> <span class="n">payload</span>
                        <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">metrics_hash</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_metrics</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;metrics&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="n">transitory</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamParty</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_transitory</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileTransitoryData&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_transitory</span><span class="p">:</span>
                <span class="n">transitory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_party</span><span class="p">(</span><span class="n">raw_transitory</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">item_components</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_item_components</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemComponents&quot;</span><span class="p">):</span>
            <span class="n">item_components</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_items_component</span><span class="p">(</span><span class="n">raw_item_components</span><span class="p">)</span>

        <span class="n">profile_plugsets</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_profile_plugs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profilePlugSets&quot;</span><span class="p">):</span>
            <span class="n">profile_plugsets</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_profile_plugs</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;plugs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_plugsets</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
                <span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_plugsets</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterPlugSets&quot;</span><span class="p">):</span>
            <span class="n">character_plugsets</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">):</span> <span class="p">[</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">data</span>
                    <span class="p">]</span>
                    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">inner</span><span class="p">[</span><span class="s2">&quot;plugs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">inner</span> <span class="ow">in</span> <span class="n">raw_char_plugsets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterCollectibles&quot;</span><span class="p">):</span>
            <span class="n">character_collectibles</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_collectible</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_character_collectibles</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">profile_collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profileCollectibles&quot;</span><span class="p">):</span>
            <span class="n">profile_collectibles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_collectible</span><span class="p">(</span>
                <span class="n">raw_profile_collectibles</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">profile_nodes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_profile_nodes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profilePresentationNodes&quot;</span><span class="p">):</span>
            <span class="n">profile_nodes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">node_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">node_hash</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">raw_profile_nodes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">character_nodes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_nodes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterPresentationNodes&quot;</span><span class="p">):</span>
            <span class="n">character_nodes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">node_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">node_hash</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">each_character</span><span class="p">[</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">each_character</span> <span class="ow">in</span> <span class="n">raw_character_nodes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">platform_silver</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_platform_silver</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;platformSilver&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_platform_silver</span><span class="p">:</span>
                <span class="n">platform_silver</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">platform_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">platform_name</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_platform_silver</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span>
                        <span class="s2">&quot;platformSilver&quot;</span>
                    <span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>

        <span class="n">character_currency_lookups</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_lookups</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterCurrencyLookups&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_char_lookups</span><span class="p">:</span>
                <span class="n">character_currency_lookups</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_currencies</span><span class="p">(</span><span class="n">currencie</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">currencie</span> <span class="ow">in</span> <span class="n">raw_char_lookups</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>

        <span class="n">character_craftables</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">components</span><span class="o">.</span><span class="n">CraftablesComponent</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_character_craftables</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;characterCraftables&quot;</span><span class="p">):</span>

            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_character_craftables</span><span class="p">:</span>
                <span class="n">character_craftables</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">char_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_craftables_component</span><span class="p">(</span><span class="n">craftable</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">char_id</span><span class="p">,</span> <span class="n">craftable</span> <span class="ow">in</span> <span class="n">raw_character_craftables</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">Component</span><span class="p">(</span>
            <span class="n">profiles</span><span class="o">=</span><span class="n">profile_</span><span class="p">,</span>
            <span class="n">profile_progression</span><span class="o">=</span><span class="n">profile_progression</span><span class="p">,</span>
            <span class="n">profile_currencies</span><span class="o">=</span><span class="n">profile_currencies</span><span class="p">,</span>
            <span class="n">profile_inventories</span><span class="o">=</span><span class="n">profile_inventories</span><span class="p">,</span>
            <span class="n">profile_records</span><span class="o">=</span><span class="n">profile_records</span><span class="p">,</span>
            <span class="n">characters</span><span class="o">=</span><span class="n">characters</span><span class="p">,</span>
            <span class="n">character_records</span><span class="o">=</span><span class="n">character_records</span><span class="p">,</span>
            <span class="n">character_equipments</span><span class="o">=</span><span class="n">character_equipments</span><span class="p">,</span>
            <span class="n">character_inventories</span><span class="o">=</span><span class="n">character_inventories</span><span class="p">,</span>
            <span class="n">character_activities</span><span class="o">=</span><span class="n">character_activities</span><span class="p">,</span>
            <span class="n">character_render_data</span><span class="o">=</span><span class="n">character_render_data</span><span class="p">,</span>
            <span class="n">character_progressions</span><span class="o">=</span><span class="n">character_progressions</span><span class="p">,</span>
            <span class="n">profile_string_variables</span><span class="o">=</span><span class="n">profile_string_vars</span><span class="p">,</span>
            <span class="n">character_string_variables</span><span class="o">=</span><span class="n">character_string_vars</span><span class="p">,</span>
            <span class="n">metrics</span><span class="o">=</span><span class="n">metrics</span><span class="p">,</span>
            <span class="n">root_node_hash</span><span class="o">=</span><span class="n">root_node_hash</span><span class="p">,</span>
            <span class="n">transitory</span><span class="o">=</span><span class="n">transitory</span><span class="p">,</span>
            <span class="n">item_components</span><span class="o">=</span><span class="n">item_components</span><span class="p">,</span>
            <span class="n">profile_plugsets</span><span class="o">=</span><span class="n">profile_plugsets</span><span class="p">,</span>
            <span class="n">character_plugsets</span><span class="o">=</span><span class="n">character_plugsets</span><span class="p">,</span>
            <span class="n">character_collectibles</span><span class="o">=</span><span class="n">character_collectibles</span><span class="p">,</span>
            <span class="n">profile_collectibles</span><span class="o">=</span><span class="n">profile_collectibles</span><span class="p">,</span>
            <span class="n">profile_nodes</span><span class="o">=</span><span class="n">profile_nodes</span><span class="p">,</span>
            <span class="n">character_nodes</span><span class="o">=</span><span class="n">character_nodes</span><span class="p">,</span>
            <span class="n">platform_silver</span><span class="o">=</span><span class="n">platform_silver</span><span class="p">,</span>
            <span class="n">character_currency_lookups</span><span class="o">=</span><span class="n">character_currency_lookups</span><span class="p">,</span>
            <span class="n">character_craftables</span><span class="o">=</span><span class="n">character_craftables</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of Bungie.net profile components information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code>aiobungie.internal.helpers.JsonObject</code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#Component">aiobungie.crate.Component</a></code></strong>: A component implementation that includes all other components
of the deserialized payload.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_items_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_items_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_items_component</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.components.ItemsComponent</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_items_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">:</span>
        <span class="n">instances</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemInstance</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_instances</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;instances&quot;</span><span class="p">):</span>
            <span class="n">instances</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_instanced_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_instances</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">]</span>

        <span class="n">render_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_render_data</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderData&quot;</span><span class="p">):</span>
            <span class="n">render_data</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;useCustomDyes&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;artRegions&quot;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_render_data</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">stats</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_stats</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stats&quot;</span><span class="p">):</span>
            <span class="n">builder</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">stat</span> <span class="ow">in</span> <span class="n">raw_stats</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">items_</span> <span class="ow">in</span> <span class="n">stat</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">builder</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_stats_view</span><span class="p">(</span><span class="n">items_</span><span class="p">)</span>  <span class="c1"># type: ignore[index]</span>
            <span class="n">stats</span> <span class="o">=</span> <span class="n">builder</span>

        <span class="n">sockets</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemSocket</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_sockets</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sockets&quot;</span><span class="p">):</span>
            <span class="n">sockets</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_socket</span><span class="p">(</span><span class="n">socket</span><span class="p">)</span> <span class="k">for</span> <span class="n">socket</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;sockets&quot;</span><span class="p">]</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_sockets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">objeectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_objectives</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;objectives&quot;</span><span class="p">):</span>
            <span class="n">objeectives</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">objective</span><span class="p">)]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">raw_objectives</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">objective</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]</span>
            <span class="p">}</span>

        <span class="n">perks</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemPerk</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_perks</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;perks&quot;</span><span class="p">):</span>
            <span class="n">perks</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_perk</span><span class="p">(</span><span class="n">perk</span><span class="p">)</span> <span class="k">for</span> <span class="n">perk</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;perks&quot;</span><span class="p">]</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_perks</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">plug_states</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_plug_states</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugStates&quot;</span><span class="p">):</span>
            <span class="n">pending_states</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">plug</span> <span class="ow">in</span> <span class="n">raw_plug_states</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">pending_states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">plug</span><span class="p">))</span>
            <span class="n">plug_states</span> <span class="o">=</span> <span class="n">pending_states</span>

        <span class="n">reusable_plugs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_re_plugs</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;reusablePlugs&quot;</span><span class="p">):</span>
            <span class="n">reusable_plugs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_plug_item_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">inner</span>
                <span class="p">]</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">plug</span> <span class="ow">in</span> <span class="n">raw_re_plugs</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">inner</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">plug</span><span class="p">[</span><span class="s2">&quot;plugs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="p">}</span>

        <span class="n">plug_objectives</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
                <span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="n">records</span><span class="o">.</span><span class="n">Objective</span><span class="p">]]</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_plug_objectives</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugObjectives&quot;</span><span class="p">):</span>
            <span class="n">plug_objectives</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">ins_id</span><span class="p">):</span> <span class="p">{</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">obj_hash</span><span class="p">):</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_objectives</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objs</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">obj_hash</span><span class="p">,</span> <span class="n">objs</span> <span class="ow">in</span> <span class="n">inner</span><span class="p">[</span><span class="s2">&quot;objectivesPerPlug&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">}</span>
                <span class="k">for</span> <span class="n">ins_id</span><span class="p">,</span> <span class="n">inner</span> <span class="ow">in</span> <span class="n">raw_plug_objectives</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">(</span>
            <span class="n">sockets</span><span class="o">=</span><span class="n">sockets</span><span class="p">,</span>
            <span class="n">stats</span><span class="o">=</span><span class="n">stats</span><span class="p">,</span>
            <span class="n">render_data</span><span class="o">=</span><span class="n">render_data</span><span class="p">,</span>
            <span class="n">instances</span><span class="o">=</span><span class="n">instances</span><span class="p">,</span>
            <span class="n">objectives</span><span class="o">=</span><span class="n">objeectives</span><span class="p">,</span>
            <span class="n">perks</span><span class="o">=</span><span class="n">perks</span><span class="p">,</span>
            <span class="n">plug_states</span><span class="o">=</span><span class="n">plug_states</span><span class="p">,</span>
            <span class="n">reusable_plugs</span><span class="o">=</span><span class="n">reusable_plugs</span><span class="p">,</span>
            <span class="n">plug_objectives</span><span class="o">=</span><span class="n">plug_objectives</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON objects within the <code>itemComponents</code> key.`</p>
</div>


                            </div>
                            <div id="Factory.deserialize_character_component" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_character_component">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_character_component</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.components.CharacterComponent</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_character_component</span><span class="p">(</span>  <span class="c1"># type: ignore[call-arg]</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">components</span><span class="o">.</span><span class="n">CharacterComponent</span><span class="p">:</span>

        <span class="n">character_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">character</span><span class="o">.</span><span class="n">Character</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_singuler_character</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;character&quot;</span><span class="p">):</span>
            <span class="n">character_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character</span><span class="p">(</span><span class="n">raw_singuler_character</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">inventory</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_inventory</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inventory&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_inventory</span><span class="p">:</span>
                <span class="n">inventory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span><span class="n">raw_inventory</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">activities</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">CharacterActivity</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_activities</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">):</span>
            <span class="n">activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_activity</span><span class="p">(</span><span class="n">raw_activities</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">equipment</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">profile</span><span class="o">.</span><span class="n">ProfileItemImpl</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_equipments</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equipment&quot;</span><span class="p">):</span>
            <span class="n">equipment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_profile_items</span><span class="p">(</span><span class="n">raw_equipments</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">progressions_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">character</span><span class="o">.</span><span class="n">CharacterProgression</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_progressions</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;progressions&quot;</span><span class="p">):</span>
            <span class="n">progressions_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_progressions</span><span class="p">(</span>
                <span class="n">raw_progressions</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">render_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">character</span><span class="o">.</span><span class="n">RenderedData</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_render_data</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderData&quot;</span><span class="p">):</span>
            <span class="n">render_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_character_render_data</span><span class="p">(</span>
                <span class="n">raw_render_data</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">character_records</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
            <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">CharacterRecord</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_char_records</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;records&quot;</span><span class="p">):</span>
            <span class="n">character_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_characters_records</span><span class="p">(</span>
                <span class="n">raw_char_records</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="n">item_components</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">components</span><span class="o">.</span><span class="n">ItemsComponent</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_item_components</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemComponents&quot;</span><span class="p">):</span>
            <span class="n">item_components</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_items_component</span><span class="p">(</span><span class="n">raw_item_components</span><span class="p">)</span>

        <span class="n">nodes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">records</span><span class="o">.</span><span class="n">Node</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_nodes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;presentationNodes&quot;</span><span class="p">):</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">node_hash</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">node_hash</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">raw_nodes</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>

        <span class="n">collectibles</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Collectible</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_collectibles</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;collectibles&quot;</span><span class="p">):</span>
            <span class="n">collectibles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_collectible</span><span class="p">(</span><span class="n">raw_collectibles</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>

        <span class="n">currency_lookups</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">Currency</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_currencies</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;currencyLookups&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">raw_currencies</span><span class="p">:</span>
                <span class="n">currency_lookups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_currencies</span><span class="p">(</span><span class="n">raw_currencies</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">components</span><span class="o">.</span><span class="n">CharacterComponent</span><span class="p">(</span>
            <span class="n">activities</span><span class="o">=</span><span class="n">activities</span><span class="p">,</span>
            <span class="n">equipment</span><span class="o">=</span><span class="n">equipment</span><span class="p">,</span>
            <span class="n">inventory</span><span class="o">=</span><span class="n">inventory</span><span class="p">,</span>
            <span class="n">progressions</span><span class="o">=</span><span class="n">progressions_</span><span class="p">,</span>
            <span class="n">render_data</span><span class="o">=</span><span class="n">render_data</span><span class="p">,</span>
            <span class="n">character</span><span class="o">=</span><span class="n">character_</span><span class="p">,</span>
            <span class="n">character_records</span><span class="o">=</span><span class="n">character_records</span><span class="p">,</span>
            <span class="n">profile_records</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">item_components</span><span class="o">=</span><span class="n">item_components</span><span class="p">,</span>
            <span class="n">currency_lookups</span><span class="o">=</span><span class="n">currency_lookups</span><span class="p">,</span>
            <span class="n">collectibles</span><span class="o">=</span><span class="n">collectibles</span><span class="p">,</span>
            <span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of Destiny 2 character component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#CharacterComponent">aiobungie.crate.CharacterComponent</a></code></strong>: A character component.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_inventory_results" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_inventory_results">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_inventory_results</span><span class="signature">(
    self,
    payload: dict
) -&gt; <a href="iterators.html#FlatIterator">aiobungie.internal.iterators.FlatIterator</a>[aiobungie.crate.entity.SearchableEntity]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_inventory_results</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">entity</span><span class="o">.</span><span class="n">SearchableEntity</span><span class="p">]:</span>
        <span class="n">suggested_words</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;suggestedWords&quot;</span><span class="p">]</span>

        <span class="k">def</span> <span class="nf">_check_unknown</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">s</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">else</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>

        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">entity</span><span class="o">.</span><span class="n">SearchableEntity</span><span class="p">(</span>
                    <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;hash&quot;</span><span class="p">],</span>
                    <span class="n">entity_type</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;entityType&quot;</span><span class="p">],</span>
                    <span class="n">weight</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">],</span>
                    <span class="n">suggested_words</span><span class="o">=</span><span class="n">suggested_words</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
                    <span class="n">has_icon</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;hasIcon&quot;</span><span class="p">],</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">_check_unknown</span><span class="p">(</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;description&quot;</span><span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;displayProperties&quot;</span><span class="p">][</span><span class="s2">&quot;icon&quot;</span><span class="p">]),</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="s2">&quot;results&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize results of searched Destiny2 entities.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.iterators.FlatIterator[<a href="../crate.html#SearchableEntity">aiobungie.crate.SearchableEntity</a>]</code></strong>: An iterator over the found searched entities.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_inventory_entity" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_inventory_entity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_inventory_entity</span><span class="signature">(self, payload: dict, /) -&gt; aiobungie.crate.entity.InventoryEntity</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_inventory_entity</span><span class="p">(</span>  <span class="c1"># noqa: C901 Too complex.</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntity</span><span class="p">:</span>

        <span class="n">props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_entity_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="n">objects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_inventory_item_objects</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>

        <span class="n">collectible_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_collectible_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;collectibleHash&quot;</span><span class="p">):</span>
            <span class="n">collectible_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_collectible_hash</span><span class="p">)</span>

        <span class="n">secondary_icon</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_second_icon</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;secondaryIcon&quot;</span><span class="p">):</span>
            <span class="n">secondary_icon</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_second_icon</span><span class="p">)</span>

        <span class="n">secondary_overlay</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_second_overlay</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;secondaryOverlay&quot;</span><span class="p">):</span>
            <span class="n">secondary_overlay</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_second_overlay</span><span class="p">)</span>

        <span class="n">secondary_special</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_second_special</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;secondarySpecial&quot;</span><span class="p">):</span>
            <span class="n">secondary_special</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_second_special</span><span class="p">)</span>

        <span class="n">screenshot</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="n">raw_screenshot</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;screenshot&quot;</span><span class="p">):</span>
            <span class="n">screenshot</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_screenshot</span><span class="p">)</span>

        <span class="n">watermark_icon</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_watermark_icon</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconWatermark&quot;</span><span class="p">):</span>
            <span class="n">watermark_icon</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_watermark_icon</span><span class="p">)</span>

        <span class="n">watermark_shelved</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_watermark_shelved</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iconWatermarkShelved&quot;</span><span class="p">):</span>
            <span class="n">watermark_shelved</span> <span class="o">=</span> <span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">raw_watermark_shelved</span><span class="p">)</span>

        <span class="n">about</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_about</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;flavorText&quot;</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span>
            <span class="n">raw_about</span>
        <span class="p">):</span>
            <span class="n">about</span> <span class="o">=</span> <span class="n">raw_about</span>

        <span class="n">ui_item_style</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_ui_style</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uiItemDisplayStyle&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_ui_style</span><span class="p">):</span>
            <span class="n">ui_item_style</span> <span class="o">=</span> <span class="n">raw_ui_style</span>

        <span class="n">tier_and_name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_tier_and_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemTypeAndTierDisplayName&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_tier_and_name</span><span class="p">):</span>
            <span class="n">tier_and_name</span> <span class="o">=</span> <span class="n">raw_tier_and_name</span>

        <span class="n">type_name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_type_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemTypeDisplayName&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_type_name</span><span class="p">):</span>
            <span class="n">type_name</span> <span class="o">=</span> <span class="n">raw_type_name</span>

        <span class="n">display_source</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">raw_display_source</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;displaySource&quot;</span><span class="p">)</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">is_unknown</span><span class="p">(</span><span class="n">raw_display_source</span><span class="p">):</span>
            <span class="n">display_source</span> <span class="o">=</span> <span class="n">raw_display_source</span>

        <span class="n">lorehash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_lore_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;loreHash&quot;</span><span class="p">):</span>
            <span class="n">lorehash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_lore_hash</span><span class="p">)</span>

        <span class="n">summary_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_summary_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;summaryItemHash&quot;</span><span class="p">):</span>
            <span class="n">summary_hash</span> <span class="o">=</span> <span class="n">raw_summary_hash</span>

        <span class="n">breaker_type_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_breaker_type_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;breakerTypeHash&quot;</span><span class="p">):</span>
            <span class="n">breaker_type_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_breaker_type_hash</span><span class="p">)</span>

        <span class="n">damage_types</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_damage_types</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;damageTypes&quot;</span><span class="p">):</span>
            <span class="n">damage_types</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">raw_damage_types</span><span class="p">]</span>

        <span class="n">damagetype_hashes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_damagetype_hashes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;damageTypeHashes&quot;</span><span class="p">):</span>
            <span class="n">damagetype_hashes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">raw_damagetype_hashes</span><span class="p">]</span>

        <span class="n">default_damagetype_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_defaultdmg_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;defaultDamageTypeHash&quot;</span><span class="p">):</span>
            <span class="n">default_damagetype_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_defaultdmg_hash</span><span class="p">)</span>

        <span class="n">emblem_objective_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_emblem_obj_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;emblemObjectiveHash&quot;</span><span class="p">):</span>
            <span class="n">emblem_objective_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_emblem_obj_hash</span><span class="p">)</span>

        <span class="n">tier_type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">TierType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">tier</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemTier</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">bucket_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">recovery_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">tier_name</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">isinstance_item</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">expire_tool_tip</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">expire_in_orbit_message</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="n">suppress_expiration</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">max_stack_size</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">stack_label</span><span class="p">:</span> <span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>

        <span class="k">if</span> <span class="n">inventory</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inventory&quot;</span><span class="p">):</span>
            <span class="n">tier_type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">TierType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;tierType&quot;</span><span class="p">]))</span>
            <span class="n">tier</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">ItemTier</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;tierTypeHash&quot;</span><span class="p">]))</span>
            <span class="n">bucket_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;bucketTypeHash&quot;</span><span class="p">])</span>
            <span class="n">recovery_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;recoveryBucketTypeHash&quot;</span><span class="p">])</span>
            <span class="n">tier_name</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;tierTypeName&quot;</span><span class="p">]</span>
            <span class="n">isinstance_item</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;isInstanceItem&quot;</span><span class="p">]</span>
            <span class="n">suppress_expiration</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;suppressExpirationWhenObjectivesComplete&quot;</span><span class="p">]</span>
            <span class="n">max_stack_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;maxStackSize&quot;</span><span class="p">])</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">stack_label</span> <span class="o">=</span> <span class="n">inventory</span><span class="p">[</span><span class="s2">&quot;stackUniqueLabel&quot;</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">InventoryEntity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">collectible_hash</span><span class="o">=</span><span class="n">collectible_hash</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">about</span><span class="o">=</span><span class="n">about</span><span class="p">,</span>
            <span class="n">emblem_objective_hash</span><span class="o">=</span><span class="n">emblem_objective_hash</span><span class="p">,</span>
            <span class="n">suppress_expiration</span><span class="o">=</span><span class="n">suppress_expiration</span><span class="p">,</span>
            <span class="n">max_stack_size</span><span class="o">=</span><span class="n">max_stack_size</span><span class="p">,</span>
            <span class="n">stack_label</span><span class="o">=</span><span class="n">stack_label</span><span class="p">,</span>
            <span class="n">tier</span><span class="o">=</span><span class="n">tier</span><span class="p">,</span>
            <span class="n">tier_type</span><span class="o">=</span><span class="n">tier_type</span><span class="p">,</span>
            <span class="n">tier_name</span><span class="o">=</span><span class="n">tier_name</span><span class="p">,</span>
            <span class="n">bucket_hash</span><span class="o">=</span><span class="n">bucket_hash</span><span class="p">,</span>
            <span class="n">recovery_bucket_hash</span><span class="o">=</span><span class="n">recovery_hash</span><span class="p">,</span>
            <span class="n">isinstance_item</span><span class="o">=</span><span class="n">isinstance_item</span><span class="p">,</span>
            <span class="n">expire_in_orbit_message</span><span class="o">=</span><span class="n">expire_in_orbit_message</span><span class="p">,</span>
            <span class="n">expiration_tooltip</span><span class="o">=</span><span class="n">expire_tool_tip</span><span class="p">,</span>
            <span class="n">lore_hash</span><span class="o">=</span><span class="n">lorehash</span><span class="p">,</span>
            <span class="n">type_and_tier_name</span><span class="o">=</span><span class="n">tier_and_name</span><span class="p">,</span>
            <span class="n">summary_hash</span><span class="o">=</span><span class="n">summary_hash</span><span class="p">,</span>
            <span class="n">ui_display_style</span><span class="o">=</span><span class="n">ui_item_style</span><span class="p">,</span>
            <span class="n">type_name</span><span class="o">=</span><span class="n">type_name</span><span class="p">,</span>
            <span class="n">breaker_type_hash</span><span class="o">=</span><span class="n">breaker_type_hash</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">display_source</span><span class="o">=</span><span class="n">display_source</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
            <span class="n">damage_types</span><span class="o">=</span><span class="n">damage_types</span><span class="p">,</span>
            <span class="n">index</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">has_icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">has_icon</span><span class="p">,</span>
            <span class="n">screenshot</span><span class="o">=</span><span class="n">screenshot</span><span class="p">,</span>
            <span class="n">watermark_icon</span><span class="o">=</span><span class="n">watermark_icon</span><span class="p">,</span>
            <span class="n">watermark_shelved</span><span class="o">=</span><span class="n">watermark_shelved</span><span class="p">,</span>
            <span class="n">secondary_icon</span><span class="o">=</span><span class="n">secondary_icon</span><span class="p">,</span>
            <span class="n">secondary_overlay</span><span class="o">=</span><span class="n">secondary_overlay</span><span class="p">,</span>
            <span class="n">secondary_special</span><span class="o">=</span><span class="n">secondary_special</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemType&quot;</span><span class="p">])),</span>
            <span class="n">trait_hashes</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;traitHashes&quot;</span><span class="p">,</span> <span class="p">[])],</span>
            <span class="n">trait_ids</span><span class="o">=</span><span class="p">[</span><span class="n">trait</span> <span class="k">for</span> <span class="n">trait</span> <span class="ow">in</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;traitIds&quot;</span><span class="p">,</span> <span class="p">[])],</span>
            <span class="n">category_hashes</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">hash_</span><span class="p">)</span> <span class="k">for</span> <span class="n">hash_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemCategoryHashes&quot;</span><span class="p">]],</span>
            <span class="n">item_class</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Class</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;classType&quot;</span><span class="p">])),</span>
            <span class="n">sub_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">ItemSubType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemSubType&quot;</span><span class="p">])),</span>
            <span class="n">breaker_type</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;breakerType&quot;</span><span class="p">]),</span>
            <span class="n">default_damagetype</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;defaultDamageType&quot;</span><span class="p">]),</span>
            <span class="n">default_damagetype_hash</span><span class="o">=</span><span class="n">default_damagetype_hash</span><span class="p">,</span>
            <span class="n">damagetype_hashes</span><span class="o">=</span><span class="n">damagetype_hashes</span><span class="p">,</span>
            <span class="n">tooltip_notifications</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tooltipNotifications&quot;</span><span class="p">],</span>
            <span class="n">not_transferable</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;nonTransferrable&quot;</span><span class="p">],</span>
            <span class="n">allow_actions</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowActions&quot;</span><span class="p">],</span>
            <span class="n">is_equippable</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;equippable&quot;</span><span class="p">],</span>
            <span class="n">objects</span><span class="o">=</span><span class="n">objects</span><span class="p">,</span>
            <span class="n">background_colors</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;backgroundColor&quot;</span><span class="p">,</span> <span class="p">{}),</span>
            <span class="n">season_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seasonHash&quot;</span><span class="p">),</span>
            <span class="n">has_postmaster_effect</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;doesPostmasterPullHaveSideEffects&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of an inventory entity item information.</p>

<p>This can be any item from <code>DestinyInventoryItemDefinition</code> definition.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#InventoryEntity">aiobungie.crate.InventoryEntity</a></code></strong>: An entity item.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_objective_entity" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_objective_entity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_objective_entity</span><span class="signature">(self, payload: dict, /) -&gt; aiobungie.crate.entity.ObjectiveEntity</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_objective_entity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">entity</span><span class="o">.</span><span class="n">ObjectiveEntity</span><span class="p">:</span>
        <span class="n">props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_entity_attrs</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">ObjectiveEntity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
            <span class="n">index</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">has_icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">has_icon</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">props</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">unlock_value_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;unlockValueHash&quot;</span><span class="p">],</span>
            <span class="n">completion_value</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completionValue&quot;</span><span class="p">],</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">GatingScope</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">])),</span>
            <span class="n">location_hash</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;locationHash&quot;</span><span class="p">],</span>
            <span class="n">allowed_negative_value</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowNegativeValue&quot;</span><span class="p">],</span>
            <span class="n">allowed_value_change</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowValueChangeWhenCompleted&quot;</span><span class="p">],</span>
            <span class="n">counting_downward</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isCountingDownward&quot;</span><span class="p">],</span>
            <span class="n">value_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ValueUIStyle</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;valueStyle&quot;</span><span class="p">])),</span>
            <span class="n">progress_description</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;progressDescription&quot;</span><span class="p">],</span>
            <span class="n">perks</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;perks&quot;</span><span class="p">],</span>
            <span class="n">stats</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stats&quot;</span><span class="p">],</span>
            <span class="n">minimum_visibility</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;minimumVisibilityThreshold&quot;</span><span class="p">],</span>
            <span class="n">allow_over_completion</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;allowOvercompletion&quot;</span><span class="p">],</span>
            <span class="n">show_value_style</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;showValueOnComplete&quot;</span><span class="p">],</span>
            <span class="n">display_only_objective</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isDisplayOnlyObjective&quot;</span><span class="p">],</span>
            <span class="n">complete_value_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ValueUIStyle</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;completedValueStyle&quot;</span><span class="p">])</span>
            <span class="p">),</span>
            <span class="n">progress_value_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ValueUIStyle</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;inProgressValueStyle&quot;</span><span class="p">])</span>
            <span class="p">),</span>
            <span class="n">ui_label</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;uiLabel&quot;</span><span class="p">],</span>
            <span class="n">ui_style</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">ObjectiveUIStyle</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;uiStyle&quot;</span><span class="p">])),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of an objective entity information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#ObjectiveEntity">aiobungie.crate.ObjectiveEntity</a></code></strong>: An objective entity.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_activity" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_activity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_activity</span><span class="signature">(self, payload: dict, /) -&gt; aiobungie.crate.activity.Activity</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="o">/</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">:</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">])</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDetails&quot;</span><span class="p">]</span>
        <span class="n">ref_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;referenceId&quot;</span><span class="p">])</span>
        <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;instanceId&quot;</span><span class="p">])</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">])</span>
        <span class="n">modes</span> <span class="o">=</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">mode_</span><span class="p">))</span> <span class="k">for</span> <span class="n">mode_</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;modes&quot;</span><span class="p">]]</span>
        <span class="n">is_private</span> <span class="o">=</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;isPrivate&quot;</span><span class="p">]</span>
        <span class="n">membership_type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]))</span>

        <span class="c1"># Since we&#39;re using the same fields for post activity method</span>
        <span class="c1"># this check is required since post activity doesn&#39;t values values</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_activity_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">ref_id</span><span class="p">,</span>
            <span class="n">instance_id</span><span class="o">=</span><span class="n">instance_id</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
            <span class="n">modes</span><span class="o">=</span><span class="n">modes</span><span class="p">,</span>
            <span class="n">is_private</span><span class="o">=</span><span class="n">is_private</span><span class="p">,</span>
            <span class="n">membership_type</span><span class="o">=</span><span class="n">membership_type</span><span class="p">,</span>
            <span class="n">occurred_at</span><span class="o">=</span><span class="n">period</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of an activity history information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#Activity">aiobungie.crate.Activity</a></code></strong>: An activity.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_activities" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_activities">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_activities</span><span class="signature">(
    self,
    payload: dict
) -&gt; <a href="iterators.html#FlatIterator">aiobungie.internal.iterators.FlatIterator</a>[aiobungie.crate.activity.Activity]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_activities</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_activity</span><span class="p">(</span><span class="n">activity_</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">activity_</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of an array of activity history information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.iterators.FlatIterator[<a href="../crate.html#Activity">aiobungie.crate.Activity</a>]</code></strong>: Am iterator over activity objects of the deserialized payload.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_extended_weapon_values" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_extended_weapon_values">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_extended_weapon_values</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.activity.ExtendedWeaponValues</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_extended_weapon_values</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedWeaponValues</span><span class="p">:</span>

        <span class="n">assists</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_assists</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uniqueWeaponAssists&quot;</span><span class="p">):</span>
            <span class="n">assists</span> <span class="o">=</span> <span class="n">raw_assists</span><span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">assists_damage</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_assists_damage</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uniqueWeaponAssistDamage&quot;</span><span class="p">):</span>
            <span class="n">assists_damage</span> <span class="o">=</span> <span class="n">raw_assists_damage</span><span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">ExtendedWeaponValues</span><span class="p">(</span>
            <span class="n">reference_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;referenceId&quot;</span><span class="p">]),</span>
            <span class="n">kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
            <span class="n">precision_kills</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span>
                <span class="s2">&quot;value&quot;</span>
            <span class="p">],</span>
            <span class="n">assists</span><span class="o">=</span><span class="n">assists</span><span class="p">,</span>
            <span class="n">assists_damage</span><span class="o">=</span><span class="n">assists_damage</span><span class="p">,</span>
            <span class="n">precision_kills_percentage</span><span class="o">=</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponKillsPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="s2">&quot;uniqueWeaponKillsPrecisionKills&quot;</span><span class="p">][</span><span class="s2">&quot;basic&quot;</span><span class="p">][</span>
                    <span class="s2">&quot;displayValue&quot;</span>
                <span class="p">],</span>
            <span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize values of extended weapons JSON object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#ExtendedWeaponValues">aiobungie.crate.ExtendedWeaponValues</a></code></strong>: Information about an extended weapon values.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_post_activity" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_post_activity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_post_activity</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.activity.PostActivity</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_post_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivity</span><span class="p">:</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;period&quot;</span><span class="p">])</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityDetails&quot;</span><span class="p">]</span>
        <span class="n">ref_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;referenceId&quot;</span><span class="p">])</span>
        <span class="n">instance_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;instanceId&quot;</span><span class="p">])</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">])</span>
        <span class="n">modes</span> <span class="o">=</span> <span class="p">[</span><span class="n">enums</span><span class="o">.</span><span class="n">GameMode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">mode_</span><span class="p">))</span> <span class="k">for</span> <span class="n">mode_</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;modes&quot;</span><span class="p">]]</span>
        <span class="n">is_private</span> <span class="o">=</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;isPrivate&quot;</span><span class="p">]</span>
        <span class="n">membership_type</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;membershipType&quot;</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">PostActivity</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">ref_id</span><span class="p">,</span>
            <span class="n">membership_type</span><span class="o">=</span><span class="n">membership_type</span><span class="p">,</span>
            <span class="n">instance_id</span><span class="o">=</span><span class="n">instance_id</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
            <span class="n">modes</span><span class="o">=</span><span class="n">modes</span><span class="p">,</span>
            <span class="n">is_private</span><span class="o">=</span><span class="n">is_private</span><span class="p">,</span>
            <span class="n">occurred_at</span><span class="o">=</span><span class="n">period</span><span class="p">,</span>
            <span class="n">starting_phase</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;startingPhaseIndex&quot;</span><span class="p">]),</span>
            <span class="n">players</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_post_activity_player</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;entries&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">teams</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_post_activity_team</span><span class="p">(</span><span class="n">team</span><span class="p">)</span> <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;teams&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a post activity information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#PostActivity">aiobungie.crate.PostActivity</a></code></strong>: A post activity object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_aggregated_activity" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_aggregated_activity">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_aggregated_activity</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.activity.AggregatedActivity</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_aggregated_activity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivity</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivity</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activityHash&quot;</span><span class="p">]),</span>
            <span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_aggregated_activity_values</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of an aggregated activity.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#AggregatedActivity">aiobungie.crate.AggregatedActivity</a></code></strong>: An aggregated activity object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_aggregated_activities" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_aggregated_activities">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_aggregated_activities</span><span class="signature">(
    self,
    payload: dict
) -&gt; <a href="iterators.html#FlatIterator">aiobungie.internal.iterators.FlatIterator</a>[aiobungie.crate.activity.AggregatedActivity]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_aggregated_activities</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">AggregatedActivity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">iterators</span><span class="o">.</span><span class="n">FlatIterator</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_aggregated_activity</span><span class="p">(</span><span class="n">activity</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of an array of aggregated activities.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>aiobungie.iterators.FlatIterator[<a href="../crate.html#AggregatedActivity">aiobungie.crate.AggregatedActivity</a>]</code></strong>: An iterator over aggregated activities objects.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_linked_profiles" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_linked_profiles">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_linked_profiles</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.profile.LinkedProfile</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_linked_profiles</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">profile</span><span class="o">.</span><span class="n">LinkedProfile</span><span class="p">:</span>
        <span class="n">bungie_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_partial_bungie_user</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bnetMembership&quot;</span><span class="p">])</span>
        <span class="n">error_profiles_vec</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">profiles_vec</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">DestinyMembership</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">raw_profile</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profiles&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">pfile</span> <span class="ow">in</span> <span class="n">raw_profile</span><span class="p">:</span>
                <span class="n">profiles_vec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">pfile</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">raw_profiles_with_errors</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;profilesWithErrors&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">raw_error_pfile</span> <span class="ow">in</span> <span class="n">raw_profiles_with_errors</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">error_pfile</span> <span class="o">:=</span> <span class="n">raw_error_pfile</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;infoCard&quot;</span><span class="p">):</span>
                    <span class="n">error_profiles_vec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">error_pfile</span><span class="p">)</span>
                    <span class="p">)</span>

        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">LinkedProfile</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="n">bungie</span><span class="o">=</span><span class="n">bungie_user</span><span class="p">,</span>
            <span class="n">profiles</span><span class="o">=</span><span class="n">profiles_vec</span><span class="p">,</span>
            <span class="n">profiles_with_errors</span><span class="o">=</span><span class="n">error_profiles_vec</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of Bungie.net hard linked profile information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#LinkedProfile">aiobungie.crate.LinkedProfile</a></code></strong>: A hard linked profile.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_clan_banners" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_clan_banners">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_clan_banners</span><span class="signature">(
    self,
    payload: dict
) -&gt; collections.abc.Sequence[aiobungie.crate.clans.ClanBanner]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_clan_banners</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanBanner</span><span class="p">]:</span>
        <span class="n">banners_seq</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">clans</span><span class="o">.</span><span class="n">ClanBanner</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">banners</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;clanBannerDecals&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">banners</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">banner_obj</span> <span class="o">=</span> <span class="n">clans</span><span class="o">.</span><span class="n">ClanBanner</span><span class="p">(</span>
                    <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">),</span>
                    <span class="n">foreground</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;foregroundPath&quot;</span><span class="p">]),</span>
                    <span class="n">background</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;backgroundPath&quot;</span><span class="p">]),</span>
                <span class="p">)</span>
                <span class="n">banners_seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">banner_obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">banners_seq</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON array of a clan banners information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>collections.Sequence[<a href="../crate.html#ClanBanner">aiobungie.crate.ClanBanner</a>]</code></strong>: A sequence of clan banners of the deserialized payload.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_public_milestone_content" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_public_milestone_content">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_public_milestone_content</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.milestones.MilestoneContent</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_public_milestone_content</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneContent</span><span class="p">:</span>
        <span class="n">items_categoris</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneItems</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_categories</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemCategories&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">raw_categories</span><span class="p">:</span>
                <span class="n">title</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
                <span class="k">if</span> <span class="n">raw_title</span> <span class="o">:=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">raw_title</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
                        <span class="n">title</span> <span class="o">=</span> <span class="n">raw_title</span>
                <span class="k">if</span> <span class="n">raw_hashes</span> <span class="o">:=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;itemHashes&quot;</span><span class="p">):</span>
                    <span class="n">hashes</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_hashes</span>

                <span class="n">items_categoris</span> <span class="o">=</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneItems</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">hashes</span><span class="o">=</span><span class="n">hashes</span><span class="p">)</span>

        <span class="n">about</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_about</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;about&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
            <span class="n">about</span> <span class="o">=</span> <span class="n">raw_about</span>

        <span class="n">status</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_status</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">raw_status</span>

        <span class="n">tips</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">undefined</span><span class="o">.</span><span class="n">UndefinedOr</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">raw_tips</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tips&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">raw_tip</span> <span class="ow">in</span> <span class="n">raw_tips</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">raw_tip</span> <span class="o">==</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
                    <span class="n">raw_tip</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
                <span class="n">tips</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw_tip</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">milestones</span><span class="o">.</span><span class="n">MilestoneContent</span><span class="p">(</span>
            <span class="n">about</span><span class="o">=</span><span class="n">about</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="p">,</span> <span class="n">tips</span><span class="o">=</span><span class="n">tips</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items_categoris</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of milestone content information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#MilestoneContent">aiobungie.crate.MilestoneContent</a></code></strong>: A milestone content.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_friend" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_friend">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_friend</span><span class="signature">(self, payload: dict, /) -&gt; aiobungie.crate.friends.Friend</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_friend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">undefined</span><span class="o">.</span><span class="n">Undefined</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">raw_name</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;bungieGlobalDisplayName&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">Unknown</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">raw_name</span>

        <span class="n">bungie_user</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">BungieUser</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">raw_bungie_user</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieNetUser&quot;</span><span class="p">):</span>
            <span class="n">bungie_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_bungie_user</span><span class="p">(</span><span class="n">raw_bungie_user</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lastSeenAsMembershipId&quot;</span><span class="p">]),</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bungieGlobalDisplayNameCode&quot;</span><span class="p">),</span>
            <span class="n">relationship</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Relationship</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;relationship&quot;</span><span class="p">]),</span>
            <span class="n">user</span><span class="o">=</span><span class="n">bungie_user</span><span class="p">,</span>
            <span class="n">online_status</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">Presence</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;onlineStatus&quot;</span><span class="p">]),</span>
            <span class="n">online_title</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;onlineTitle&quot;</span><span class="p">],</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;lastSeenAsBungieMembershipType&quot;</span><span class="p">]),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a Bungie friend information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#Friend">aiobungie.crate.Friend</a></code></strong>: A friend.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_friends" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_friends">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_friends</span><span class="signature">(
    self,
    payload: dict
) -&gt; collections.abc.Sequence[aiobungie.crate.friends.Friend]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_friends</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]:</span>
        <span class="n">mut_seq</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">raw_friends</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;friends&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">friend</span> <span class="ow">in</span> <span class="n">raw_friends</span><span class="p">:</span>
                <span class="n">mut_seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_friend</span><span class="p">(</span><span class="n">friend</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">mut_seq</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON sequence of Bungie friends information.</p>

<p>This is usually used to deserialize the incoming/outgoing friend requests.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>collections.Sequence[<a href="../crate.html#Friend">aiobungie.crate.Friend</a>]</code></strong>: A sequence of friends.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_friend_requests" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_friend_requests">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_friend_requests</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.friends.FriendRequestView</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_friend_requests</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">friends</span><span class="o">.</span><span class="n">FriendRequestView</span><span class="p">:</span>
        <span class="n">incoming</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">outgoing</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">friends</span><span class="o">.</span><span class="n">Friend</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">raw_incoming_requests</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;incomingRequests&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">incoming_request</span> <span class="ow">in</span> <span class="n">raw_incoming_requests</span><span class="p">:</span>
                <span class="n">incoming</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_friend</span><span class="p">(</span><span class="n">incoming_request</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">raw_outgoing_requests</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outgoingRequests&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">outgoing_request</span> <span class="ow">in</span> <span class="n">raw_outgoing_requests</span><span class="p">:</span>
                <span class="n">outgoing</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_friend</span><span class="p">(</span><span class="n">outgoing_request</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">friends</span><span class="o">.</span><span class="n">FriendRequestView</span><span class="p">(</span><span class="n">incoming</span><span class="o">=</span><span class="n">incoming</span><span class="p">,</span> <span class="n">outgoing</span><span class="o">=</span><span class="n">outgoing</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON sequence of Bungie friend requests information.</p>

<p>This is used for incoming/outgoing friend requests.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>collections.Sequence[<a href="../crate.html#FriendRequestView">aiobungie.crate.FriendRequestView</a>]</code></strong>: A sequence of incoming and outgoing friends.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_fireteams" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_fireteams">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_fireteams</span><span class="signature">(
    self,
    payload: dict
) -&gt; Optional[collections.abc.Sequence[aiobungie.crate.fireteams.Fireteam]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_fireteams</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">]]:</span>
        <span class="n">fireteams_</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">MutableSequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">Fireteam</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">result</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">result</span> <span class="o">:=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
            <span class="n">fireteams_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_fireteam_fields</span><span class="p">(</span>
                    <span class="n">elem</span><span class="p">,</span> <span class="n">total_results</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;totalResults&quot;</span><span class="p">])</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">fireteams_</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON sequence of Bungie fireteams information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>collections.Sequence[<a href="../crate.html#Fireteam">aiobungie.crate.Fireteam</a>]</code></strong>: A sequence of fireteam.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_fireteam_destiny_users" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_fireteam_destiny_users">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_fireteam_destiny_users</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.fireteams.FireteamUser</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_fireteam_destiny_users</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamUser</span><span class="p">:</span>
        <span class="n">destiny_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_destiny_membership</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="c1"># We could helpers.just return a DestinyMembership object but this is</span>
        <span class="c1"># missing the fireteam display name and id fields.</span>
        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamUser</span><span class="p">(</span>
            <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">code</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="n">types</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">is_public</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
            <span class="n">crossave_override</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">crossave_override</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">last_seen_name</span><span class="o">=</span><span class="n">destiny_obj</span><span class="o">.</span><span class="n">last_seen_name</span><span class="p">,</span>
            <span class="n">fireteam_display_name</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;FireteamDisplayName&quot;</span><span class="p">],</span>
            <span class="n">fireteam_membership_id</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">MembershipType</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;FireteamMembershipType&quot;</span><span class="p">]</span>
            <span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of Bungie fireteam destiny users information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#FireteamUser">aiobungie.crate.FireteamUser</a></code></strong>: A fireteam user.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_fireteam_members" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_fireteam_members">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_fireteam_members</span><span class="signature">(
    self,
    payload: dict,
    *,
    alternatives: bool = False
) -&gt; Optional[collections.abc.Sequence[aiobungie.crate.fireteams.FireteamMember]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_fireteam_members</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">alternatives</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamMember</span><span class="p">]]:</span>
        <span class="n">members_</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamMember</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">members</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Members&quot;</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">alternatives</span> <span class="k">else</span> <span class="s2">&quot;Alternates&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
                <span class="n">bungie_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_partial_bungie_user</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
                <span class="n">members_fields</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamMember</span><span class="p">(</span>
                    <span class="n">destiny_user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_destiny_users</span><span class="p">(</span><span class="n">member</span><span class="p">),</span>
                    <span class="n">has_microphone</span><span class="o">=</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;hasMicrophone&quot;</span><span class="p">],</span>
                    <span class="n">character_id</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;characterId&quot;</span><span class="p">]),</span>
                    <span class="n">date_joined</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="s2">&quot;dateJoined&quot;</span><span class="p">]),</span>
                    <span class="n">last_platform_invite_date</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">clean_date</span><span class="p">(</span>
                        <span class="n">member</span><span class="p">[</span><span class="s2">&quot;lastPlatformInviteAttemptDate&quot;</span><span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">last_platform_invite_result</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span>
                        <span class="n">member</span><span class="p">[</span><span class="s2">&quot;lastPlatformInviteAttemptResult&quot;</span><span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="nb">id</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">icon</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
                    <span class="n">is_public</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
                    <span class="n">crossave_override</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">crossave_override</span><span class="p">,</span>
                    <span class="n">types</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">bungie_fields</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">members_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">members_fields</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">members_</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON sequence of Bungie fireteam members information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
<li><strong>alternatives</strong> (<code>bool</code>):
If set to <code>True</code>, Then it will deserialize the <code>alternatives</code> data in the payload.
If not the it will just deserialize the <code>members</code> data.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>typing.Optional[collections.Sequence[<a href="../crate.html#FireteamUser">aiobungie.crate.FireteamUser</a>]]</code></strong>: An optional sequence of the fireteam members.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_available_fireteams" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_available_fireteams">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_available_fireteams</span><span class="signature">(
    self,
    data: dict,
    *,
    no_results: bool = False
) -&gt; Union[aiobungie.crate.fireteams.AvailableFireteam, collections.abc.Sequence[aiobungie.crate.fireteams.AvailableFireteam]]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_available_fireteams</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">no_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
        <span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">]</span>
    <span class="p">]:</span>
        <span class="n">fireteams_</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># This needs to be used outside the results</span>
        <span class="c1"># JSON key.</span>
        <span class="k">if</span> <span class="n">no_results</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="n">data</span>

        <span class="k">if</span> <span class="n">result</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;results&quot;</span><span class="p">):</span>

            <span class="k">for</span> <span class="n">fireteam</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="n">found_fireteams</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_fireteam_fields</span><span class="p">(</span><span class="n">fireteam</span><span class="p">[</span><span class="s2">&quot;Summary&quot;</span><span class="p">])</span>
                <span class="n">fireteams_fields</span> <span class="o">=</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">AvailableFireteam</span><span class="p">(</span>
                    <span class="nb">id</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">group_id</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span>
                    <span class="n">platform</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">platform</span><span class="p">,</span>
                    <span class="n">activity_type</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">activity_type</span><span class="p">,</span>
                    <span class="n">is_immediate</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">is_immediate</span><span class="p">,</span>
                    <span class="n">is_public</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">is_public</span><span class="p">,</span>
                    <span class="n">is_valid</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">is_valid</span><span class="p">,</span>
                    <span class="n">owner_id</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">owner_id</span><span class="p">,</span>
                    <span class="n">player_slot_count</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">player_slot_count</span><span class="p">,</span>
                    <span class="n">available_player_slots</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">available_player_slots</span><span class="p">,</span>
                    <span class="n">available_alternate_slots</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">available_alternate_slots</span><span class="p">,</span>
                    <span class="n">title</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
                    <span class="n">date_created</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">date_created</span><span class="p">,</span>
                    <span class="n">locale</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">locale</span><span class="p">,</span>
                    <span class="n">last_modified</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">last_modified</span><span class="p">,</span>
                    <span class="n">total_results</span><span class="o">=</span><span class="n">found_fireteams</span><span class="o">.</span><span class="n">total_results</span><span class="p">,</span>
                    <span class="n">members</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_members</span><span class="p">(</span><span class="n">payload</span><span class="p">),</span>
                    <span class="n">alternatives</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_fireteam_members</span><span class="p">(</span>
                        <span class="n">payload</span><span class="p">,</span> <span class="n">alternatives</span><span class="o">=</span><span class="kc">True</span>
                    <span class="p">),</span>
                <span class="p">)</span>
            <span class="n">fireteams_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fireteams_fields</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">no_results</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">fireteams_fields</span>
        <span class="k">return</span> <span class="n">fireteams_</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a sequence of/fireteam information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
<li><strong>no_results</strong> (<code>bool</code>):
Whether to deserialize the data from <code>results</code> in the payload or not.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code>typing.Union[aiobungie.crate.fireteams.AvailableFireteam, collections.Sequence[aiobungie.crate.fireteams.AvailableFireteam]]</code> # noqa</strong> (E501):
An available fireteam or a sequence of available fireteam.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_fireteam_party" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_fireteam_party">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_fireteam_party</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.fireteams.FireteamParty</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_fireteam_party</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamParty</span><span class="p">:</span>
        <span class="n">last_destination_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_dest_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;lastOrbitedDestinationHash&quot;</span><span class="p">):</span>
            <span class="n">last_destination_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_dest_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fireteams</span><span class="o">.</span><span class="n">FireteamParty</span><span class="p">(</span>
            <span class="n">members</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_fireteam_party_member</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;partyMembers&quot;</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">activity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_fireteam_party_current_activity</span><span class="p">(</span>
                <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;currentActivity&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">settings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_deserialize_fireteam_party_settings</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;joinability&quot;</span><span class="p">]),</span>
            <span class="n">last_destination_hash</span><span class="o">=</span><span class="n">last_destination_hash</span><span class="p">,</span>
            <span class="n">tracking</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;tracking&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of <code>profileTransitory</code> component response.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code><a href="../typedefs.html#JSONObject">aiobungie.typedefs.JSONObject</a></code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#FireteamParty">aiobungie.crate.FireteamParty</a></code></strong>: A fireteam party object of the current fireteam.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_seasonal_artifact" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_seasonal_artifact">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_seasonal_artifact</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.season.Artifact</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_seasonal_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">season</span><span class="o">.</span><span class="n">Artifact</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">raw_artifact</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seasonalArtifact&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">points</span> <span class="o">:=</span> <span class="n">raw_artifact</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pointProgression&quot;</span><span class="p">):</span>
                <span class="n">points_prog</span> <span class="o">=</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">(</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;progressionHash&quot;</span><span class="p">],</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">],</span>
                    <span class="n">cap</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;levelCap&quot;</span><span class="p">],</span>
                    <span class="n">daily_limit</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;dailyLimit&quot;</span><span class="p">],</span>
                    <span class="n">weekly_limit</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;weeklyLimit&quot;</span><span class="p">],</span>
                    <span class="n">current_progress</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;currentProgress&quot;</span><span class="p">],</span>
                    <span class="n">daily_progress</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;dailyProgress&quot;</span><span class="p">],</span>
                    <span class="n">needed</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;progressToNextLevel&quot;</span><span class="p">],</span>
                    <span class="n">next_level</span><span class="o">=</span><span class="n">points</span><span class="p">[</span><span class="s2">&quot;nextLevelAt&quot;</span><span class="p">],</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">bonus</span> <span class="o">:=</span> <span class="n">raw_artifact</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;powerBonusProgression&quot;</span><span class="p">):</span>
                <span class="n">power_bonus_prog</span> <span class="o">=</span> <span class="n">progressions</span><span class="o">.</span><span class="n">Progression</span><span class="p">(</span>
                    <span class="nb">hash</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;progressionHash&quot;</span><span class="p">],</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">],</span>
                    <span class="n">cap</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;levelCap&quot;</span><span class="p">],</span>
                    <span class="n">daily_limit</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;dailyLimit&quot;</span><span class="p">],</span>
                    <span class="n">weekly_limit</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;weeklyLimit&quot;</span><span class="p">],</span>
                    <span class="n">current_progress</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;currentProgress&quot;</span><span class="p">],</span>
                    <span class="n">daily_progress</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;dailyProgress&quot;</span><span class="p">],</span>
                    <span class="n">needed</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;progressToNextLevel&quot;</span><span class="p">],</span>
                    <span class="n">next_level</span><span class="o">=</span><span class="n">bonus</span><span class="p">[</span><span class="s2">&quot;nextLevelAt&quot;</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="n">artifact</span> <span class="o">=</span> <span class="n">season</span><span class="o">.</span><span class="n">Artifact</span><span class="p">(</span>
                <span class="n">net</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_net</span><span class="p">,</span>
                <span class="nb">hash</span><span class="o">=</span><span class="n">raw_artifact</span><span class="p">[</span><span class="s2">&quot;artifactHash&quot;</span><span class="p">],</span>
                <span class="n">power_bonus</span><span class="o">=</span><span class="n">raw_artifact</span><span class="p">[</span><span class="s2">&quot;powerBonus&quot;</span><span class="p">],</span>
                <span class="n">acquired_points</span><span class="o">=</span><span class="n">raw_artifact</span><span class="p">[</span><span class="s2">&quot;pointsAcquired&quot;</span><span class="p">],</span>
                <span class="n">bonus</span><span class="o">=</span><span class="n">power_bonus_prog</span><span class="p">,</span>
                <span class="n">points</span><span class="o">=</span><span class="n">points_prog</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">artifact</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a Destiny 2 seasonal artifact information.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code>aiobungie.internal.helpers.JsonObject</code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#Artifact">aiobungie.crate.Artifact</a></code></strong>: A seasonal artifact.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_profile_progression" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_profile_progression">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_profile_progression</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.profile.ProfileProgression</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_profile_progression</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileProgression</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">profile</span><span class="o">.</span><span class="n">ProfileProgression</span><span class="p">(</span>
            <span class="n">artifact</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deserialize_seasonal_artifact</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]),</span>
            <span class="n">checklist</span><span class="o">=</span><span class="p">{</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">check_id</span><span class="p">):</span> <span class="n">checklists</span>
                <span class="k">for</span> <span class="n">check_id</span><span class="p">,</span> <span class="n">checklists</span> <span class="ow">in</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;checklists&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">},</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON payload of a profile progression component.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code>aiobungie.internal.helpers.JsonObject</code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#ProfileProgression">aiobungie.crate.ProfileProgression</a></code></strong>: A profile progression component.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_instanced_item" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_instanced_item">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_instanced_item</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.items.ItemInstance</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_instanced_item</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemInstance</span><span class="p">:</span>
        <span class="n">damage_type_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_damagetype_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;damageTypeHash&quot;</span><span class="p">):</span>
            <span class="n">damage_type_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_damagetype_hash</span><span class="p">)</span>

        <span class="n">required_hashes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">collections</span><span class="o">.</span><span class="n">Collection</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_required_hashes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;unlockHashesRequiredToEquip&quot;</span><span class="p">):</span>
            <span class="n">required_hashes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">raw_hash</span><span class="p">)</span> <span class="k">for</span> <span class="n">raw_hash</span> <span class="ow">in</span> <span class="n">raw_required_hashes</span><span class="p">]</span>

        <span class="n">breaker_type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemBreakerType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_break_type</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;breakerType&quot;</span><span class="p">):</span>
            <span class="n">breaker_type</span> <span class="o">=</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemBreakerType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">raw_break_type</span><span class="p">))</span>

        <span class="n">breaker_type_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_break_type_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;breakerTypeHash&quot;</span><span class="p">):</span>
            <span class="n">breaker_type_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_break_type_hash</span><span class="p">)</span>

        <span class="n">energy</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">items</span><span class="o">.</span><span class="n">ItemEnergy</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_energy</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">):</span>
            <span class="n">energy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_energy</span><span class="p">(</span><span class="n">raw_energy</span><span class="p">)</span>

        <span class="n">primary_stats</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_primary_stats</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;primaryStat&quot;</span><span class="p">):</span>
            <span class="n">primary_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_item_stats_view</span><span class="p">(</span><span class="n">raw_primary_stats</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemInstance</span><span class="p">(</span>
            <span class="n">damage_type</span><span class="o">=</span><span class="n">enums</span><span class="o">.</span><span class="n">DamageType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;damageType&quot;</span><span class="p">])),</span>
            <span class="n">damage_type_hash</span><span class="o">=</span><span class="n">damage_type_hash</span><span class="p">,</span>
            <span class="n">primary_stat</span><span class="o">=</span><span class="n">primary_stats</span><span class="p">,</span>
            <span class="n">item_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;itemLevel&quot;</span><span class="p">]),</span>
            <span class="n">quality</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;quality&quot;</span><span class="p">]),</span>
            <span class="n">is_equipped</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isEquipped&quot;</span><span class="p">],</span>
            <span class="n">can_equip</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canEquip&quot;</span><span class="p">],</span>
            <span class="n">equip_required_level</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;equipRequiredLevel&quot;</span><span class="p">]),</span>
            <span class="n">required_equip_unlock_hashes</span><span class="o">=</span><span class="n">required_hashes</span><span class="p">,</span>
            <span class="n">cant_equip_reason</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;cannotEquipReason&quot;</span><span class="p">]),</span>
            <span class="n">breaker_type</span><span class="o">=</span><span class="n">breaker_type</span><span class="p">,</span>
            <span class="n">breaker_type_hash</span><span class="o">=</span><span class="n">breaker_type_hash</span><span class="p">,</span>
            <span class="n">energy</span><span class="o">=</span><span class="n">energy</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Deserialize a JSON object into an instanced item.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>payload</strong> (<code>aiobungie.internal.helpers.JsonObject</code>):
The JSON payload.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong><code><a href="../crate.html#ItemInstance">aiobungie.crate.ItemInstance</a></code></strong>: An instanced item object.</li>
</ul>
</div>


                            </div>
                            <div id="Factory.deserialize_item_energy" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_item_energy">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_item_energy</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.items.ItemEnergy</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_item_energy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemEnergy</span><span class="p">:</span>
        <span class="n">energy_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_energy_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;energyTypeHash&quot;</span><span class="p">):</span>
            <span class="n">energy_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_energy_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemEnergy</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">energy_hash</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">items</span><span class="o">.</span><span class="n">ItemEnergyType</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyType&quot;</span><span class="p">])),</span>
            <span class="n">capacity</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyCapacity&quot;</span><span class="p">]),</span>
            <span class="n">used_energy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyUsed&quot;</span><span class="p">]),</span>
            <span class="n">unused_energy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;energyUnused&quot;</span><span class="p">]),</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_item_perk" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_item_perk">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_item_perk</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.items.ItemPerk</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_item_perk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemPerk</span><span class="p">:</span>
        <span class="n">perk_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_perk_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;perkHash&quot;</span><span class="p">):</span>
            <span class="n">perk_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_perk_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemPerk</span><span class="p">(</span>
            <span class="nb">hash</span><span class="o">=</span><span class="n">perk_hash</span><span class="p">,</span>
            <span class="n">icon</span><span class="o">=</span><span class="n">assets</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;iconPath&quot;</span><span class="p">]),</span>
            <span class="n">is_active</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isActive&quot;</span><span class="p">],</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;visible&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_item_socket" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_item_socket">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_item_socket</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.items.ItemSocket</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_item_socket</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemSocket</span><span class="p">:</span>
        <span class="n">plug_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_plug_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugHash&quot;</span><span class="p">):</span>
            <span class="n">plug_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_plug_hash</span><span class="p">)</span>

        <span class="n">enable_fail_indexes</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_indexes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enableFailIndexes&quot;</span><span class="p">):</span>
            <span class="n">enable_fail_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">raw_indexes</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemSocket</span><span class="p">(</span>
            <span class="n">plug_hash</span><span class="o">=</span><span class="n">plug_hash</span><span class="p">,</span>
            <span class="n">is_enabled</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;isEnabled&quot;</span><span class="p">],</span>
            <span class="n">enable_fail_indexes</span><span class="o">=</span><span class="n">enable_fail_indexes</span><span class="p">,</span>
            <span class="n">is_visible</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;visible&quot;</span><span class="p">),</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_item_stats_view" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_item_stats_view">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_item_stats_view</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.items.ItemStatsView</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_item_stats_view</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">ItemStatsView</span><span class="p">(</span>
            <span class="n">stat_hash</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;statHash&quot;</span><span class="p">),</span> <span class="n">value</span><span class="o">=</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="Factory.deserialize_plug_item_state" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Factory.deserialize_plug_item_state">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deserialize_plug_item_state</span><span class="signature">(self, payload: dict) -&gt; aiobungie.crate.items.PlugItemState</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">deserialize_plug_item_state</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">JSONObject</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">:</span>
        <span class="n">item_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_item_hash</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plugItemHash&quot;</span><span class="p">):</span>
            <span class="n">item_hash</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_item_hash</span><span class="p">)</span>

        <span class="n">insert_fail_indexes</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_fail_indexes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;insertFailIndexes&quot;</span><span class="p">):</span>
            <span class="n">insert_fail_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">raw_fail_indexes</span><span class="p">]</span>

        <span class="n">enable_fail_indexes</span><span class="p">:</span> <span class="n">typedefs</span><span class="o">.</span><span class="n">NoneOr</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">raw_enabled_indexes</span> <span class="o">:=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enableFailIndexes&quot;</span><span class="p">):</span>
            <span class="n">enable_fail_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">raw_enabled_indexes</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">PlugItemState</span><span class="p">(</span>
            <span class="n">item_hash</span><span class="o">=</span><span class="n">item_hash</span><span class="p">,</span>
            <span class="n">insert_fail_indexes</span><span class="o">=</span><span class="n">insert_fail_indexes</span><span class="p">,</span>
            <span class="n">enable_fail_indexes</span><span class="o">=</span><span class="n">enable_fail_indexes</span><span class="p">,</span>
            <span class="n">is_enabled</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;enabled&quot;</span><span class="p">],</span>
            <span class="n">can_insert</span><span class="o">=</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;canInsert&quot;</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.type) {
                    case "function":
                        heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">${doc.signature}:</span>`;
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>